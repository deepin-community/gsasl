<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual was last updated 1 January 2021 for version
1.10.0 of GNU SASL.

Copyright (C) 2002-2021 Simon Josefsson.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled "GNU Free
Documentation License". -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>GNU Simple Authentication and Security Layer 1.10.0</title>

<meta name="description" content="GNU Simple Authentication and Security Layer 1.10.0">
<meta name="keywords" content="GNU Simple Authentication and Security Layer 1.10.0">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="#Top" rel="start" title="Top">
<link href="#Function-and-Data-Index" rel="index" title="Function and Data Index">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="dir.html#Top" rel="up" title="(dir)">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
body {
	margin: 2%;
	padding: 0 5%;
	background: #ffffff;
}
h1,h2,h3,h4,h5 {
    font-weight: bold;
    padding: 5px 5px 5px 5px;
    background-color: #c2e0ff;
    color: #336699;
}
h1 {
    padding: 2em 2em 2em 5%;
    color: white;
    background: #336699;
    text-align: center;
    letter-spacing: 3px;
}
h2 { text-decoration: underline; }
pre {
  margin: 0 5%;
  padding: 0.5em;
}
pre.example {
  border: solid 1px;
  background: #eeeeff;
  padding-bottom: 1em;
}
pre.verbatim {
  border: solid 1px gray;
  background: white;
  padding-bottom: 1em;
}
div.node {
  margin: 0 -5% 0 -2%;
  padding: 0.5em 0.5em;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  font-weight: bold;
}
dd, li {
  padding-top: 0.1em;
  padding-bottom: 0.1em;
}

-->
</style>


</head>

<body lang="en">
<h1 class="settitle" align="center">GNU Simple Authentication and Security Layer 1.10.0</h1>






<a name="SEC_Contents"></a>
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">

<ul class="no-bullet">
  <li><a name="toc-Introduction-1" href="#Introduction">1 Introduction</a>
  <ul class="no-bullet">
    <li><a name="toc-SASL-Overview-1" href="#SASL-Overview">1.1 SASL Overview</a></li>
    <li><a name="toc-Implementation-1" href="#Implementation">1.2 Implementation</a></li>
    <li><a name="toc-Features-1" href="#Features">1.3 Features</a></li>
    <li><a name="toc-Requirements-1" href="#Requirements">1.4 Requirements</a></li>
    <li><a name="toc-Supported-Platforms-1" href="#Supported-Platforms">1.5 Supported Platforms</a></li>
    <li><a name="toc-Getting-help-1" href="#Getting-help">1.6 Getting help</a></li>
    <li><a name="toc-Commercial-Support-1" href="#Commercial-Support">1.7 Commercial Support</a></li>
    <li><a name="toc-Downloading-and-Installing-1" href="#Downloading-and-Installing">1.8 Downloading and Installing</a>
    <ul class="no-bullet">
      <li><a name="toc-Installing-under-Windows-1" href="#Installing-under-Windows">1.8.1 Installing under Windows</a></li>
      <li><a name="toc-Kerberos-on-Windows-1" href="#Kerberos-on-Windows">1.8.2 Kerberos on Windows</a></li>
    </ul></li>
    <li><a name="toc-Bug-Reports-1" href="#Bug-Reports">1.9 Bug Reports</a></li>
    <li><a name="toc-Contributing-1" href="#Contributing">1.10 Contributing</a></li>
  </ul></li>
  <li><a name="toc-Preparation-1" href="#Preparation">2 Preparation</a>
  <ul class="no-bullet">
    <li><a name="toc-Header-1" href="#Header">2.1 Header</a></li>
    <li><a name="toc-Initialization-1" href="#Initialization">2.2 Initialization</a></li>
    <li><a name="toc-Version-Check-1" href="#Version-Check">2.3 Version Check</a></li>
    <li><a name="toc-Building-the-source-1" href="#Building-the-source">2.4 Building the source</a></li>
    <li><a name="toc-Autoconf-tests-1" href="#Autoconf-tests">2.5 Autoconf tests</a>
    <ul class="no-bullet">
      <li><a name="toc-Autoconf-test-via-pkg_002dconfig" href="#Autoconf-test-via-pkg_002dconfig">2.5.1 Autoconf test via &lsquo;<samp>pkg-config</samp>&rsquo;</a></li>
      <li><a name="toc-Standalone-Autoconf-test-using-Libtool" href="#Standalone-Autoconf-test-using-Libtool">2.5.2 Standalone Autoconf test using Libtool</a></li>
    </ul></li>
  </ul></li>
  <li><a name="toc-Using-the-Library-1" href="#Using-the-Library">3 Using the Library</a>
  <ul class="no-bullet">
    <li><a name="toc-Choosing-a-mechanism" href="#Choosing-a-mechanism">3.1 Choosing a mechanism</a></li>
    <li><a name="toc-Using-a-callback" href="#Using-a-callback">3.2 Using a callback</a></li>
  </ul></li>
  <li><a name="toc-Properties-1" href="#Properties">4 Properties</a></li>
  <li><a name="toc-Mechanisms-1" href="#Mechanisms">5 Mechanisms</a>
  <ul class="no-bullet">
    <li><a name="toc-The-EXTERNAL-mechanism" href="#EXTERNAL">5.1 The EXTERNAL mechanism</a></li>
    <li><a name="toc-The-ANONYMOUS-mechanism" href="#ANONYMOUS">5.2 The ANONYMOUS mechanism</a></li>
    <li><a name="toc-The-PLAIN-mechanism" href="#PLAIN">5.3 The PLAIN mechanism</a></li>
    <li><a name="toc-The-LOGIN-mechanism" href="#LOGIN">5.4 The LOGIN mechanism</a></li>
    <li><a name="toc-The-CRAM_002dMD5-mechanism" href="#CRAM_002dMD5">5.5 The CRAM-MD5 mechanism</a></li>
    <li><a name="toc-The-DIGEST_002dMD5-mechanism" href="#DIGEST_002dMD5">5.6 The DIGEST-MD5 mechanism</a></li>
    <li><a name="toc-The-SCRAM-mechanisms" href="#SCRAM">5.7 The SCRAM mechanisms</a></li>
    <li><a name="toc-The-NTLM-mechanism" href="#NTLM">5.8 The NTLM mechanism</a></li>
    <li><a name="toc-The-SECURID-mechanism" href="#SECURID">5.9 The SECURID mechanism</a></li>
    <li><a name="toc-The-GSSAPI-mechanism" href="#GSSAPI">5.10 The GSSAPI mechanism</a></li>
    <li><a name="toc-The-GS2_002dKRB5-mechanism" href="#GS2_002dKRB5">5.11 The GS2-KRB5 mechanism</a></li>
    <li><a name="toc-The-SAML20-mechanism" href="#SAML20">5.12 The SAML20 mechanism</a></li>
    <li><a name="toc-The-OPENID20-mechanism" href="#OPENID20">5.13 The OPENID20 mechanism</a></li>
    <li><a name="toc-The-KERBEROS_005fV5-mechanism" href="#KERBEROS_005fV5">5.14 The KERBEROS_V5 mechanism</a></li>
  </ul></li>
  <li><a name="toc-Global-Functions-1" href="#Global-Functions">6 Global Functions</a></li>
  <li><a name="toc-Callback-Functions-1" href="#Callback-Functions">7 Callback Functions</a></li>
  <li><a name="toc-Property-Functions-1" href="#Property-Functions">8 Property Functions</a></li>
  <li><a name="toc-Session-Functions-1" href="#Session-Functions">9 Session Functions</a></li>
  <li><a name="toc-Utilities-1" href="#Utilities">10 Utilities</a></li>
  <li><a name="toc-Memory-Handling-1" href="#Memory-Handling">11 Memory Handling</a></li>
  <li><a name="toc-Error-Handling-1" href="#Error-Handling">12 Error Handling</a>
  <ul class="no-bullet">
    <li><a name="toc-Error-values-1" href="#Error-values">12.1 Error values</a></li>
    <li><a name="toc-Error-strings-1" href="#Error-strings">12.2 Error strings</a></li>
  </ul></li>
  <li><a name="toc-Examples-1" href="#Examples">13 Examples</a>
  <ul class="no-bullet">
    <li><a name="toc-Example-1-1" href="#Example-1">13.1 Example 1</a></li>
    <li><a name="toc-Example-2-1" href="#Example-2">13.2 Example 2</a></li>
    <li><a name="toc-Example-3-1" href="#Example-3">13.3 Example 3</a></li>
    <li><a name="toc-Example-4-1" href="#Example-4">13.4 Example 4</a></li>
    <li><a name="toc-Example-5-1" href="#Example-5">13.5 Example 5</a></li>
  </ul></li>
  <li><a name="toc-Acknowledgements-1" href="#Acknowledgements">14 Acknowledgements</a></li>
  <li><a name="toc-Invoking-gsasl-1" href="#Invoking-gsasl">15 Invoking gsasl</a></li>
  <li><a name="toc-Protocol-Clarifications-1" href="#Protocol-Clarifications">Appendix A Protocol Clarifications</a>
  <ul class="no-bullet">
    <li><a name="toc-Use-of-SASLprep-in-CRAM_002dMD5-1" href="#Use-of-SASLprep-in-CRAM_002dMD5">A.1 Use of SASLprep in CRAM-MD5</a></li>
    <li><a name="toc-Use-of-SASLprep-in-LOGIN-1" href="#Use-of-SASLprep-in-LOGIN">A.2 Use of SASLprep in LOGIN</a></li>
  </ul></li>
  <li><a name="toc-Old-Functions-1" href="#Old-Functions">Appendix B Old Functions</a>
  <ul class="no-bullet">
    <li><a name="toc-Obsolete-callback-function-prototypes" href="#Obsolete-callback-function-prototypes">B.1 Obsolete callback function prototypes</a></li>
  </ul></li>
  <li><a name="toc-Copying-Information-1" href="#Copying-Information">Appendix C Copying Information</a>
  <ul class="no-bullet">
    <li><a name="toc-GNU-Free-Documentation-License-1" href="#GNU-Free-Documentation-License">C.1 GNU Free Documentation License</a></li>
  </ul></li>
  <li><a name="toc-Function-and-Data-Index-1" href="#Function-and-Data-Index">Function and Data Index</a></li>
  <li><a name="toc-Concept-Index-1" href="#Concept-Index">Concept Index</a></li>
</ul>
</div>


<a name="Top"></a>
<div class="header">
<p>
Next: <a href="#Introduction" accesskey="n" rel="next">Introduction</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="GNU-Simple-Authentication-and-Security-Layer"></a>
<h1 class="top">GNU Simple Authentication and Security Layer</h1>
<p>This manual was last updated 1 January 2021 for version
1.10.0 of GNU SASL.
</p>
<p>Copyright &copy; 2002&ndash;2021 Simon Josefsson.
</p>
<blockquote>
<p>Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
copy of the license is included in the section entitled &ldquo;GNU Free
Documentation License&rdquo;.
</p></blockquote>


<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Introduction" accesskey="1">Introduction</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Information about protocol and implementation.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Preparation" accesskey="2">Preparation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">What you should do before using the library.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Using-the-Library" accesskey="3">Using the Library</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">High level overview of how to use the library.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Properties" accesskey="4">Properties</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">How to specify username, password, etc.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Mechanisms" accesskey="5">Mechanisms</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Mechanism specific information.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Global-Functions" accesskey="6">Global Functions</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Functions that can be used at all times.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Callback-Functions" accesskey="7">Callback Functions</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Set and use callbacks.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Property-Functions" accesskey="8">Property Functions</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Specify username, password etc.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Session-Functions" accesskey="9">Session Functions</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Perform an authentication.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Utilities">Utilities</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Functions for various odd things.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Memory-Handling">Memory Handling</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Memory de-allocation.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Error-Handling">Error Handling</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Error codes and such.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Examples">Examples</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Demonstrate how to use the library.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Acknowledgements">Acknowledgements</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Whom to blame.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Invoking-gsasl">Invoking gsasl</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Command line interface to the library.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Appendices

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Protocol-Clarifications">Protocol Clarifications</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Our notes on the SASL protocol.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Old-Functions">Old Functions</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Descriptions of old API functions.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Copying-Information">Copying Information</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">How you can copy and share GNU SASL.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Indices

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Function-and-Data-Index">Function and Data Index</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Index of functions, variables and data types.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Concept-Index">Concept Index</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Index of concepts and programs.
</td></tr>
</table>

<hr>
<a name="Introduction"></a>
<div class="header">
<p>
Next: <a href="#Preparation" accesskey="n" rel="next">Preparation</a>, Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Introduction-1"></a>
<h2 class="chapter">1 Introduction</h2>

<p>This manual can be used in several ways.  If read from the beginning
to the end, it gives the reader an understanding of the SASL framework
and the GNU SASL implementation, and how the GNU SASL library is used
in an application.  Forward references are included where necessary.
Later on, the manual can be used as a reference manual to get just the
information needed about any particular interface of the library.
Experienced programmers might want to start looking at the examples at
the end of the manual, and then only read up those parts of the
interface which are unclear.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#SASL-Overview" accesskey="1">SASL Overview</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Implementation" accesskey="2">Implementation</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Features" accesskey="3">Features</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Requirements" accesskey="4">Requirements</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Supported-Platforms" accesskey="5">Supported Platforms</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Getting-help" accesskey="6">Getting help</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Commercial-Support" accesskey="7">Commercial Support</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Downloading-and-Installing" accesskey="8">Downloading and Installing</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Bug-Reports" accesskey="9">Bug Reports</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Contributing">Contributing</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="SASL-Overview"></a>
<div class="header">
<p>
Next: <a href="#Implementation" accesskey="n" rel="next">Implementation</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="SASL-Overview-1"></a>
<h3 class="section">1.1 SASL Overview</h3>

<p>SASL is a framework for application protocols, such as SMTP or IMAP,
to add authentication support.  For example, SASL is used to prove to
the server who you are when you access an IMAP server to read your
e-mail.
</p>
<p>The SASL framework does not specify the technology used to perform the
authentication, that is the responsibility for each SASL mechanism.
Popular SASL mechanisms include CRAM-MD5 and GSSAPI (for Kerberos V5).
</p>
<p>Typically a SASL negotiation works as follows.  First the client
requests authentication (possibly implicitly by connecting to the
server).  The server responds with a list of supported mechanisms.
The client chose one of the mechanisms.  The client and server then
exchange data, one round-trip at a time, until authentication either
succeeds or fails.  After that, the client and server knows more about
who is on the other end of the channel.
</p>
<p>For example, in SMTP communication happens like this:
</p>
<div class="smallexample">
<pre class="smallexample">250-mail.example.com Hello pc.example.org [192.168.1.42], pleased to meet you
250-AUTH DIGEST-MD5 CRAM-MD5 LOGIN PLAIN
250 HELP
AUTH CRAM-MD5
334 PDk5MDgwNDEzMDUwNTUyMTE1NDQ5LjBAbG9jYWxob3N0Pg==
amFzIDBkZDRkODZkMDVjNjI4ODRkYzc3OTcwODE4ZGI5MGY3
235 2.0.0 OK Authenticated
</pre></div>

<p>Here the first three lines are sent by the server and contains the
list of supported mechanisms (DIGEST-MD5, CRAM-MD5, etc).  The next
line is sent by the client to select the CRAM-MD5 mechanism.  The
server replies with a challenge, which is a message that can be
generated by calling GNU SASL functions.  The client replies with a
response, which also is a message that can be generated by GNU SASL
functions.  Depending on the mechanism, there can be more than one
round trip, so do not assume all authentication exchanges consists of
one message from the server and one from the client.  The server
accepts the authentication.  At that point it knows it is talking to a
authenticated client, and the application protocol can continue.
</p>
<p>Essentially, your application is responsible for implementing the
framing protocol (e.g., SMTP or XMPP) according to the particular
specifications.  Your application uses GNU SASL to generate the
authentication messages.
</p>
<hr>
<a name="Implementation"></a>
<div class="header">
<p>
Next: <a href="#Features" accesskey="n" rel="next">Features</a>, Previous: <a href="#SASL-Overview" accesskey="p" rel="prev">SASL Overview</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Implementation-1"></a>
<h3 class="section">1.2 Implementation</h3>

<p>GNU SASL is an implementation of the Simple Authentication and
Security Layer framework and a few common SASL mechanisms.
</p>
<p>GNU SASL consists of a library (<code>libgsasl</code>), a command line utility
(<code>gsasl</code>) to access the library from the shell, and a manual.  The
library includes support for the framework (with authentication
functions and application data privacy and integrity functions) and at
least partial support for the ANONYMOUS, CRAM-MD5, DIGEST-MD5, EXTERNAL,
GS2-KRB5, GSSAPI, LOGIN, NTLM, PLAIN, SCRAM-SHA-1, SCRAM-SHA-1-PLUS,
SCRAM-SHA-256, SCRAM-SHA-256-PLUS, SAML20, OPENID20, and SECURID
mechanisms.
</p>
<p>The library is easily ported because it does not do network
communication by itself, but rather leaves it up to the calling
application.  The library is flexible with regards to the
authorization infrastructure used, as it utilizes a callback into the
application to decide whether a user is authorized or not.
</p>
<p>GNU SASL is developed for the GNU/Linux system, but runs on over 20
platforms including most major Unix platforms and Windows, and many
kind of devices including iPAQ handhelds and S/390 mainframes.
</p>
<p>GNU SASL is written in pure ANSI C89 to be portable to embedded and
otherwise limited platforms.  The entire library, with full support
for ANONYMOUS, EXTERNAL, PLAIN, LOGIN and CRAM-MD5, and the front-end
that supports client and server mode, and the IMAP and SMTP protocols,
fits in under 80kb on an Intel x86 platform, without any modifications
to the code.  (This figure was accurate as of version 1.1.)
</p>
<p>The design of the library and the intended interaction between
applications and the library through the official API is illustrated
below.
</p>
<div class="float"><a name="fig_003aabstraction"></a>
<img src="gsasl-abstraction.png" alt="gsasl-abstraction">



<div class="float-caption"><p><strong>Illustration 1.1: </strong>Logical overview showing how applications use authentication
mechanisms through an abstract interface.</p></div></div>
<hr>
<a name="Features"></a>
<div class="header">
<p>
Next: <a href="#Requirements" accesskey="n" rel="next">Requirements</a>, Previous: <a href="#Implementation" accesskey="p" rel="prev">Implementation</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Features-1"></a>
<h3 class="section">1.3 Features</h3>

<p>GNU SASL might have a couple of advantages over other libraries doing
a similar job.
</p>
<dl compact="compact">
<dt>It&rsquo;s Free Software</dt>
<dd><p>Anybody can use, modify, and redistribute it under the terms of the
GNU General Public License version 3.0 or later.  The library uses the
GNU Lesser General Public License version 2.1 or later.
</p>
</dd>
<dt>It&rsquo;s thread-safe</dt>
<dd><p>No global variables are used and multiple library handles and session
handles may be used in parallel.
</p>
</dd>
<dt>It&rsquo;s internationalized</dt>
<dd><p>It handles non-ASCII usernames and passwords and user visible strings
used in the library (error messages) can be translated into the users&rsquo;
language.
</p>
</dd>
<dt>It&rsquo;s portable</dt>
<dd><p>It should work on all Unix like operating systems, including Windows.
The library itself should be portable to any C89 system, not even
POSIX is required.
</p>
</dd>
<dt>It&rsquo;s small</dt>
<dd><p>The library has been rewritten with embedded platforms in mind.  For
example, no API consumes more than around 250 bytes of stack space.
</p>
</dd>
</dl>

<p>Note that the library does not implement any policy to decide whether
a certain user is &ldquo;authenticated&rdquo; or &ldquo;authorized&rdquo; or not.  Rather,
it uses a callback into the application to answer these questions.
</p>
<hr>
<a name="Requirements"></a>
<div class="header">
<p>
Next: <a href="#Supported-Platforms" accesskey="n" rel="next">Supported Platforms</a>, Previous: <a href="#Features" accesskey="p" rel="prev">Features</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Requirements-1"></a>
<h3 class="section">1.4 Requirements</h3>

<p>The GNU SASL library does not have any required external dependencies,
but some optional features are enabled if you have a specific external
library.
</p>
<dl compact="compact">
<dt>LibNTLM</dt>
<dd><p>The NTLM mechanism requires the library LibNTLM,
<a href="http://www.nongnu.org/libntlm/">http://www.nongnu.org/libntlm/</a>.
</p>
</dd>
<dt>GSS-API</dt>
<dd><p>The GSSAPI and GS2-KRB5 mechanisms requires a GSS-API library, see GNU
GSS (<a href="http://www.gnu.org/software/gss/">http://www.gnu.org/software/gss/</a>).  MIT Kerberos or Heimdal
are also supported.
</p>
</dd>
<dt>LibIDN</dt>
<dd><p>Processing of non-ASCII usernames and passwords requires the SASLprep
implementation in LibIDN (<a href="http://www.gnu.org/software/libidn/">http://www.gnu.org/software/libidn/</a>).
This is needed for full conformance with the latest SASL protocol
drafts, but is optional in the library for improved portability.
</p>
</dd>
<dt>Libgcrypt</dt>
<dd><p>The GNU SASL library ships with its own cryptographic implementation,
but it can use the one in libgcrypt (<a href="http://www.gnupg.org/">http://www.gnupg.org/</a>)
instead, if it is available.  This is typically useful for desktop
machines which have libgcrypt installed.
</p></dd>
</dl>

<p>The command-line interface to GNU SASL requires a POSIX or Windows
platform for network connectivity.  The command-line tool can make use
of GnuTLS (<a href="http://www.gnutls.org/">http://www.gnutls.org/</a>) to support the STARTTLS modes
of IMAP and SMTP, but GnuTLS is not required.
</p>
<p>Note that the library does not need a POSIX platform or network
connectivity.
</p>
<hr>
<a name="Supported-Platforms"></a>
<div class="header">
<p>
Next: <a href="#Getting-help" accesskey="n" rel="next">Getting help</a>, Previous: <a href="#Requirements" accesskey="p" rel="prev">Requirements</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Supported-Platforms-1"></a>
<h3 class="section">1.5 Supported Platforms</h3>

<p>GNU SASL has at some point in time been tested on the following
platforms.
</p>
<ol>
<li> Debian GNU/Linux
<a name="index-Debian"></a>

<p>GCC and GNU Make.  This is the main development platform.
<code>x86_64-linux-gnu</code>, <code>alphaev67-unknown-linux-gnu</code>,
<code>alphaev6-unknown-linux-gnu</code>, <code>arm-unknown-linux-gnu</code>,
<code>hppa-unknown-linux-gnu</code>, <code>hppa64-unknown-linux-gnu</code>,
<code>i686-pc-linux-gnu</code>, <code>ia64-unknown-linux-gnu</code>,
<code>m68k-unknown-linux-gnu</code>, <code>mips-unknown-linux-gnu</code>,
<code>mipsel-unknown-linux-gnu</code>, <code>powerpc-unknown-linux-gnu</code>,
<code>s390-ibm-linux-gnu</code>, <code>sparc-unknown-linux-gnu</code>,
<code>armv4l-unknown-linux-gnu</code>.
</p>
</li><li> Tru64 UNIX
<a name="index-Tru64"></a>

<p>Tru64 UNIX C compiler and Tru64 Make. <code>alphaev67-dec-osf5.1</code>,
<code>alphaev68-dec-osf5.1</code>.
</p>
</li><li> SuSE Linux 7.1
<a name="index-SuSE"></a>

<p>GCC 2.96 and GNU Make. <code>alphaev6-unknown-linux-gnu</code>,
<code>alphaev67-unknown-linux-gnu</code>.
</p>
</li><li> SuSE Linux 7.2a
<a name="index-SuSE-Linux"></a>

<p>GCC 3.0 and GNU Make. <code>ia64-unknown-linux-gnu</code>.
</p>
</li><li> RedHat Linux 7.2
<a name="index-RedHat"></a>

<p>GCC 2.96 and GNU Make. <code>alphaev6-unknown-linux-gnu</code>,
<code>alphaev67-unknown-linux-gnu</code>, <code>ia64-unknown-linux-gnu</code>.
</p>
</li><li> RedHat Linux 8.0
<a name="index-RedHat-1"></a>

<p>GCC 3.2 and GNU Make. <code>i686-pc-linux-gnu</code>.
</p>
</li><li> RedHat Advanced Server 2.1
<a name="index-RedHat-Advanced-Server"></a>

<p>GCC 2.96 and GNU Make. <code>i686-pc-linux-gnu</code>.
</p>
</li><li> Slackware Linux 8.0.01
<a name="index-RedHat-2"></a>

<p>GCC 2.95.3 and GNU Make. <code>i686-pc-linux-gnu</code>.
</p>
</li><li> Mandrake Linux 9.0
<a name="index-Mandrake"></a>

<p>GCC 3.2 and GNU Make. <code>i686-pc-linux-gnu</code>.
</p>
</li><li> IRIX 6.5
<a name="index-IRIX"></a>

<p>MIPS C compiler, IRIX Make. <code>mips-sgi-irix6.5</code>.
</p>
</li><li> AIX 4.3.2
<a name="index-AIX"></a>

<p>IBM C for AIX compiler, AIX Make.  <code>rs6000-ibm-aix4.3.2.0</code>.
</p>
</li><li> Microsoft Windows 2000 (Cygwin)
<a name="index-Windows"></a>

<p>GCC 3.2, GNU make. <code>i686-pc-cygwin</code>.
</p>
</li><li> HP-UX 11
<a name="index-HP_002dUX"></a>

<p>HP-UX C compiler and HP Make. <code>ia64-hp-hpux11.22</code>,
<code>hppa2.0w-hp-hpux11.11</code>.
</p>
</li><li> SUN Solaris 2.8
<a name="index-Solaris"></a>

<p>Sun WorkShop Compiler C 6.0 and SUN Make. <code>sparc-sun-solaris2.8</code>.
</p>
</li><li> SUN Solaris 2.9
<a name="index-Solaris-1"></a>

<p>Sun Forte Developer 7 C compiler and GNU
Make. <code>sparc-sun-solaris2.9</code>.
</p>
</li><li> NetBSD 1.6
<a name="index-NetBSD"></a>

<p>GCC 2.95.3 and GNU Make. <code>alpha-unknown-netbsd1.6</code>,
<code>i386-unknown-netbsdelf1.6</code>.
</p>
</li><li> OpenBSD 3.1 and 3.2
<a name="index-OpenBSD"></a>

<p>GCC 2.95.3 and GNU Make. <code>alpha-unknown-openbsd3.1</code>,
<code>i386-unknown-openbsd3.1</code>.
</p>
</li><li> FreeBSD 4.7
<a name="index-FreeBSD"></a>

<p>GCC 2.95.4 and GNU Make. <code>alpha-unknown-freebsd4.7</code>,
<code>i386-unknown-freebsd4.7</code>.
</p>
</li><li> Cross compiled to uClinux/uClibc on Motorola Coldfire.
<a name="index-Motorola-Coldfire"></a>
<a name="index-uClinux"></a>
<a name="index-uClibc"></a>

<p>GCC 3.4 and GNU Make <code>m68k-uclinux-elf</code>.
</p>
</li></ol>

<p>If you port GNU SASL to a new platform, please report it to the author
so this list can be updated.
</p>
<hr>
<a name="Getting-help"></a>
<div class="header">
<p>
Next: <a href="#Commercial-Support" accesskey="n" rel="next">Commercial Support</a>, Previous: <a href="#Supported-Platforms" accesskey="p" rel="prev">Supported Platforms</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Getting-help-1"></a>
<h3 class="section">1.6 Getting help</h3>

<p>A mailing list where users may help each other exists, and you can
reach it by sending e-mail to <a href="mailto:help-gsasl@gnu.org">help-gsasl@gnu.org</a>.  Archives
of the mailing list discussions, and an interface to manage
subscriptions, is available through the World Wide Web at
<a href="http://lists.gnu.org/mailman/listinfo/help-gsasl/">http://lists.gnu.org/mailman/listinfo/help-gsasl/</a>.
</p>
<hr>
<a name="Commercial-Support"></a>
<div class="header">
<p>
Next: <a href="#Downloading-and-Installing" accesskey="n" rel="next">Downloading and Installing</a>, Previous: <a href="#Getting-help" accesskey="p" rel="prev">Getting help</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Commercial-Support-1"></a>
<h3 class="section">1.7 Commercial Support</h3>

<p>Commercial support is available for users of GNU SASL.  The kind of
support that can be purchased may include:
</p>
<ul>
<li> Implement new features.
Such as a new SASL mechanism.

</li><li> Port GNU SASL to new platforms.
This could include porting to an embedded platforms that may need
memory or size optimization.

</li><li> Integrating SASL as a security environment in your existing project.

</li><li> System design of components related to SASL.

</li></ul>

<p>The following companies have expressed an interest in providing this
support:
</p>
<ul>
<li> Simon Josefsson Datakonsult AB

<p>Contact through <a href="https://josefsson.org/">https://josefsson.org/</a> and email
<a href="mailto:simon@josefsson.org">simon@josefsson.org</a>.
</p>
</li></ul>

<p>If your company provides support related to GNU SASL and would like to
be mentioned here, please let us know (see <a href="#Bug-Reports">Bug Reports</a>).
</p>
<hr>
<a name="Downloading-and-Installing"></a>
<div class="header">
<p>
Next: <a href="#Bug-Reports" accesskey="n" rel="next">Bug Reports</a>, Previous: <a href="#Commercial-Support" accesskey="p" rel="prev">Commercial Support</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Downloading-and-Installing-1"></a>
<h3 class="section">1.8 Downloading and Installing</h3>
<a name="index-Installation"></a>
<a name="index-Download"></a>

<p>The package can be downloaded from several places, including:
</p>
<p><a href="ftp://ftp.gnu.org/gnu/gsasl/">ftp://ftp.gnu.org/gnu/gsasl/</a>
</p>
<p>The latest version is stored in a file, e.g.,
&lsquo;<samp>gsasl-1.10.0.tar.gz</samp>&rsquo; where the &lsquo;<samp>1.10.0</samp>&rsquo;
value is the highest version number in the directory.
</p>
<p>The package is then extracted, configured and built like many other
packages that use Autoconf.  For detailed information on configuring
and building it, refer to the <samp>INSTALL</samp> file that is part of the
distribution archive.
</p>
<p>Here is an example terminal session that downloads, configures, builds
and install the package.  You will need a few basic tools, such as
&lsquo;<samp>sh</samp>&rsquo;, &lsquo;<samp>make</samp>&rsquo; and &lsquo;<samp>cc</samp>&rsquo;.
</p>
<div class="example">
<pre class="example">$ wget -q ftp://ftp.gnu.org/gnu/gsasl/gsasl-1.10.0.tar.gz
$ tar xfz gsasl-1.10.0.tar.gz
$ cd gsasl-1.10.0/
$ ./configure
...
$ make
...
$ make install
...
</pre></div>

<p>After that gsasl should be properly installed and ready for use.
</p>
<p>A few <code>configure</code> options may be relevant, summarized in the
table.
</p>
<dl compact="compact">
<dt><code>--disable-client</code></dt>
<dt><code>--disable-server</code></dt>
<dd><p>If your target system require a minimal implementation, you may wish
to disable the client or the server part of the code.  This does not
remove symbols from the library, so if you attempt to call an
application that uses server functions in a library built with
<code>--disable-server</code>, the function will return an error code.
</p>
</dd>
<dt><code>--disable-obsolete</code></dt>
<dd><p>Remove backwards compatibility (see <a href="#Old-Functions">Old Functions</a>).  Use if you
want to limit the size of the library.
</p>
</dd>
<dt><code>--disable-anonymous</code></dt>
<dt><code>--disable-external</code></dt>
<dt><code>--disable-plain</code></dt>
<dt><code>--disable-login</code></dt>
<dt><code>--disable-securid</code></dt>
<dt><code>--disable-ntlm</code></dt>
<dt><code>--disable-cram-md5</code></dt>
<dt><code>--disable-digest-md5</code></dt>
<dt><code>--disable-gssapi</code></dt>
<dt><code>--disable-gs2</code></dt>
<dt><code>--enable-kerberos_v5</code></dt>
<dt><code>--disable-scram-sha1</code></dt>
<dt><code>--disable-scram-sha256</code></dt>
<dt><code>--disable-saml20</code></dt>
<dt><code>--disable-openid20</code></dt>
<dd><p>Disable or enable individual mechanisms (see <a href="#Mechanisms">Mechanisms</a>).
</p>
</dd>
<dt><code>--without-stringprep</code></dt>
<dd><p>Disable internationalized string processing.  Note that this will result
in a SASL library that is compatible with RFC 2222 but not RFC 4422.
</p>
</dd>
</dl>

<p>For the complete list, refer to the output from <code>configure
--help</code>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Installing-under-Windows" accesskey="1">Installing under Windows</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Windows specific build instructions.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Kerberos-on-Windows" accesskey="2">Kerberos on Windows</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Building with Kerberos via GSS-API on Windows.
</td></tr>
</table>

<hr>
<a name="Installing-under-Windows"></a>
<div class="header">
<p>
Next: <a href="#Kerberos-on-Windows" accesskey="n" rel="next">Kerberos on Windows</a>, Up: <a href="#Downloading-and-Installing" accesskey="u" rel="up">Downloading and Installing</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Installing-under-Windows-1"></a>
<h4 class="subsection">1.8.1 Installing under Windows</h4>

<p>There are two ways to build GNU SASL on Windows: via MinGW or via
Microsoft Visual Studio.  Note that a binary release for Windows is
available from <a href="http://josefsson.org/gnutls4win/">http://josefsson.org/gnutls4win/</a>.
</p>
<p>With MinGW, you can build a GNU SASL DLL and use it from other
applications.  After installing MinGW (<a href="http://mingw.org/">http://mingw.org/</a>) follow
the generic installation instructions (see <a href="#Downloading-and-Installing">Downloading and Installing</a>).  The DLL is installed by default.
</p>
<p>For information on how to use the DLL in other applications, see:
<a href="http://www.mingw.org/mingwfaq.shtml#faq-msvcdll">http://www.mingw.org/mingwfaq.shtml#faq-msvcdll</a>.
</p>
<p>You can build GNU SASL as a native Visual Studio C++ project.  This
allows you to build the code for other platforms that VS supports,
such as Windows Mobile.  You need Visual Studio 2005 or later.
</p>
<p>First download and unpack the archive as described in the generic
installation instructions (see <a href="#Downloading-and-Installing">Downloading and Installing</a>).  Don&rsquo;t
run <code>./configure</code>.  Instead, start Visual Studio and open the
project file <samp>lib/win32/libgsasl.sln</samp> inside the GNU SASL
directory.  You should be able to build the project using Build
Project.
</p>
<p>Output libraries will be written into the <code>lib/win32/lib</code> (or
<code>lib/win32/lib/debug</code> for Debug versions) folder.
</p>
<p>Warning!  Unless you build GNU SASL linked with libgcrypt, GNU SASL
uses the Windows function <code>CryptGenRandom</code> for generating
cryptographic random data.  The function is known to have some
security weaknesses.  See <a href="http://eprint.iacr.org/2007/419">http://eprint.iacr.org/2007/419</a> for
more information.  The code will attempt to use the Intel RND crypto
provider if it is installed, see <samp>lib/gl/gc-gnulib.c</samp>.
</p>
<hr>
<a name="Kerberos-on-Windows"></a>
<div class="header">
<p>
Previous: <a href="#Installing-under-Windows" accesskey="p" rel="prev">Installing under Windows</a>, Up: <a href="#Downloading-and-Installing" accesskey="u" rel="up">Downloading and Installing</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Kerberos-on-Windows-1"></a>
<h4 class="subsection">1.8.2 Kerberos on Windows</h4>

<p>Building GNU SASL with support for Kerberos via GSS-API on Windows is
straight forward if you use GNU GSS and GNU Shishi as the Kerberos
implementation.
</p>
<p>If you are using MIT Kerberos for Windows (KfW), getting GNU SASL to
build with Kerberos support is not straightforward because KfW does
not follow the GNU coding style and it has bugs that needs to be
worked around.  We provide instructions for this environment as well,
in the hope that it will be useful for GNU SASL users.
</p>
<p>Our instructions assumes you are building the software on a dpkg-based
GNU/Linux systems (e.g., gNewSense) using the MinGW cross-compiler
suite.  These instructions were compiled for KfW version 3.2.2 which
were the latest as of 2010-09-25.
</p>
<p>We assume that you have installed a normal build environment including
the MinGW cross-compiler.  Download and unpack the KfW SDK like this:
</p>
<div class="example">
<pre class="example">$ mkdir ~/kfw
$ cd ~/kfw
$ wget -q http://web.mit.edu/kerberos/dist/kfw/3.2/kfw-3.2.2/kfw-3-2-2-sdk.zip
$ unzip kfw-3-2-2-sdk.zip
</pre></div>

<p>Fix a bug in the &quot;win-mac.h&quot; header inside KfW by replacing
<code>#include &lt;sys\foo.h&gt;</code> with <code>#include &lt;sys/foo.h&gt;</code>:
</p>
<div class="example">
<pre class="example">perl -pi -e 's,sys\\,sys/,' ~/kfw/kfw-3-2-2-final/inc/krb5/win-mac.h
</pre></div>

<p>Unpack your copy of GNU SASL:
</p>
<div class="example">
<pre class="example">$ wget -q ftp://alpha.gnu.org/gnu/gsasl/gsasl-1.10.0.tar.gz
$ tar xfz gsasl-1.10.0.tar.gz
$ cd gsasl-1.10.0
</pre></div>

<p>Configure GNU SASL like this:
</p>
<div class="example">
<pre class="example">$ lt_cv_deplibs_check_method=pass_all ./configure --host=i586-mingw32msvc --build=i686-pc-linux-gnu --with-gssapi-impl=kfw LDFLAGS=&quot;-L$HOME/kfw/kfw-3-2-2-final/lib/i386&quot; CPPFLAGS=&quot;-I$HOME/kfw/kfw-3-2-2-final/inc/krb5 -DSSIZE_T_DEFINED&quot;
</pre></div>

<p>The &rsquo;lt_cv_deplibs_check_method=pass_all&rsquo; setting is required because
the KfW SDK does not ship with Libtool <code>*.la</code> files and is using
non-standard DLL names.  The <code>-DSSIZE_T_DEFINED</code> is necessary
because the <code>win-mac.h</code> file would provide an incorrect duplicate
definitions of <code>ssize_t</code> otherwise.  By passing
<code>--with-gssapi-impl=kfw</code> you activate other bug workarounds, such
as providing a <code>GSS_C_NT_HOSTBASED_SERVICE</code> symbol.
</p>
<p>Build the software using:
</p>
<div class="example">
<pre class="example">$ make
</pre></div>

<p>If you have Wine installed and your kernel is able to invoke it
automatically for Windows programs, you can run the self tests.  This
is recommended to make sure the build is sane.
</p>
<div class="example">
<pre class="example">$ make check
</pre></div>

<p>You may get error messages about missing DLLs, like this error:
</p>
<div class="example">
<pre class="example">err:module:import_dll Library gssapi32.dll (which is needed by L&quot;Z:\\home\\jas\\src\\gsasl-1.5.2\\lib\\src\\.libs\\libgsasl-7.dll&quot;) not found
</pre></div>

<p>If that happens, you need to make sure that Wine can find the
appropriate DLL.  The simplest solution is to copy the necessary DLLs
to <code>~/.wine/drive_c/windows/system32/</code>.
</p>
<p>You may now copy the following files onto the Windows machine (e.g.,
through a USB memory device):
</p>
<div class="example">
<pre class="example">lib/src/.libs/libgsasl-7.dll
src/.libs/gsasl.exe
</pre></div>

<p>The remaining steps are done on the Windows XP machine.  Install KfW
and configure it for your realm.  To make sure KfW is working
properly, acquire a user ticket and then remove it.  For testing
purposes, you may use the realm &rsquo;interop.josefsson.org&rsquo; with KDC
&rsquo;interop.josefsson.org&rsquo; and username &rsquo;user&rsquo; and password &rsquo;pass&rsquo;.
</p>
<p>Change to the directory where you placed the files above, and invoke a
command like this:
</p>
<div class="example">
<pre class="example">gsasl.exe -d interop.josefsson.org
</pre></div>

<p>KfW should query you for a password, and the tool should negotiate
authentication against the server using GS2-KRB5.
</p>
<hr>
<a name="Bug-Reports"></a>
<div class="header">
<p>
Next: <a href="#Contributing" accesskey="n" rel="next">Contributing</a>, Previous: <a href="#Downloading-and-Installing" accesskey="p" rel="prev">Downloading and Installing</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Bug-Reports-1"></a>
<h3 class="section">1.9 Bug Reports</h3>
<a name="index-Reporting-Bugs"></a>

<p>If you think you have found a bug in GNU SASL, please investigate it
and report it.
</p>
<ul>
<li> Please make sure that the bug is really in GNU SASL, and
preferably also check that it hasn&rsquo;t already been fixed in the latest
version.

</li><li> You have to send us a test case that makes it possible for us to
reproduce the bug.

</li><li> You also have to explain what is wrong; if you get a crash, or
if the results printed are not good and in that case, in what way.
Make sure that the bug report includes all information you would need
to fix this kind of bug for someone else.

</li></ul>

<p>Please make an effort to produce a self-contained report, with
something definite that can be tested or debugged.  Vague queries or
piecemeal messages are difficult to act on and don&rsquo;t help the
development effort.
</p>
<p>If your bug report is good, we will do our best to help you to get a
corrected version of the software; if the bug report is poor, we won&rsquo;t
do anything about it (apart from asking you to send better bug
reports).
</p>
<p>If you think something in this manual is unclear, or downright
incorrect, or if the language needs to be improved, please also send a
note.
</p>
<p>Send your bug report to:
</p>
<div align="center">&lsquo;<samp>bug-gsasl@gnu.org</samp>&rsquo;
</div>
<hr>
<a name="Contributing"></a>
<div class="header">
<p>
Previous: <a href="#Bug-Reports" accesskey="p" rel="prev">Bug Reports</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Contributing-1"></a>
<h3 class="section">1.10 Contributing</h3>
<a name="index-Contributing"></a>
<a name="index-Hacking"></a>

<p>If you want to submit a patch for inclusion &ndash; from solve a typo you
discovered, up to adding support for a new feature &ndash; you should
submit it as a bug report (see <a href="#Bug-Reports">Bug Reports</a>).  There are some
things that you can do to increase the chances for it to be included
in the official package.
</p>
<p>Unless your patch is very small (say, under 10 lines) we require that
you assign the copyright of your work to the Free Software Foundation.
This is to protect the freedom of the project.  If you have not
already signed papers, we will send you the necessary information when
you submit your contribution.
</p>
<p>For contributions that doesn&rsquo;t consist of actual programming code, the
only guidelines are common sense.  Use it.
</p>
<p>For code contributions, a number of style guides will help you:
</p>
<ul>
<li> Coding Style.
Follow the GNU Standards document (see <a href="http://www.gnu.org/prep/standards/standards.html#Top">(standards)GNU Coding Standards</a>).

<p>If you normally code using another coding standard, there is no
problem, but you should use &lsquo;<samp>indent</samp>&rsquo; to reformat the code
(see <a href="indent.html#Top">(indent)GNU Indent</a>) before submitting your work.
</p>
</li><li> Use the unified diff format &lsquo;<samp>diff -u</samp>&rsquo;.

</li><li> Return errors.
No reason whatsoever should abort the execution of the library.  Even
memory allocation errors, e.g. when <code>malloc</code> return <code>NULL</code>,
should work although result in an error code.

</li><li> Design with thread safety in mind.
Don&rsquo;t use global variables.  Don&rsquo;t even write to per-handle global
variables unless the documented behaviour of the function you write is
to write to the per-handle global variable.

</li><li> Avoid using the C math library.
It causes problems for embedded implementations, and in most
situations it is very easy to avoid using it.

</li><li> Document your functions.
Use comments before each function headers, that, if properly
formatted, are extracted into Texinfo manuals and GTK-DOC web pages.

</li><li> Supply a ChangeLog and NEWS entries, where appropriate.

</li></ul>

<hr>
<a name="Preparation"></a>
<div class="header">
<p>
Next: <a href="#Using-the-Library" accesskey="n" rel="next">Using the Library</a>, Previous: <a href="#Introduction" accesskey="p" rel="prev">Introduction</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Preparation-1"></a>
<h2 class="chapter">2 Preparation</h2>

<p>To use GNU SASL, you have to perform some changes to your sources and
the build system.  The necessary changes are small and explained in
the following sections.  At the end of this chapter, it is described
how the library is initialized, and how the requirements of the
library are verified.
</p>
<p>A faster way to find out how to adapt your application for use with
GNU SASL may be to look at the examples at the end of this manual
(see <a href="#Examples">Examples</a>).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Header" accesskey="1">Header</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initialization" accesskey="2">Initialization</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Version-Check" accesskey="3">Version Check</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Building-the-source" accesskey="4">Building the source</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Autoconf-tests" accesskey="5">Autoconf tests</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="Header"></a>
<div class="header">
<p>
Next: <a href="#Initialization" accesskey="n" rel="next">Initialization</a>, Up: <a href="#Preparation" accesskey="u" rel="up">Preparation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Header-1"></a>
<h3 class="section">2.1 Header</h3>

<p>All interfaces (data types and functions) of the library are defined
in the header file <code>gsasl.h</code>.  You must include this in all
programs using the library, either directly or through some other
header file, like this:
</p>
<div class="example">
<pre class="example">#include &lt;gsasl.h&gt;
</pre></div>

<p>The name space is <code>gsasl_*</code> for function names, <code>Gsasl*</code> for
data types and <code>GSASL_*</code> for other symbols.  In addition the same
name prefixes with one prepended underscore are reserved for internal
use and should never be used by an application.
</p>
<hr>
<a name="Initialization"></a>
<div class="header">
<p>
Next: <a href="#Version-Check" accesskey="n" rel="next">Version Check</a>, Previous: <a href="#Header" accesskey="p" rel="prev">Header</a>, Up: <a href="#Preparation" accesskey="u" rel="up">Preparation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Initialization-1"></a>
<h3 class="section">2.2 Initialization</h3>

<p>The library must be initialized before it can be used.  The library is
initialized by calling <code>gsasl_init</code> (see <a href="#Global-Functions">Global Functions</a>).
The resources allocated by the initialization process can be released
if the application no longer has a need to call &lsquo;Libgsasl&rsquo; functions,
this is done by calling <code>gsasl_done</code>.  For example:
</p>
<div class="example">
<pre class="example">int
main (int argc, char *argv[])
{
  Gsasl *ctx = NULL;
  int rc;
...
  rc = gsasl_init (&amp;ctx);
  if (rc != GSASL_OK)
    {
      printf (&quot;SASL initialization failure (%d): %s\n&quot;,
              rc, gsasl_strerror (rc));
      return 1;
    }
...
</pre></div>

<p>In order to make error messages from <code>gsasl_strerror</code> be
translated (see <cite><a href="http://www.gnu.org/software/gettext/manual/gettext.html#Top">GNU Gettext</a></cite>) the application must
set the current locale using <code>setlocale</code> before calling
<code>gsasl_init</code>.  For example:
</p>
<div class="example">
<pre class="example">int
main (int argc, char *argv[])
{
  Gsasl *ctx = NULL;
  int rc;
...
  setlocale (LC_ALL, &quot;&quot;);
...
  rc = gsasl_init (&amp;ctx);
  if (rc != GSASL_OK)
    {
      printf (gettext (&quot;SASL initialization failure (%d): %s\n&quot;),
              rc, gsasl_strerror (rc));
      return 1;
    }
...
</pre></div>

<p>In order to take advantage of the secure memory features in
Libgcrypt<a name="DOCF1" href="#FOOT1"><sup>1</sup></a>, you
need to initialize secure memory in your application, and for some
platforms even make your application setuid root.  See the Libgcrypt
documentation for more information.  Here is example code to
initialize secure memory in your code:
</p>
<div class="example">
<pre class="example">#include &lt;gcrypt.h&gt;
...
int
main (int argc, char *argv[])
{
  Gsasl *ctx = NULL;
  int rc;
...
  /* Check version of libgcrypt. */
  if (!gcry_check_version (GCRYPT_VERSION))
    die (&quot;version mismatch\n&quot;);

  /* Allocate a pool of 16k secure memory.  This also drops priviliges
     on some systems. */
  gcry_control (GCRYCTL_INIT_SECMEM, 16384, 0);

  /* Tell Libgcrypt that initialization has completed. */
  gcry_control (GCRYCTL_INITIALIZATION_FINISHED, 0);
...
  rc = gsasl_init (&amp;ctx);
  if (rc != GSASL_OK)
    {
      printf (&quot;SASL initialization failure (%d): %s\n&quot;,
              rc, gsasl_strerror (rc));
      return 1;
    }
...
</pre></div>

<p>If you do not do this, keying material will not be allocated in secure
memory (which, for most applications, is not the biggest secure
problem anyway).  Note that the GNU SASL Library has not been audited
to make sure it stores passwords or keys in secure memory.
</p>
<hr>
<a name="Version-Check"></a>
<div class="header">
<p>
Next: <a href="#Building-the-source" accesskey="n" rel="next">Building the source</a>, Previous: <a href="#Initialization" accesskey="p" rel="prev">Initialization</a>, Up: <a href="#Preparation" accesskey="u" rel="up">Preparation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Version-Check-1"></a>
<h3 class="section">2.3 Version Check</h3>

<p>It is often desirable to check that the version of the library used is
indeed one which fits all requirements.  Even with binary
compatibility, new features may have been introduced but, due to
problem with the dynamic linker, an old version may actually be used.
So you may want to check that the version is okay right after program
startup.
</p>
<a name="gsasl_005fcheck_005fversion-1"></a>
<h4 class="subheading">gsasl_check_version</h4>
<a name="gsasl_005fcheck_005fversion"></a><dl>
<dt><a name="index-gsasl_005fcheck_005fversion"></a>Function: <em>const char *</em> <strong>gsasl_check_version</strong> <em>(const char * <var>req_version</var>)</em></dt>
<dd><p><var>req_version</var>: version string to compare with, or NULL.
</p>
<p>Check GNU SASL Library version.
</p>
<p>See <code>GSASL_VERSION</code>  for a suitable  <code>req_version</code> string.
</p>
<p>This function is one of few in the library that can be used without
a successful call to <code>gsasl_init()</code> .
</p>
<p>Return value: Check that the version of the library is at
minimum the one given as a string in  <code>req_version</code> and return the
actual version string of the library; return NULL if the
condition is not met.  If NULL is passed to this function no
check is done and only the version string is returned.
</p></dd></dl>


<p>The normal way to use the function is to put something similar to the
following early in your <code>main</code>:
</p>
<div class="example">
<pre class="example">  if (!gsasl_check_version (GSASL_VERSION))
    {
      printf (&quot;gsasl_check_version failed:\n&quot;
              &quot;Header file incompatible with shared library.\n&quot;);
      exit(1);
    }
</pre></div>

<hr>
<a name="Building-the-source"></a>
<div class="header">
<p>
Next: <a href="#Autoconf-tests" accesskey="n" rel="next">Autoconf tests</a>, Previous: <a href="#Version-Check" accesskey="p" rel="prev">Version Check</a>, Up: <a href="#Preparation" accesskey="u" rel="up">Preparation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Building-the-source-1"></a>
<h3 class="section">2.4 Building the source</h3>
<a name="index-Compiling-your-application"></a>

<p>If you want to compile a source file including the <samp>gsasl.h</samp>
header file, you must make sure that the compiler can find it in the
directory hierarchy.  This is accomplished by adding the path to the
directory in which the header file is located to the compilers include
file search path (via the <samp>-I</samp> option).
</p>
<p>However, the path to the include file is determined at the time the
source is configured.  To solve this problem, the library uses the
external package <code>pkg-config</code> that knows the path to the
include file and other configuration options.  The options that need
to be added to the compiler invocation at compile time are output by
the <samp>--cflags</samp> option to <code>pkg-config libgsasl</code>.  The
following example shows how it can be used at the command line:
</p>
<div class="example">
<pre class="example">gcc -c foo.c `pkg-config libgsasl --cflags`
</pre></div>

<p>Adding the output of &lsquo;<samp>pkg-config libgsasl --cflags</samp>&rsquo; to the
compiler command line will ensure that the compiler can find the
<samp>gsasl.h</samp> header file.
</p>
<p>A similar problem occurs when linking the program with the library.
Again, the compiler has to find the library files.  For this to work,
the path to the library files has to be added to the library search
path (via the <samp>-L</samp> option).  For this, the option
<samp>--libs</samp> to <code>pkg-config libgsasl</code> can be used.  For
convenience, this option also outputs all other options that are
required to link the program with the library (for instance, the
&lsquo;<samp>-lidn</samp>&rsquo; option).  The example shows how to link <samp>foo.o</samp> with
the library to a program <code>foo</code>.
</p>
<div class="example">
<pre class="example">gcc -o foo foo.o `pkg-config libgsasl --libs`
</pre></div>

<p>Of course you can also combine both examples to a single command by
specifying both options to <code>pkg-config</code>:
</p>
<div class="example">
<pre class="example">gcc -o foo foo.c `pkg-config libgsasl --cflags --libs`
</pre></div>

<hr>
<a name="Autoconf-tests"></a>
<div class="header">
<p>
Previous: <a href="#Building-the-source" accesskey="p" rel="prev">Building the source</a>, Up: <a href="#Preparation" accesskey="u" rel="up">Preparation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Autoconf-tests-1"></a>
<h3 class="section">2.5 Autoconf tests</h3>
<a name="index-Autoconf-tests"></a>
<a name="index-Configure-tests"></a>

<p>If you work on a project that uses Autoconf (see <a href="http://www.gnu.org/software/autoconf/manual/autoconf.html#Top">(autoconf)GNU
Autoconf</a>) to help find installed libraries, the
suggestions in the previous section are not the entire story.  There
are a few methods to detect and incorporate the GNU SASL Library into
your Autoconf based package.  The preferred approach, is to use
Libtool in your project, and use the normal Autoconf header file and
library tests.
</p>
<a name="Autoconf-test-via-pkg_002dconfig"></a>
<h4 class="subsection">2.5.1 Autoconf test via &lsquo;<samp>pkg-config</samp>&rsquo;</h4>

<p>If your audience is a typical GNU/Linux desktop, you can often assume
they have the &lsquo;<samp>pkg-config</samp>&rsquo; tool installed, in which you can use
its Autoconf M4 macro to find and set up your package for use with
Libgsasl.  The following example illustrates this scenario.
</p>
<div class="example">
<pre class="example">AC_ARG_ENABLE(gsasl,
  AC_HELP_STRING([--disable-gsasl], [don't use GNU SASL]),
  gsasl=$enableval)
if test &quot;$gsasl&quot; != &quot;no&quot; ; then
  PKG_CHECK_MODULES(GSASL, libgsasl &gt;= 1.10.0,
    [gsasl=yes],
    [gsasl=no])
  if test &quot;$gsasl&quot; != &quot;yes&quot; ; then
    gsasl=no
    AC_MSG_WARN([Cannot find GNU SASL, disabling])
  else
    gsasl=yes
    AC_DEFINE(USE_GSASL, 1, [Define to 1 if you want GNU SASL.])
  fi
fi
AC_MSG_CHECKING([if GNU SASL should be used])
AC_MSG_RESULT($gsasl)
</pre></div>

<a name="Standalone-Autoconf-test-using-Libtool"></a>
<h4 class="subsection">2.5.2 Standalone Autoconf test using Libtool</h4>

<p>If your package uses Libtool (see <a href="http://www.gnu.org/software/libtool/manual/libtool.html#Top">(libtool)GNU Libtool</a>), you
can use the normal Autoconf tests to find Libgsasl and rely on the
Libtool dependency tracking to include the proper dependency libraries
(e.g., Libidn).  The following example illustrates this scenario.
</p>
<div class="example">
<pre class="example">AC_CHECK_HEADER(gsasl.h,
  AC_CHECK_LIB(gsasl, gsasl_check_version,
    [gsasl=yes AC_SUBST(GSASL_LIBS, -lgsasl)],
    gsasl=no),
  gsasl=no)
AC_ARG_ENABLE(gsasl,
  AC_HELP_STRING([--disable-gsasl], [don't use GNU SASL]),
  gsasl=$enableval)
if test &quot;$gsasl&quot; != &quot;no&quot; ; then
  AC_DEFINE(USE_SASL, 1, [Define to 1 if you want GNU SASL.])
else
  AC_MSG_WARN([Cannot find GNU SASL, diabling])
fi
AC_MSG_CHECKING([if GNU SASL should be used])
AC_MSG_RESULT($gsasl)
</pre></div>

<hr>
<a name="Using-the-Library"></a>
<div class="header">
<p>
Next: <a href="#Properties" accesskey="n" rel="next">Properties</a>, Previous: <a href="#Preparation" accesskey="p" rel="prev">Preparation</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Using-the-Library-1"></a>
<h2 class="chapter">3 Using the Library</h2>
<a name="index-Overview"></a>
<a name="index-Library-Overview"></a>

<p>Your application&rsquo;s use of the library can be roughly modeled into the
following steps: initialize the library, optionally specify the
callback, perform the authentication, and finally clean up.  The
following image illustrates this.
</p>
<img src="gsasl-controlflow.png" alt="gsasl-controlflow">

<p>The third step may look complex, but for a simple client it will
actually not involve any code.  If your application needs to handle
several concurrent clients, or if it is a server that needs to serve
many clients simultaneous, things do get a bit more complicated.
</p>
<p>For illustration, we will write a simple client.  Writing a server
would be similar, the only difference is that, later on, instead of
supplying a username and password, you need to decide whether someone
should be allowed to log in or not.  The code for what we have
discussed so far make up the <code>main</code> function in our client
(see <a href="#Example-1">Example 1</a>):
</p>
<div class="example">
<pre class="example">int main (int argc, char *argv[])
{
  Gsasl *ctx = NULL;
  int rc;

  if ((rc = gsasl_init (&amp;ctx)) != GSASL_OK)
    {
      printf (&quot;Cannot initialize libgsasl (%d): %s&quot;,
              rc, gsasl_strerror (rc));
      return 1;
    }

  client (ctx);

  gsasl_done (ctx);

  return 0;
}
</pre></div>

<p>Here, the call to the function <code>client</code> correspond to the third
step in the image above.
</p>
<p>For a more complicated application, having several clients running
simultaneous, instead of a simple call to <code>client</code>, it may have
created new threads for each session, and call <code>client</code> within
each thread.  The library is thread safe.
</p>
<p>An actual authentication session is more complicated than what we have
seen so far.  These are the steps: decide which mechanism to use,
start the session, optionally specify the callback, optionally set any
properties, perform the authentication loop, and clean up.  Naturally,
your application will start to talk its own protocol (e.g., SMTP or
IMAP) after these steps have concluded.
</p>
<p>The authentication loop is based on sending tokens (typically short
messages encoded in base 64) back and forth between the client and
server.  It continues until authentication succeeds or an error
occurs.  The format of the data to be transferred, the number of
iterations in the loop, and other details are specified by each
mechanism.  The goal of the library is to isolate your application
from the details of all different mechanisms.
</p>
<p>Note that the library does not send data to the server itself, but
returns it in an buffer.  You must send it to the server, following an
application protocol profile.  For example, the SASL application
protocol profile for SMTP is described in RFC 2554.
</p>
<p>The following image illustrates the steps we have been talking about.
</p>
<img src="gsasl-controlflow2.png" alt="gsasl-controlflow2">

<p>We will now show the implementation of the <code>client</code> function used
before.
</p>
<div class="example">
<pre class="example">void client (Gsasl *ctx)
{
  Gsasl_session *session;
  const char *mech = &quot;PLAIN&quot;;
  int rc;

  /* Create new authentication session. */
  if ((rc = gsasl_client_start (ctx, mech, &amp;session)) != GSASL_OK)
    {
      printf (&quot;Cannot initialize client (%d): %s\n&quot;,
              rc, gsasl_strerror (rc));
      return;
    }

  /* Set username and password in session handle.  This info will be
     lost when this session is deallocated below.  */
  gsasl_property_set (session, GSASL_AUTHID, &quot;jas&quot;);
  gsasl_property_set (session, GSASL_PASSWORD, &quot;secret&quot;);

  /* Do it. */
  client_authenticate (session);

  /* Cleanup. */
  gsasl_finish (session);
}
</pre></div>

<p>This function is responsible for deciding which mechanism to use.  In
this case, the &lsquo;<samp>PLAIN</samp>&rsquo; mechanism is hard coded, but you will see
later how this can be made more flexible.  The function creates a new
session, then it stores the username and password in the session
handle, then it calls another function <code>client_authenticate</code> to
handle the authentication loop, and finally it cleans up up.  Let&rsquo;s
continue with the implementation of <code>client_authenticate</code>.
</p>
<div class="example">
<pre class="example">void client_authenticate (Gsasl_session * session)
{
  char buf[BUFSIZ] = &quot;&quot;;
  char *p;
  int rc;

  /* This loop mimics a protocol where the server sends data
     first. */

  do
    {
      printf (&quot;Input base64 encoded data from server:\n&quot;);
      fgets (buf, sizeof (buf) - 1, stdin);
      if (buf[strlen (buf) - 1] == '\n')
        buf[strlen (buf) - 1] = '\0';

      rc = gsasl_step64 (session, buf, &amp;p);

      if (rc == GSASL_NEEDS_MORE || rc == GSASL_OK)
        {
          printf (&quot;Output:\n%s\n&quot;, p);
          free (p);
        }
    }
  while (rc == GSASL_NEEDS_MORE);

  printf (&quot;\n&quot;);

  if (rc != GSASL_OK)
    {
      printf (&quot;Authentication error (%d): %s\n&quot;,
              rc, gsasl_strerror (rc));
      return;
    }

  /* The client is done.  Here you would typically check if the
     server let the client in.  If not, you could try again. */

  printf (&quot;If server accepted us, we're done.\n&quot;);
}
</pre></div>

<p>This last function needs to be discussed in some detail.  First, you
should be aware that there are two versions of this function, that
differ in a subtle way.  The version above (see <a href="#Example-2">Example 2</a>) is used
for application profiles where the server sends data first.  For some
mechanisms, this may waste a roundtrip, because the server needs input
from the client to proceed.  Therefor, today the recommended approach
is to permit client to send data first (see <a href="#Example-1">Example 1</a>).  Which
version you should use depends on which application protocol you are
implementing.
</p>
<p>Further, you should realize that it is bad programming style to use a
fixed size buffer.  On GNU systems, you may use the <code>getline</code>
functions instead of <code>fgets</code>.  However, in practice, there are
few mechanisms that use very large tokens.  In typical configurations,
the mechanism with the largest tokens (GSSAPI) can use at least 500
bytes.  A fixed buffer size of 8192 bytes may thus be sufficient for
now.  But don&rsquo;t say I didn&rsquo;t warn you, when a future mechanism doesn&rsquo;t
work in your application, because of a fixed size buffer.
</p>
<p>The function <code>gsasl_step64</code> (and of course also <code>gasl_step</code>)
returns two non-error return codes.  <code>GSASL_OK</code> is used for
success, indicating that the library considers the authentication
finished.  That may include a successful server authentication,
depending on the mechanism.  You must not let the client continue to
the application protocol part unless you receive <code>GSASL_OK</code> from
these functions.  In particular, don&rsquo;t be fooled into believing
authentication were successful if the server replies &ldquo;OK&rdquo; but these
functions have failed with an error.  The server may have been hacked,
and could be tricking you into sending confidential data, without
having successfully authenticated the server.
</p>
<p>The non-error return code <code>GSASL_NEEDS_MORE</code> is used to signal to
your application that you should send the output token to the peer,
and wait for a new token, and do another iteration.  If the server
concludes the authentication process, with no data, you should call
<code>gsasl_step64</code> (or <code>gsasl_step</code>) specifying a zero-length
token.
</p>
<p>If the functions (<code>gsasl_step</code> and <code>gsasl_step64</code>) return
any non-error code, the content of the output buffer is undefined.
Otherwise, it is the callers responsibility to deallocate the buffer,
by calling <code>free</code>.  Note that in some situations, where the
buffer is empty, <code>NULL</code> is returned as the buffer value.  You
should treat this as an empty buffer.
</p>
<a name="Choosing-a-mechanism"></a>
<h3 class="section">3.1 Choosing a mechanism</h3>

<p>Our earlier code was hard coded to use a specific mechanism.  This is
rarely a good idea.  Instead, it is recommended to select the best
mechanism available from the list of mechanisms supported by the
server.  Note that without TLS or similar, the list may have been
maliciously altered, by an attacker.  This means that you should abort
if you cannot find any mechanism that exceeds your minimum security
level.  There is a function <code>gsasl_client_suggest_mechanism</code>
(see <a href="#Global-Functions">Global Functions</a>) that will try to pick the &ldquo;best&rdquo;
available mechanism from a list of mechanisms.  Our simple interactive
example client (see <a href="#Example-3">Example 3</a>) includes the following function to
decide which mechanism to use.  Note that the code doesn&rsquo;t blindly use
what is returned from <code>gsasl_client_suggest_mechanism</code>, rather it
lets some logic (in this case the user, through an interactive query)
decide which mechanism is acceptable.
</p>
<div class="example">
<pre class="example">const char *client_mechanism (Gsasl *ctx)
{
  static char mech[GSASL_MAX_MECHANISM_SIZE + 1] = &quot;&quot;;
  char mechlist[BUFSIZ] = &quot;&quot;;
  const char *suggestion;

  printf (&quot;Enter list of server supported mechanisms, separate by SPC:\n&quot;);
  fgets (mechlist, sizeof (mechlist) - 1, stdin);

  suggestion = gsasl_client_suggest_mechanism (ctx, mechlist);
  if (suggestion)
    printf (&quot;Library suggests use of `%s'.\n&quot;, suggestion);

  printf (&quot;Enter mechanism to use:\n&quot;);
  fgets (mech, sizeof (mech) - 1, stdin);
  mech[strlen (mech) - 1] = '\0';

  return mech;
}
</pre></div>

<p>When running this example code, it might look like in the following
output.
</p>
<div class="example">
<pre class="example">Enter list server supported mechanisms, separate by SPC:
CRAM-MD5 DIGEST-MD5 GSSAPI FOO BAR
Library suggests use of `GSSAPI'.
Enter mechanism to use:
CRAM-MD5
Input base64 encoded data from server:
Zm5vcmQ=
Output:
amFzIDkyY2U1NWE5MTM2ZTY4NzEyMTUyZTFjYmFmNjVkZjgx

If server accepted us, we're done.
</pre></div>

<a name="Using-a-callback"></a>
<h3 class="section">3.2 Using a callback</h3>

<p>Our earlier code specified the username and password before the
authentication loop, as in:
</p>
<div class="example">
<pre class="example">gsasl_property_set (ctx, GSASL_AUTHID, &quot;jas&quot;);
gsasl_property_set (ctx, GSASL_PASSWORD, &quot;secret&quot;);
</pre></div>

<p>This may work for simple mechanisms, that need only a username and a
password.  But some mechanism requires more information, such as an
authorization identity, a special PIN or passcode, a realm, a
hostname, a service name, or an anonymous identifier.  Querying the
user for all that information, without knowing exactly which of it is
really needed will result in a poor user interface.  The user should
not have to input private information, if it isn&rsquo;t required.
</p>
<p>The approach is a bad idea for another reason.  What if the server
aborts the authentication process?  Then your application has already
queried the user for a username and password.  It would be better if
you only asked the user for this information, annoying to input, when
it is known to be needed.
</p>
<p>A better approach to this problem is to use a callback.  Then the
mechanism may query your application whenever it needs some
information, like the username and password.  It will only do this at
the precise step in the authentication when the information is
actually needed.  Further, if the user aborts, e.g., a password
prompt, the mechanism is directly informed of this (because it invoked
the callback), and could recover somehow.
</p>
<p>Our final example (see <a href="#Example-4">Example 4</a>) specifies a callback function,
inside <code>main</code> as below.
</p>
<div class="example">
<pre class="example">/* Set the callback handler for the library. */
gsasl_callback_set (ctx, callback);
</pre></div>

<p>The function itself is implemented as follows.
</p>
<div class="example">
<pre class="example">int callback (Gsasl * ctx, Gsasl_session * sctx, Gsasl_property prop)
{
  char buf[BUFSIZ] = &quot;&quot;;
  int rc = GSASL_NO_CALLBACK;

  /* Get user info from user. */

  printf (&quot;Callback invoked, for property %d.\n&quot;, prop);

  switch (prop)
    {
    case GSASL_PASSCODE:
      printf (&quot;Enter passcode:\n&quot;);
      fgets (buf, sizeof (buf) - 1, stdin);
      buf[strlen (buf) - 1] = '\0';

      gsasl_property_set (sctx, GSASL_PASSCODE, buf);
      rc = GSASL_OK;
      break;

    case GSASL_AUTHID:
      printf (&quot;Enter username:\n&quot;);
      fgets (buf, sizeof (buf) - 1, stdin);
      buf[strlen (buf) - 1] = '\0';

      gsasl_property_set (sctx, GSASL_AUTHID, buf);
      rc = GSASL_OK;
      break;

    default:
      printf (&quot;Unknown property!  Don't worry.\n&quot;);
      break;
    }

  return rc;
}
</pre></div>

<p>Again, it is bad style to use a fixed size buffer.  Mmm&rsquo;kay.
</p>
<p>Which properties you should handle is up to you.  If you don&rsquo;t know how
to respond to a certain property, simply return
<code>GSASL_NO_CALLBACK</code>.  The basic properties to support are
authentication identity (<code>GSASL_AUTHID</code>), authorization identity
(<code>GSASL_AUTHZID</code>), and password (<code>GSASL_PASSWORD</code>).
See <a href="#Properties">Properties</a>, for the list of all properties, and what your callback
should (ideally) do for them, and which properties each mechanism
require in order to work.
</p>
<hr>
<a name="Properties"></a>
<div class="header">
<p>
Next: <a href="#Mechanisms" accesskey="n" rel="next">Mechanisms</a>, Previous: <a href="#Using-the-Library" accesskey="p" rel="prev">Using the Library</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Properties-1"></a>
<h2 class="chapter">4 Properties</h2>

<p>The library uses a concept called &ldquo;properties&rdquo; to request and pass
data between the application and the individual authentication
mechanisms.  The application can set property values using the
<code>gsasl_property_set</code> function.  If a mechanism needs a property
value the application has not yet provided, this is handled through a
callback.  The application provides a callback, using
<code>gsasl_callback_set</code>, which will be invoked with a property
parameter.  The callback should set the property before returning, or
fail.  See <a href="#Callback-Functions">Callback Functions</a>, for more information.
</p>
<p>There are two kind of properties.  The first, a &ldquo;data property&rdquo; is
the simplest to understand because it normally refers to short
strings.  For example, the property called <code>GSASL_AUTHID</code>
correspond to the username string, e.g., <code>simon</code>.
</p>
<p>The latter properties, called &ldquo;logical properties&rdquo;, are used by the
server to make a authentication decision, and is used as a way to get
the application callback invoked.  For example, the property
<code>GSASL_VALIDATE_SIMPLE</code> is used by the server-side part of
mechanisms like <code>PLAIN</code>.  The purpose is to ask the server
application to decide whether the user should be authenticated
successfully or not.  The callback typically look at other property
fields, such as <code>GSASL_AUTHID</code> and <code>GSASL_PASSWORD</code>, and
compare those values with external information (for example data
stored in a database or on a LDAP server) and then return OK or not.
</p>
<blockquote>
<p><b>Warning:</b> Don&rsquo;t expect that all mechanisms invoke one of the &ldquo;logical
properties&rdquo; in the server mode.  For example, the CRAM-MD5 and
SCRAM-SHA-1 mechanisms will use the data properties (i.e., username and
password) provided by the application to internally decide whether to
successfully authenticate the user.  User authorization decisions needs
to be made by the application outside of the SASL mechanism negotiation.
</p></blockquote>

<p>The logical properties are currently only used by servers, but data
properties are used by both client and servers.  It makes sense to
think about the latter category as &lsquo;<samp>server properties</samp>&rsquo; but the
reverse is not valid nor useful.
</p>
<p>The semantics associated with a data property is different when it is
used in client context and in the server context.  For example, in the
client context, the application is expected to set the property
<code>GSASL_AUTHID</code> to signal to the mechanism the username to use,
but in the server context, the <code>GSASL_AUTHID</code> property is set by
the mechanism and can be used by the application (in the callback) to
find out what username the client provided.
</p>
<p>Below is a list of all properties and an explanation for each.  First
is the list of data properties:
</p>
<ul>
<li> <code>GSASL_AUTHID</code>

<p>The authentication identity.
</p>
</li><li> <code>GSASL_AUTHZID</code>

<p>The authorization identity.
</p>
</li><li> <code>GSASL_PASSWORD</code>

<p>The password of the authentication identity.
</p>
</li><li> <code>GSASL_ANONYMOUS_TOKEN</code>

<p>The anonymous token.  This is typically the email address of the user.
</p>
</li><li> <code>GSASL_SERVICE</code>

<p>The registered GSSAPI service name of the application service,
e.g. &ldquo;imap&rdquo;.  While the names are registered for GSSAPI, other
mechanisms such as DIGEST-MD5 may also use this.
</p>
</li><li> <code>GSASL_HOSTNAME</code>

<p>Should be the local host name of the machine.
</p>
</li><li> <code>GSASL_GSSAPI_DISPLAY_NAME</code>

<p>Contain the GSSAPI &ldquo;display name&rdquo;, set by the server GSSAPI
mechanism.  Typically you retrieve this property in your callback,
when invoked for <code>GSASL_VALIDATE_GSSAPI</code>.
</p>
</li><li> <code>GSASL_REALM</code>

<p>The name of the authentication domain.  This is used by several
mechanisms, including DIGEST-MD5, GSS-API, KERBEROS_V5 and NTLM.
</p>
</li><li> <code>GSASL_PASSCODE</code>

<p>The SecurID passcode.
</p>
</li><li> <code>GSASL_PIN</code>

<p>The SecurID personal identification number (PIN).
</p>
</li><li> <code>GSASL_SUGGESTED_PIN</code>

<p>A SecurID personal identification number (PIN) suggested by the server.
</p>
</li><li> <code>GSASL_DIGEST_MD5_HASHED_PASSWORD</code>

<p>For the DIGEST-MD5 mechanism, this is a hashed password.  It is used
in servers to avoid storing clear-text credentials.
</p>
</li><li> <code>GSASL_QOPS</code>

<p>The DIGEST-MD5 server query for this property to get the set of
quality of protection (QOP) values to advertise.  The property holds
strings with comma separated keywords denoting the set of qops to use,
for example <code>qop-auth, qop-int</code>.  Valid keywords are
<code>qop-auth</code>, <code>qop-int</code>, and <code>qop-conf</code>.
</p>
</li><li> <code>GSASL_QOP</code>

<p>The DIGEST-MD5 client query for this property to get the quality of
protection (QOP) values to request.  The property value is one of the
keywords for <code>GSASL_QOPS</code>.  The client must chose one of the QOP
values offered by the server (which may be inspected through the
<code>GSASL_QOPS</code> property).
</p>
</li><li> <code>GSASL_SCRAM_SALTED_PASSWORD</code>

<p>In a client, the SCRAM mechanism (see <a href="#SCRAM">SCRAM</a>) will request this
property from the application.  The value should be hex-encoded string
(40 characters for SCRAM-SHA-1 and 64 characters for SCRAM-SHA-256) with
the user&rsquo;s PBKDF2-prepared password.  Note that the value is different
for the same password for each value of the <code>GSASL_SCRAM_ITER</code> and
<code>GSASL_SCRAM_SALT</code> properties.  The property can be used to avoid
storing a clear-text credential in the client, however note that an
attacker who steal it may impersonate both a SCRAM client and SCRAM
server.  If the property is not available, the mechanism will ask for
the <code>GSASL_PASSWORD</code> property instead.
</p>
<p>The <code>GSASL_SCRAM_SALTED_PASSWORD</code> property is set by the SCRAM
mechanism if it derived the value from a <code>GSASL_PASSWORD</code> value
supplied during authentication.  Thus, the application may cache this
value for future authentication attempts.
</p>
</li><li> <code>GSASL_SCRAM_ITER</code>
</li><li> <code>GSASL_SCRAM_SALT</code>

<a name="index-iteration-count"></a>
<a name="index-salt"></a>
<p>In the server, the application can set these properties to influence the
hash iteration count and hash salt to use when deriving the password in
the SCRAM mechanism (see <a href="#SCRAM">SCRAM</a>).  The default hash iteration count
is 4096 and often you should use a higher value.  The salt should be a
base64-encoded string with random data, typical length 4 to 16 bytes.
</p>
<p>In the client, the SCRAM mechanism set these properties (using values
received from the server) before asking the application to provide a
<code>GSASL_SCRAM_SALTED_PASSWORD</code> value.
</p>
<p>After the final authentication step, the properties are set by the
mechanism, to allow the application to retrieve the values used
(required when storing the <code>GSASL_SCRAM_SALTED_PASSWORD</code> value, for
example).
</p>
</li><li> <code>GSASL_SCRAM_SERVERKEY</code>
</li><li> <code>GSASL_SCRAM_STOREDKEY</code>

<p>These properties are requested by the SCRAM server mechanism
(see <a href="#SCRAM">SCRAM</a>), and if they are not available it will ask for
<code>GSASL_PASSWORD</code> to complete authentication.  The values are
base64-encoded strings (28 characters for SCRAM-SHA-1 and 44 characters
for SCRAM-SHA-256) with the ServerKey/StoredKey data.  The properties
are set after completing the final authentication step; so if
<code>GSASL_PASSWORD</code> was used for authentication the application may
extract <code>GSASL_SCRAM_SERVERKEY</code> and <code>GSASL_SCRAM_STOREDKEY</code> to
use these values in a future authentication instead of the password.
The values can be calculated using
<code>gsasl_scram_secrets_from_password</code>,
<code>gsasl_scram_secrets_from_salted_password</code> (see <a href="#Utilities">Utilities</a>) or
using the <code>--mkpasswd</code> parameter for the <code>gsasl</code> utility
(see <a href="#Invoking-gsasl">Invoking gsasl</a>).
</p>
</li><li> <code>GSASL_CB_TLS_UNIQUE</code>

<a name="index-channel-binding"></a>
<a name="index-tls_002dunique"></a>
<p>This property holds base64 encoded <code>tls-unique</code> channel binding
data.  As a hint, if you use GnuTLS, the API
<code>gnutls_session_channel_binding</code> can be used to extract channel
bindings for a session.  To be secure, a TLS channel MUST have the
session hash extension (RFC 7627) negotiated, or session resumption MUST
NOT have been used.  The library cannot enforce this, so it is up to the
application to only provide the <code>GSASL_CB_TLS_UNIQUE</code> property when
the condition holds.
</p>

</li><li> <code>GSASL_SAML20_IDP_IDENTIFIER</code>

<a name="index-SAML-IdP-Identifier"></a>
<a name="index-Identity-Provider-Identifier"></a>
<p>This property holds the SAML identifier of the user.  The SAML20
mechanism in client mode will send it to the other end for
identification purposes, and in server mode it will be accessible in
the <code>GSASL_SAML20_REDIRECT_URL</code> callback.
</p>
</li><li> <code>GSASL_SAML20_REDIRECT_URL</code>
This property holds the SAML redirect URL that the server wants the
client to access.  It will be available in the
<code>GSASL_SAML20_AUTHENTICATE_IN_BROWSER</code> callback for the client.

</li><li> <code>GSASL_OPENID20_REDIRECT_URL</code>
This property holds the SAML redirect URL that the server wants the
client to access.  It will be available in the
<code>GSASL_OPENID20_AUTHENTICATE_IN_BROWSER</code> callback for the client.

</li><li> <code>GSASL_OPENID20_OUTCOME_DATA</code>
OpenID 2.0 authentication outcome data.  This is either the OpenID
SREG values or a value list starting with <code>&quot;openid.error=&quot;</code> to
signal error.

</li></ul>

<p>Next follows a list of data properties used to trigger the callback,
typically used in servers to validate client credentials:
</p>
<ul>
<li> <code>GSASL_VALIDATE_SIMPLE</code>

<p>Used by multiple mechanisms in server mode.  The callback may retrieve
the <code>GSASL_AUTHID</code>, <code>GSASL_AUTHZID</code> and
<code>GSASL_PASSWORD</code> property values and use them to make an
authentication and authorization decision.
</p>
</li><li> <code>GSASL_VALIDATE_EXTERNAL</code>

<p>Used by EXTERNAL mechanism on the server side to validate the client.
The GSASL_AUTHID will contain the authorization identity of the
client.
</p>
</li><li> <code>GSASL_VALIDATE_ANONYMOUS</code>

<p>Used by ANONYMOUS mechanism on the server side to validate the client.
The GSASL_ANONYMOUS_TOKEN will contain token that identity the client.
</p>
</li><li> <code>GSASL_VALIDATE_GSSAPI</code>

<p>Used by the GSSAPI and GS2-KRB5 mechanisms on the server side, to
validate the client.  You may retrieve the authorization identity from
GSASL_AUTHZID and the GSS-API display name from
GSASL_GSSAPI_DISPLAY_NAME.
</p>
</li><li> <code>GSASL_VALIDATE_SECURID</code>

<p>Used by SECURID mechanism on the server side to validate client.  The
GSASL_AUTHID, GSASL_AUTHZID, GSASL_PASSCODE, and GSASL_PIN will be
set.  It can return GSASL_SECURID_SERVER_NEED_ADDITIONAL_PASSCODE to
ask the client to supply another passcode, and
GSASL_SECURID_SERVER_NEED_NEW_PIN to require the client to supply a
new PIN code.
</p>
</li><li> <code>GSASL_VALIDATE_SAML20</code>

<p>Used by the SAML20 mechanism on the server side to request that the
application perform authentication.  The callback should return
<code>GSASL_OK</code> if the user should be permitted access, and
<code>GSASL_AUTHENTICATION_ERROR</code> (or another error code) otherwise.
</p>
</li><li> <code>GSASL_VALIDATE_OPENID20</code>

<p>Used by the OPENID20 mechanism on the server side to request that the
application perform authentication.  The callback should return
<code>GSASL_OK</code> if the user should be permitted access, and
<code>GSASL_AUTHENTICATION_ERROR</code> (or another error code) otherwise.
</p>
</li><li> <code>GSASL_SAML20_AUTHENTICATE_IN_BROWSER</code>
Used by the SAML20 mechanism in the client side to request that the
client should launch the SAML redirect URL (the
<code>GSASL_SAML20_REDIRECT_URL</code> property) in a browser to continue
with authentication.

</li><li> <code>GSASL_OPENID20_AUTHENTICATE_IN_BROWSER</code>
Used by the OPENID20 mechanism in the client side to request that the
client should launch the OpenID redirect URL (the
<code>GSASL_OPENID20_REDIRECT_URL</code> property) in a browser to continue
with authentication.

</li></ul>


<hr>
<a name="Mechanisms"></a>
<div class="header">
<p>
Next: <a href="#Global-Functions" accesskey="n" rel="next">Global Functions</a>, Previous: <a href="#Properties" accesskey="p" rel="prev">Properties</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Mechanisms-1"></a>
<h2 class="chapter">5 Mechanisms</h2>

<p>Different SASL mechanisms have different requirements on the
application using it.  To handle these differences the library can use
a callback function into your application in several different ways.
Some mechanisms, such as &lsquo;<samp>PLAIN</samp>&rsquo;, are simple to explain and use.
The client callback queries the user for a username and password.  The
server callback hands the username and password into any local policy
deciding authentication system (such as <samp>/etc/passwd</samp> via PAM).
</p>
<p>Mechanism such as &lsquo;<samp>CRAM-MD5</samp>&rsquo; and &lsquo;<samp>SCRAM-SHA-256</samp>&rsquo; uses hashed
passwords.  The client callback behaviour is the same as for PLAIN.
However, the server does not receive the plain text password over the
network but rather a hash of it.  Existing policy deciding systems like
PAM cannot handle this, so the server callback for these mechanisms are
more complicated.
</p>
<p>Further, mechanisms like GSSAPI/GS2-KRB5 (Kerberos 5) assume a
specific authentication system.  In theory this means that the SASL
library would not need to interact with the application, but rather
call this specific authentication system directly.  However, some
callbacks are supported anyway, to modify the behaviour of how the
specific authentication system is used (i.e., to handle &ldquo;super-user&rdquo;
login as some other user).
</p>
<p>Some mechanisms, like &lsquo;<samp>EXTERNAL</samp>&rsquo; and &lsquo;<samp>ANONYMOUS</samp>&rsquo; are
entirely dependent on callbacks.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#EXTERNAL" accesskey="1">EXTERNAL</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Authentication via out of band information.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#ANONYMOUS" accesskey="2">ANONYMOUS</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Mechanism for anonymous access to resources.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#PLAIN" accesskey="3">PLAIN</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Clear text username and password.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#LOGIN" accesskey="4">LOGIN</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Non-standard clear text username and password.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#CRAM_002dMD5" accesskey="5">CRAM-MD5</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Challenge-Response Authentication Mechanism.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#DIGEST_002dMD5" accesskey="6">DIGEST-MD5</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Digest Authentication.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#SCRAM" accesskey="7">SCRAM</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Salted Challenge Response Authentication.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#NTLM" accesskey="8">NTLM</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Microsoft NTLM authentication.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#SECURID" accesskey="9">SECURID</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Authentication using tokens.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#GSSAPI">GSSAPI</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">GSSAPI (Kerberos 5) authentication.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#GS2_002dKRB5">GS2-KRB5</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Improved GSSAPI (Kerberos 5) authentication.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#SAML20">SAML20</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Authenticate using SAML 2.0 via a browser.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#OPENID20">OPENID20</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Authenticate using OpenID 2.0 via a browser.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#KERBEROS_005fV5">KERBEROS_V5</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Experimental KERBEROS_V5 authentication.
</td></tr>
</table>

<hr>
<a name="EXTERNAL"></a>
<div class="header">
<p>
Next: <a href="#ANONYMOUS" accesskey="n" rel="next">ANONYMOUS</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-EXTERNAL-mechanism"></a>
<h3 class="section">5.1 The EXTERNAL mechanism</h3>

<p>The EXTERNAL mechanism is used to authenticate a user to a server based
on out-of-band authentication.  EXTERNAL is typically used over TLS
authenticated channels.  Note that in the server, you need to make sure
that TLS actually authenticated the client successfully and that the
negotiated ciphersuite and other parameters are acceptable.  It is
generally not sufficient that TLS is used, since TLS supports anonymous
and other variants that generally provide less assurance than you
normally want.
</p>
<p>In the client, this mechanism is always enabled, and it will send the
<code>GSASL_AUTHZID</code> property as the authorization name to the server,
if the property is set.  If the property is not set, an empty
authorization name is sent.  You need not implement a callback.
</p>
<p>In the server, this mechanism will request the
<code>GSASL_VALIDATE_EXTERNAL</code> callback property to decide whether the
client is authenticated and authorized to log in.  Your callback can
retrieve the <code>GSASL_AUTHZID</code> property to inspect the requested
authorization name from the client.
</p>
<p>The EXTERNAL mechanism was initially specified in the core SASL
framework RFC 2222 and later revised in RFC 4422.
</p>
<hr>
<a name="ANONYMOUS"></a>
<div class="header">
<p>
Next: <a href="#PLAIN" accesskey="n" rel="next">PLAIN</a>, Previous: <a href="#EXTERNAL" accesskey="p" rel="prev">EXTERNAL</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-ANONYMOUS-mechanism"></a>
<h3 class="section">5.2 The ANONYMOUS mechanism</h3>

<p>The ANONYMOUS mechanism is used to &ldquo;authenticate&rdquo; clients to anonymous
services; or rather, just indicate that the client wishes to use the
service anonymously.  The client sends a token, usually her email
address, which serve the purpose of some trace information suitable for
logging.  The token cannot be empty.
</p>
<p>In the client, this mechanism is always enabled, and will send the
<code>GSASL_ANONYMOUS_TOKEN</code> property as the trace information to the
server.
</p>
<p>In the server, this mechanism will invoke the
<code>GSASL_VALIDATE_ANONYMOUS</code> callback to decide whether the client
should be permitted to log in.  Your callback can retrieve the
<code>GSASL_ANONYMOUS_TOKEN</code> property to, for example, record it in a
log file.  The token is normally not used to decide whether the client
should be permitted to log in or not.
</p>
<p>The ANONYMOUS mechanism was initially specified in RFC 2245 and later
revised in RFC 4505.
</p>
<hr>
<a name="PLAIN"></a>
<div class="header">
<p>
Next: <a href="#LOGIN" accesskey="n" rel="next">LOGIN</a>, Previous: <a href="#ANONYMOUS" accesskey="p" rel="prev">ANONYMOUS</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-PLAIN-mechanism"></a>
<h3 class="section">5.3 The PLAIN mechanism</h3>

<p>The PLAIN mechanism uses username and password to authenticate users.
Two user names are relevant.  The first, the authentication identity,
indicates the credential holder, i.e., whom the provided password
belongs to.  The second, the authorization identity, is typically empty
to indicate that the user requests to log on to the server as herself
(i.e., the authentication identity).  If the authorization identity is
not empty, the server should decide whether the authenticated user may
log on as the authorization identity.  This is typically used for
super-user accounts like &lsquo;<samp>admin</samp>&rsquo; to take on the role of a regular
user.
</p>
<p>In the client, this mechanism is always enabled, and require the
<code>GSASL_AUTHID</code> and <code>GSASL_PASSWORD</code> properties.  If set,
<code>GSASL_AUTHZID</code> will also be used.
</p>
<p>In the server, the mechanism is always enabled.  Two approaches to
authenticate and authorize the client are provided.
</p>
<p>In the first approach, the server side of the mechanism will request
the <code>GSASL_VALIDATE_SIMPLE</code> callback property to decide whether
the client should be accepted or not.  The callback may inspect the
<code>GSASL_AUTHID</code>, <code>GSASL_AUTHZID</code>, and <code>GSASL_PASSWORD</code>
properties.  These property values will be normalized.
</p>
<p>If the first approach fails (because there is no callback or your
callback returns &lsquo;<samp>GSASL_NO_CALLBACK</samp>&rsquo; to signal that it does not
implement <code>GSASL_VALIDATE_SIMPLE</code>) the mechanism will continue to
query the application for a password, via the <code>GSASL_PASSWORD</code>
property.  Your callback may use the <code>GSASL_AUTHID</code> and
<code>GSASL_AUTHZID</code> properties to select the proper password.  The
password is then normalized and compared to the client credential.
</p>
<p>Which approach to use?  If your database stores hashed passwords, you
have no option, but must use the first approach.  If passwords in your
user database are stored in prepared (SASLprep) form, the first approach
will be faster.  If you do not have prepared passwords available, you
can use the second approach to make sure the password is prepared
properly before comparison.
</p>
<p>The PLAIN mechanism was initially specified in RFC 2595 and later
revised in RFC 4616.
</p>
<hr>
<a name="LOGIN"></a>
<div class="header">
<p>
Next: <a href="#CRAM_002dMD5" accesskey="n" rel="next">CRAM-MD5</a>, Previous: <a href="#PLAIN" accesskey="p" rel="prev">PLAIN</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-LOGIN-mechanism"></a>
<h3 class="section">5.4 The LOGIN mechanism</h3>

<p>The LOGIN mechanism is a non-standard mechanism, and is similar to the
PLAIN mechanism except that LOGIN lacks the support for authorization
identities.  Always use PLAIN instead of LOGIN in new applications.
</p>
<p>The callback behaviour is the same as for PLAIN, except that
<code>GSASL_AUTHZID</code> is neither used nor required, and that the server
does not normalize the password using SASLprep.
</p>
<p>See <a href="#Use-of-SASLprep-in-LOGIN">Use of SASLprep in LOGIN</a>, for a proposed clarification of the
interpretation of a hypothetical LOGIN specification.
</p>
<hr>
<a name="CRAM_002dMD5"></a>
<div class="header">
<p>
Next: <a href="#DIGEST_002dMD5" accesskey="n" rel="next">DIGEST-MD5</a>, Previous: <a href="#LOGIN" accesskey="p" rel="prev">LOGIN</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-CRAM_002dMD5-mechanism"></a>
<h3 class="section">5.5 The CRAM-MD5 mechanism</h3>
<a name="index-CRAM_002dMD5"></a>

<p>CRAM-MD5 is a widely used challenge-response mechanism that transfers
hashed passwords instead of clear text passwords.  It is official
deprecated, initially in favor of first DIGEST-MD5 but today
SCRAM-SHA-1.  For insecure channels (e.g., when TLS is not used), it is
has better properties than PLAIN since the unhashed password is not
leaked.  The CRAM-MD5 mechanism does not support authorization
identities; that make the relationship between CRAM-MD5 and
DIGEST-MD5/SCRAM-SHA-* similar to the relationship between LOGIN and
PLAIN.
</p>
<p>The disadvantage with hashed passwords is that the server cannot use
normal authentication infrastructures such as PAM, because the server
must have access to the unhashed password in order to validate every
authentication attempt.
</p>
<p>In the client, this mechanism is always enabled, and it requires the
<code>GSASL_AUTHID</code> and <code>GSASL_PASSWORD</code> properties.
</p>
<p>In the server, the mechanism will require the <code>GSASL_PASSWORD</code>
callback property, which may use the <code>GSASL_AUTHID</code> property to
determine which users&rsquo; password should be used.  The <code>GSASL_AUTHID</code>
will be in normalized form.  The server will then normalize the
password, and compare the client response with the computed correct
response, and accept the user accordingly.
</p>
<p>See <a href="#Use-of-SASLprep-in-CRAM_002dMD5">Use of SASLprep in CRAM-MD5</a>, for a clarification on the
interpretation of the CRAM-MD5 specification that this implementation
rely on.
</p>
<p>The CRAM-MD5 mechanism was initially specified in RFC 2095 but quickly
revised in RFC 2195.  Note that both were published before the core SASL
framework, which explains its lack of authorization identity.
</p>
<hr>
<a name="DIGEST_002dMD5"></a>
<div class="header">
<p>
Next: <a href="#SCRAM" accesskey="n" rel="next">SCRAM</a>, Previous: <a href="#CRAM_002dMD5" accesskey="p" rel="prev">CRAM-MD5</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-DIGEST_002dMD5-mechanism"></a>
<h3 class="section">5.6 The DIGEST-MD5 mechanism</h3>
<a name="index-DIGEST_002dMD5"></a>

<p>The DIGEST-MD5 mechanism is based on repeated hashing using MD5.  After
the MD5 break may be argued to be weaker than HMAC-MD5 that CRAM-MD5
builds on, but DIGEST-MD5 supports other features.  For example,
authorization identities and data integrity and privacy protection are
supported.  Like CRAM-MD5, only a hashed password is transferred.
Consequently, DIGEST-MD5 needs access to the correct password to verify
the client response &ndash; however the server can store the password in
hashed form, another improvement compared to CRAM-MD5 .  Alas, this
makes it impossible to use, e.g., PAM on the server side.
</p>
<p>In the client, this mechanism is always enabled, and it requires the
<code>GSASL_AUTHID</code>, <code>GSASL_PASSWORD</code>, <code>GSASL_SERVICE</code>, and
<code>GSASL_HOSTNAME</code> properties.  If set, <code>GSASL_AUTHZID</code> and
<code>GSASL_REALM</code> will also be used.
</p>
<p>In the server, the mechanism will first request the
<code>GSASL_DIGEST_MD5_HASHED_PASSWORD</code> callback property to get the
user&rsquo;s hashed password.  If the callback doesn&rsquo;t supply a hashed
password (i.e., it returns &lsquo;<samp>GSASL_NO_CALLBACK</samp>&rsquo;), the
<code>GSASL_PASSWORD</code> callback property will be requested.  Both
callbacks may use the <code>GSASL_AUTHID</code>, <code>GSASL_AUTHZID</code> and
<code>GSASL_REALM</code> properties to determine which users&rsquo; password should
be used.  The server will then compare the client response with a
computed correct response, and accept the user accordingly.
</p>
<p>The server uses the <code>GSASL_QOPS</code> callback to get the set of
quality of protection values to use.  By default, it advertises
support for authentication (<code>qop-auth</code>) only.  You can use the
callback, for example, to make the server advertise support for
authentication with integrity layers.
</p>
<p>The client uses the <code>GSASL_QOP</code> callback to get the quality of
protection value to request.  The client must choose one of the QOP
values offered by the server (which may be inspected through the
<code>GSASL_QOPS</code> property).  If the client does not return a value,
<code>qop-auth</code> is used by default.
</p>
<p>The security layers of DIGEST-MD5 are rarely used in practice due to
interoperability and security reasons.  You are recommended to use TLS
instead.
</p>
<p>The DIGEST-MD5 mechanism is specified in RFC 2831.  RFC 6331 labels
DIGEST-MD5 as historic and it contains a good exposition of the
disadvantages with DIGEST-MD5.
</p>
<hr>
<a name="SCRAM"></a>
<div class="header">
<p>
Next: <a href="#NTLM" accesskey="n" rel="next">NTLM</a>, Previous: <a href="#DIGEST_002dMD5" accesskey="p" rel="prev">DIGEST-MD5</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-SCRAM-mechanisms"></a>
<h3 class="section">5.7 The SCRAM mechanisms</h3>
<a name="index-SCRAM"></a>

<p>SCRAM is a family of mechanisms and we support SCRAM-SHA-1 and
SCRAM-SHA-256.  They differ only in the use of underlying hash function,
SHA-1 and SHA-256 respectively.  Channel bindings are supported through
the SCRAM-SHA-1-PLUS and SCRAM-SHA-256-PLUS mechanisms, and will bind
the authentication to a particular TLS channel.  SCRAM provides mutual
authentication, i.e., after a succesful authentication the client will
know that the server knows the password, and the server will know that
the client knows the password.  Further, this can be achieved without
storing the password in clear text on either side.
</p>
<p>The SCRAM family is designed to provide the same capabilities that
CRAM-MD5 and DIGEST-MD5 provides but with modern cryptographic
techniques such as HMAC hashing and PKCS#5 PBKDF2 key derivation.  SCRAM
supports authorization identities.  Like CRAM-MD5 and DIGEST-MD5, only a
hashed password is transferred.  Consequently, SCRAM servers needs
access to the correct password (or the derived ServerKey/StoredKey) to
verify the client response.
</p>
<p>In the client, the non-PLUS mechanism is always enabled, and it requires
the <code>GSASL_AUTHID</code> property, and either <code>GSASL_PASSWORD</code> or
<code>GSASL_SCRAM_SALTED_PASSWORD</code>.  When the <code>GSASL_CB_TLS_UNIQUE</code>
property is available, the SCRAM-SHA-1-PLUS mechanism is also available
and it will negotiate channel bindings when the server also supports it.
If set, <code>GSASL_AUTHZID</code> will be used by the client.  To be able to
return the proper <code>GSASL_SCRAM_SALTED_PASSWORD</code> value, the callback
needs to check the <code>GSASL_SCRAM_ITER</code> and <code>GSASL_SCRAM_SALT</code>
values which are available when the <code>GSASL_SCRAM_SALTED_PASSWORD</code>
property is queried for.  The client/server may retrieve the calculated
<code>GSASL_SCRAM_SALTED_PASSWORD</code> value by retrieving it after the
final authentication step.  The <code>GSASL_SCRAM_SALTED_PASSWORD</code> value
can also be derived by using the
<code>gsasl_scram_secrets_from_password</code> function (see <a href="#Utilities">Utilities</a>),
or through the <code>--mkpasswd</code> parameter for the <code>gsasl</code> utility
(see <a href="#Invoking-gsasl">Invoking gsasl</a>).
</p>
<p>In the server, the <code>GSASL_AUTHID</code> property (and, when provided by
the client, the <code>GSASL_AUTHZID</code> property) will be set in order for
the callback to retrieve the user credentials.  The server mechanism
will request the <code>GSASL_SERVERKEY</code> and <code>GSASL_STOREDKEY</code>
properties first, and will use them to complete authentication.  Using
ServerKey/StoredKey on the server make it possible for the server to
avoid storing the clear-text password.  If ServerKey/StoredKey is not
available, the <code>GSASL_PASSWORD</code> property is requested, which will
be used to derive the ServetKey/StoredKey secrets.  The mechanism uses
the credentials to authenticate the user.  The application may set the
<code>GSASL_SCRAM_ITER</code> and <code>GSASL_SCRAM_SALT</code> properties which
allow the server to tell the clients what values to use for deriving a
key from a password.  When the application do not supply them, the SCRAM
server will default to using a fresh random salt and an iteration count
of 4096.  After the final authentication step, the application may
retrieve the <code>GSASL_SCRAM_ITER</code>, <code>GSASL_SCRAM_SALT</code>,
<code>GSASL_SCRAM_SALTED_PASSWORD</code>, <code>GSASL_SERVERKEY</code>, and
<code>GSASL_STOREDKEY</code> properties for potential storage in a database to
avoid the need to store the cleartext password.  Note that servers
should normally not store <code>GSASL_SCRAM_SALTED_PASSWORD</code> as stealing
that allow someone to impersonate the client, which is not (directly)
possible otherwise.  When the <code>GSASL_CB_TLS_UNIQUE</code> property is
set, the SCRAM-*-PLUS mechanism is supported and is used to negotiate
channel bindings.
</p>
<a name="index-channel-binding-1"></a>
<p>The <code>GSASL_CB_TLS_UNIQUE</code> property signal that this side of the
authentication supports channel bindings.  Setting the property will
enable the SCRAM-SHA-1-PLUS and SCRAM-SHA-256-PLUS mechanisms.  For
clients, this also instructs the SCRAM-SHA-1 and SCRAM-SHA-256 mechanism
to tell servers that the client believes the server does not support
channel bindings if it is used (remember that clients should otherwise
have chosen the SCRAM-SHA-1-PLUS mechanism instead of the SCRAM-SHA-1
mechanism).  For servers, it means the SCRAM-SHA-1/SCRAM-SHA-256
mechanism will refuse to authenticate against a client that signals that
it believes the server does not support channel bindings.
</p>
<p>The SCRAM-SHA-*-PLUS mechanisms will never complete authentication
successfully if channel bindings are not confirmed.
</p>
<p>To offer the intended security, the SCRAM-SHA-*-PLUS mechanisms MUST be
used over a TLS channel that has had the session hash extension (RFC
7627) negotiated, or session resumption MUST NOT have been used.  The
library cannot enforce this, so it is up to the application to only
provide the <code>GSASL_CB_TLS_UNIQUE</code> property when this condition
holds.
</p>
<p>The SCRAM-SHA-1 mechanism is specified in RFC 5802 and SCRAM-SHA-256 is
specified in RFC 7677.  How to store SCRAM credentials in LDAP on the
server side is described in RFC 5803.
</p>
<hr>
<a name="NTLM"></a>
<div class="header">
<p>
Next: <a href="#SECURID" accesskey="n" rel="next">SECURID</a>, Previous: <a href="#SCRAM" accesskey="p" rel="prev">SCRAM</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-NTLM-mechanism"></a>
<h3 class="section">5.8 The NTLM mechanism</h3>
<a name="index-NTLM"></a>

<p>The NTLM is a non-standard mechanism.  Do not use it in new
applications, and do not expect it to be secure.  Currently only the
client side is supported.
</p>
<p>In the client, this mechanism is always enabled, and it requires the
<code>GSASL_AUTHID</code> and <code>GSASL_PASSWORD</code> properties.  It will set
the &lsquo;<samp>domain</samp>&rsquo; field in the NTLM request to the value of
<code>GSASL_REALM</code>.  Some servers reportedly need non-empty but
arbitrary values in that field.
</p>
<hr>
<a name="SECURID"></a>
<div class="header">
<p>
Next: <a href="#GSSAPI" accesskey="n" rel="next">GSSAPI</a>, Previous: <a href="#NTLM" accesskey="p" rel="prev">NTLM</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-SECURID-mechanism"></a>
<h3 class="section">5.9 The SECURID mechanism</h3>
<a name="index-SECURID"></a>

<p>The SECURID mechanism uses authentication and authorization identity
together with a passcode from a hardware token to authenticate users.
</p>
<p>In the client, this mechanism is always enabled, and it requires the
<code>GSASL_AUTHID</code> and <code>GSASL_PASSCODE</code> properties.  If set,
<code>GSASL_AUTHZID</code> will also be used.  If the server requests it,
the <code>GSASL_PIN</code> property is also required, and its callback may
inspect the <code>GSASL_SUGGESTED_PIN</code> property to discover a
server-provided PIN to use.
</p>
<p>In the server, this mechanism will invoke the
<code>GSASL_VALIDATE_SECURID</code> callback.  The callback may inspect the
<code>GSASL_AUTHID</code>, <code>GSASL_AUTHZID</code>, and <code>GSASL_PASSCODE</code>
properties.  The callback can return
<code>GSASL_SECURID_SERVER_NEED_ADDITIONAL_PASSCODE</code> to ask for
another additional passcode from the client.  The callback can return
<code>GSASL_SECURID_SERVER_NEED_NEW_PIN</code> to ask for a new PIN code
from the client, in which case it may also set the
<code>GSASL_SUGGESTED_PIN</code> property to indicate a recommended new PIN.
If the callbacks is invoked again, after having returned
<code>GSASL_SECURID_SERVER_NEED_NEW_PIN</code>, it may also inspect the
<code>GSASL_PIN</code> property, in addition to the other properties, to
find out the client selected PIN code.
</p>
<p>The SECURID mechanism is specified in RFC 2808.
</p>
<hr>
<a name="GSSAPI"></a>
<div class="header">
<p>
Next: <a href="#GS2_002dKRB5" accesskey="n" rel="next">GS2-KRB5</a>, Previous: <a href="#SECURID" accesskey="p" rel="prev">SECURID</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-GSSAPI-mechanism"></a>
<h3 class="section">5.10 The GSSAPI mechanism</h3>
<a name="index-GSSAPI"></a>

<p>The GSSAPI mechanism allows you to authenticate using Kerberos V5.  The
mechanism was originally designed to allow for any GSS-API mechanism to
be used, but problems with the protocol made it unpractical and it is
today restricted for use with Kerberos V5.  See the GS2 mechanism
(see <a href="#GS2_002dKRB5">GS2-KRB5</a>) for a general solution.  However, GSSAPI continues to
be widely used in Kerberos V5 environments.
</p>
<p>In the client, the mechanism is enabled only if the user has acquired
credentials (i.e., a ticket granting ticket), and it requires the
<code>GSASL_AUTHZID</code>, <code>GSASL_SERVICE</code>, and <code>GSASL_HOSTNAME</code>
properties.  (For historical reasons, if the <code>GSASL_AUTHZID</code>
property is not specified, this mechanism checks for the
<code>GSASL_AUTHZID</code> property and if present will use that as the
authorization identity &ndash; this behaviour will be removed after the year
2012 so you should update your code to use only <code>GSASL_AUTHZID</code>.)
</p>
<p>In the server, the mechanism requires the <code>GSASL_SERVICE</code> and
<code>GSASL_HOSTNAME</code> properties, and it will invoke the
<code>GSASL_VALIDATE_GSSAPI</code> callback property in order to validate the
user.  The callback may inspect the <code>GSASL_AUTHZID</code> and
<code>GSASL_GSSAPI_DISPLAY_NAME</code> properties to decide whether to
authorize the user.  Note that authentication is performed by the
GSS-API library and that <code>GSASL_AUTHID</code> is not used by the server
mechanism, its role is played by <code>GSASL_GSSAPI_DISPLAY_NAME</code>.
</p>
<p>This implementation does not support security layers.  You are
recommended to use TLS instead.
</p>
<p>The GSSAPI mechanism was specified as part of the initial core SASL
framework, in RFC 2222, but later revised in RFC 4752 to only apply to
Kerberos V5.
</p>
<hr>
<a name="GS2_002dKRB5"></a>
<div class="header">
<p>
Next: <a href="#SAML20" accesskey="n" rel="next">SAML20</a>, Previous: <a href="#GSSAPI" accesskey="p" rel="prev">GSSAPI</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-GS2_002dKRB5-mechanism"></a>
<h3 class="section">5.11 The GS2-KRB5 mechanism</h3>
<a name="index-GS2"></a>
<a name="index-GS2_002dKRB5"></a>

<p>GS2 is a protocol bridge between GSS-API and SASL, and allows every
GSS-API mechanism that supports mutual authentication and channel
bindings to be used as a SASL mechanism.  Currently GS2-KRB5 is
supported, for Kerberos V5 authentication, however our GS2
implementation is flexible enough to easily support other GSS-API
mechanism if any gains popularity.
</p>
<p>In the client, the mechanism is enabled only if the user has acquired
credentials (i.e., a ticket granting ticket), and it requires the
<code>GSASL_AUTHZID</code>, <code>GSASL_SERVICE</code>, and <code>GSASL_HOSTNAME</code>
properties.
</p>
<p>In the server, the mechanism requires the <code>GSASL_SERVICE</code> and
<code>GSASL_HOSTNAME</code> properties, and it will invoke the
<code>GSASL_VALIDATE_GSSAPI</code> callback property in order to validate the
user.  The callback may inspect the <code>GSASL_AUTHZID</code> and
<code>GSASL_GSSAPI_DISPLAY_NAME</code> properties to decide whether to
authorize the user.  Note that authentication is performed by the
GSS-API library and that <code>GSASL_AUTHID</code> is not used by the server
mechanism, its role is played by <code>GSASL_GSSAPI_DISPLAY_NAME</code>.
</p>
<a name="index-GS2_002dKRB5_002dPLUS"></a>
<p>The GS2 framework supports a variant of each mechanism, called the PLUS
variant, which can also bind the authentication to a secure channel
through channel bindings.  Currently this is not supported by GNU SASL.
</p>
<p>The GS2 mechanism family was specified in RFC 5801.
</p>
<hr>
<a name="SAML20"></a>
<div class="header">
<p>
Next: <a href="#OPENID20" accesskey="n" rel="next">OPENID20</a>, Previous: <a href="#GS2_002dKRB5" accesskey="p" rel="prev">GS2-KRB5</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-SAML20-mechanism"></a>
<h3 class="section">5.12 The SAML20 mechanism</h3>
<a name="index-SAML"></a>

<p>The SAML20 mechanism makes it possible to use SAML in SASL, in a way
that offloads the authentication exchange to an external web browser.
</p>
<p>The mechanism makes use of the following properties:
<code>GSASL_AUTHZID</code>, <code>GSASL_SAML20_IDP_IDENTIFIER</code>,
<code>GSASL_SAML20_REDIRECT_URL</code>,
<code>GSASL_SAML20_AUTHENTICATE_IN_BROWSER</code> and
<code>GSASL_VALIDATE_SAML20</code>.
</p>
<p>In client mode, the mechanism will retrieve the <code>GSASL_AUTHZID</code> and
<code>GSASL_SAML20_IDP_IDENTIFIER</code> properties and form a request to the
server.  The server will respond with a redirect URL stored in the
<code>GSASL_SAML20_REDIRECT_URL</code> property, which the client can retrieve
from the <code>GSASL_SAML20_AUTHENTICATE_IN_BROWSER</code> callback.  The
intention is that the client launches a browser to the given URL, and
then proceeds with authentication.  The server responds whether
authentication was successful or not.
</p>
<p>In server mode, the mechanism will invoke the
<code>GSASL_SAML20_REDIRECT_URL</code> callback and the application can
inspect the <code>GSASL_AUTHZID</code> and <code>GSASL_SAML20_IDP_IDENTIFIER</code>
properties when forming the redirect URL.  The URL is passed to the
client which will hopefully complete authentication in the browser.  The
server callback <code>GSASL_VALIDATE_SAML20</code> should check whether the
authentication attempt was successful.
</p>
<p>Note that SAML itself is not implemented by the GNU SASL library.  On
the client side, no SAML knowledge is needed, it is only required on the
server side.  The client only needs to be able to start a web browser to
access the redirect URL.  The server side is expected to call a SAML
library to generate the AuthRequest and to implement an
AssertionConsumerService (ACS) to validate the AuthResponse.  There is a
complete proof-of-concept example of a SMTP server with SAML 2.0 support
distributed with GNU SASL in the <code>examples/saml20/</code> sub-directory.
The example uses the Lasso SAML implementation
(<a href="http://lasso.entrouvert.org/">http://lasso.entrouvert.org/</a>) and require a web server for the
ACS side.  The example may be used as inspiration for your own server
implementation.  The <code>gsasl</code> command line client supports SAML20 as
a client.
</p>
<p>The SAML20 mechanism is specified in RFC 6595.
</p>
<hr>
<a name="OPENID20"></a>
<div class="header">
<p>
Next: <a href="#KERBEROS_005fV5" accesskey="n" rel="next">KERBEROS_V5</a>, Previous: <a href="#SAML20" accesskey="p" rel="prev">SAML20</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-OPENID20-mechanism"></a>
<h3 class="section">5.13 The OPENID20 mechanism</h3>
<a name="index-OpenID"></a>

<p>The OPENID20 mechanism makes it possible to use OpenID in SASL, in a way
that offloads the authentication exchange to an external web browser.
</p>
<p>The mechanism makes use of the following properties: <code>GSASL_AUTHID</code>
(for the OpenID User-Supplied Identifier), <code>GSASL_AUTHZID</code>,
<code>GSASL_OPENID20_REDIRECT_URL</code>, <code>GSASL_OPENID20_OUTCOME_DATA</code>,
<code>GSASL_OPENID20_AUTHENTICATE_IN_BROWSER</code>, and
<code>GSASL_VALIDATE_OPENID20</code>.
</p>
<p>In the client, the mechanism is enabled by default.  The
<code>GSASL_AUTHID</code> property is required and should contain the
User-Supplied OpenID Identifier (for example
<code>http://josefsson.org</code>).  If set, <code>GSASL_AUTHZID</code> will be used
by the client.  The client will be invoked with the
<code>GSASL_OPENID20_AUTHENTICATE_IN_BROWSER</code> callback to perform the
OpenID authentication in a web browser.  The callback can retrieve the
<code>GSASL_OPENID20_REDIRECT_URL</code> property to find out the URL to
redirect the user to.  After authentication, the client can retrieve the
<code>GSASL_OPENID20_OUTCOME_DATA</code> property with the OpenID Simple
Registry (SREG) attributes sent by the server (if any).
</p>
<p>In the server, the mechanism is enabled by default.  The server will
request the <code>GSASL_OPENID20_REDIRECT_URL</code> property, and your
callback may inspect the <code>GSASL_AUTHID</code> to find the OpenID
User-Supplied Identifier.  The server callback should perform OpenID
discovery and return the URL to redirect the user to.  After this, the
user would access the URL and proceed with authentication in the
browser.  The server is invoked with the
<code>GSASL_VALIDATE_OPENID20</code> callback to perform the actual
validation of the authentication.  Usually the callback will perform
some IPC communication with an OpenID consumer running in a web
server.  The callback should return <code>GSASL_OK</code> on successful
authentication and <code>GSASL_AUTHENTICATION_ERROR</code> on authentication
errors, or any other error code.  If the server received some OpenID
Simple Registry (SREG) attributes from the OpenID Identity Provider,
it may use the <code>GSASL_OPENID20_OUTCOME_DATA</code> property to send
these to the client.
</p>
<p>Note that OpenID itself is not implemented by the GNU SASL library.  On
the client side, no OpenID knowledge is required, it is only required on
the server side.  The client only needs to be able to start a web
browser to access the redirect URL.  The server side is expected to use
an OpenID library to generate the redirect URL and to implement the
Service Provider (SP) to validate the response from the IdP.  There is a
complete proof-of-concept example with a SMTP server with OpenID 2.0
support distributed with GNU SASL in the <code>examples/openid20/</code>
sub-directory.  It uses the JanRain PHP5 OpenID implementation and
require a web server to implement the OpenID SP.  The example may be
used as inspiration for your own server implementation.  The
<code>gsasl</code> command line client supports OPENID20 as a client.
</p>
<p>The OPENID20 mechanism is specified in RFC 6616.
</p>
<hr>
<a name="KERBEROS_005fV5"></a>
<div class="header">
<p>
Previous: <a href="#OPENID20" accesskey="p" rel="prev">OPENID20</a>, Up: <a href="#Mechanisms" accesskey="u" rel="up">Mechanisms</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="The-KERBEROS_005fV5-mechanism"></a>
<h3 class="section">5.14 The KERBEROS_V5 mechanism</h3>
<a name="index-KERBEROS_005fV5"></a>

<p>The KERBEROS_V5 is an experimental mechanism, the protocol
specification is available on the GNU SASL homepage.  It can operate
in three modes, non-infrastructure mode, infrastructure mode and
proxied infrastructure mode.  Currently only non-infrastructure mode
is supported.
</p>
<p>In the non-infrastructure mode, it works as a superset of most
features provided by PLAIN, CRAM-MD5, DIGEST-MD5 and GSSAPI while at
the same time building on what is believed to be proven technology
(the RFC 1510 network security system).  In the non-infrastructure
mode, the client must specify (via callbacks) the name of the user,
and optionally the server name and realm.  The server must be able to
retrieve passwords given the name of the user.
</p>
<p>In the infrastructure mode (proxied or otherwise), it allows clients
and servers to authenticate via SASL in an RFC 1510 environment, using
a trusted third party, a &ldquo;Key Distribution Central&rdquo;.  In the normal
mode, clients acquire tickets out of band and then invokes a one
roundtrip AP-REQ and AP-REP exchange.  In the proxied mode, which can
be used by clients without IP addresses or without connectivity to the
KDC (e.g., when the KDC is IPv4 and the client is IPV6-only), the
client uses the server to proxy ticket requests and finishes with the
AP-REQ/AP-REP exchange.  In infrastructure mode (proxied or
otherwise), neither the client nor server need to implement any
callbacks (this will likely change later, to allow a server to
authorize users, similar to the GSSAPI callback).
</p>
<p>XXX: update when implementation has matured
</p>
<hr>
<a name="Global-Functions"></a>
<div class="header">
<p>
Next: <a href="#Callback-Functions" accesskey="n" rel="next">Callback Functions</a>, Previous: <a href="#Mechanisms" accesskey="p" rel="prev">Mechanisms</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Global-Functions-1"></a>
<h2 class="chapter">6 Global Functions</h2>

<a name="gsasl_005finit-1"></a>
<h4 class="subheading">gsasl_init</h4>
<a name="gsasl_005finit"></a><dl>
<dt><a name="index-gsasl_005finit"></a>Function: <em>int</em> <strong>gsasl_init</strong> <em>(Gsasl ** <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: pointer to libgsasl handle.
</p>
<p>This functions initializes libgsasl.  The handle pointed to by ctx
is valid for use with other libgsasl functions iff this function is
successful.  It also register all builtin SASL mechanisms, using
<code>gsasl_register()</code> .
</p>
<p>Return value: GSASL_OK iff successful, otherwise
<code>GSASL_MALLOC_ERROR</code> .
</p></dd></dl>

<a name="gsasl_005fdone-1"></a>
<h4 class="subheading">gsasl_done</h4>
<a name="gsasl_005fdone"></a><dl>
<dt><a name="index-gsasl_005fdone"></a>Function: <em>void</em> <strong>gsasl_done</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>This function destroys a libgsasl handle.  The handle must not be
used with other libgsasl functions after this call.
</p></dd></dl>

<a name="gsasl_005fclient_005fmechlist-1"></a>
<h4 class="subheading">gsasl_client_mechlist</h4>
<a name="gsasl_005fclient_005fmechlist"></a><dl>
<dt><a name="index-gsasl_005fclient_005fmechlist"></a>Function: <em>int</em> <strong>gsasl_client_mechlist</strong> <em>(Gsasl * <var>ctx</var>, char ** <var>out</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>out</var>: newly allocated output character array.
</p>
<p>Return a newly allocated string containing SASL names, separated by
space, of mechanisms supported by the libgsasl client.   <code>out</code> is
allocated by this function, and it is the responsibility of caller
to deallocate it.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if successful, or error code.
</p></dd></dl>

<a name="gsasl_005fserver_005fmechlist-1"></a>
<h4 class="subheading">gsasl_server_mechlist</h4>
<a name="gsasl_005fserver_005fmechlist"></a><dl>
<dt><a name="index-gsasl_005fserver_005fmechlist"></a>Function: <em>int</em> <strong>gsasl_server_mechlist</strong> <em>(Gsasl * <var>ctx</var>, char ** <var>out</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>out</var>: newly allocated output character array.
</p>
<p>Return a newly allocated string containing SASL names, separated by
space, of mechanisms supported by the libgsasl server.   <code>out</code> is
allocated by this function, and it is the responsibility of caller
to deallocate it.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if successful, or error code.
</p></dd></dl>

<a name="gsasl_005fclient_005fsupport_005fp-1"></a>
<h4 class="subheading">gsasl_client_support_p</h4>
<a name="gsasl_005fclient_005fsupport_005fp"></a><dl>
<dt><a name="index-gsasl_005fclient_005fsupport_005fp"></a>Function: <em>int</em> <strong>gsasl_client_support_p</strong> <em>(Gsasl * <var>ctx</var>, const char * <var>name</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>name</var>: name of SASL mechanism.
</p>
<p>Decide whether there is client-side support for a specified
mechanism.
</p>
<p>Return value: Returns 1 if the libgsasl client supports the named
mechanism, otherwise 0.
</p></dd></dl>

<a name="gsasl_005fserver_005fsupport_005fp-1"></a>
<h4 class="subheading">gsasl_server_support_p</h4>
<a name="gsasl_005fserver_005fsupport_005fp"></a><dl>
<dt><a name="index-gsasl_005fserver_005fsupport_005fp"></a>Function: <em>int</em> <strong>gsasl_server_support_p</strong> <em>(Gsasl * <var>ctx</var>, const char * <var>name</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>name</var>: name of SASL mechanism.
</p>
<p>Decide whether there is server-side support for a specified
mechanism.
</p>
<p>Return value: Returns 1 if the libgsasl server supports the named
mechanism, otherwise 0.
</p></dd></dl>

<a name="gsasl_005fclient_005fsuggest_005fmechanism-1"></a>
<h4 class="subheading">gsasl_client_suggest_mechanism</h4>
<a name="gsasl_005fclient_005fsuggest_005fmechanism"></a><dl>
<dt><a name="index-gsasl_005fclient_005fsuggest_005fmechanism"></a>Function: <em>const char *</em> <strong>gsasl_client_suggest_mechanism</strong> <em>(Gsasl * <var>ctx</var>, const char * <var>mechlist</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>mechlist</var>: input character array with SASL mechanism names,
separated by invalid characters (e.g. SPC).
</p>
<p>Given a list of mechanisms, suggest which to use.
</p>
<p>Return value: Returns name of &quot;best&quot; SASL mechanism supported by
the libgsasl client which is present in the input string, or
NULL if no supported mechanism is found.
</p></dd></dl>

<a name="gsasl_005fregister-1"></a>
<h4 class="subheading">gsasl_register</h4>
<a name="gsasl_005fregister"></a><dl>
<dt><a name="index-gsasl_005fregister"></a>Function: <em>int</em> <strong>gsasl_register</strong> <em>(Gsasl * <var>ctx</var>, const Gsasl_mechanism * <var>mech</var>)</em></dt>
<dd><p><var>ctx</var>: pointer to libgsasl handle.
</p>
<p><var>mech</var>: plugin structure with information about plugin.
</p>
<p>This function initialize given mechanism, and if successful, add it
to the list of plugins that is used by the library.
</p>
<p>Return value: <code>GSASL_OK</code>  iff successful, otherwise <code>GSASL_MALLOC_ERROR</code> .
</p>
<p><strong>Since:</strong> 0.2.0
</p></dd></dl>



<hr>
<a name="Callback-Functions"></a>
<div class="header">
<p>
Next: <a href="#Property-Functions" accesskey="n" rel="next">Property Functions</a>, Previous: <a href="#Global-Functions" accesskey="p" rel="prev">Global Functions</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Callback-Functions-1"></a>
<h2 class="chapter">7 Callback Functions</h2>
<a name="index-Callbacks"></a>

<p>The callback is used by mechanisms to retrieve information, such as
username and password, from the application.  In a server, the
callback is used to decide whether a user is permitted to log in or
not.  You tell the library of your callback function by calling
<code>gsasl_callback_set</code>.
</p>
<p>Since your callback may need access to data from other parts of your
application, there are hooks to store and retrieve application
specific pointers.  This avoids the use of global variables, which
wouldn&rsquo;t be thread safe.  You store a pointer to some information
(opaque from the point of view of the library) by calling
<code>gsasl_callback_hook_set</code> and can later retrieve this data in
your callback by calling <code>gsasl_callback_hook_get</code>.
</p>
<a name="gsasl_005fcallback_005fset-1"></a>
<h4 class="subheading">gsasl_callback_set</h4>
<a name="gsasl_005fcallback_005fset"></a><dl>
<dt><a name="index-gsasl_005fcallback_005fset"></a>Function: <em>void</em> <strong>gsasl_callback_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_callback_function <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: handle received from <code>gsasl_init()</code> .
</p>
<p><var>cb</var>: pointer to function implemented by application.
</p>
<p>Store the pointer to the application provided callback in the
library handle.  The callback will be used, via <code>gsasl_callback()</code> ,
by mechanisms to discover various parameters (such as username and
passwords).  The callback function will be called with a
Gsasl_property value indicating the requested behaviour.  For
example, for <code>GSASL_ANONYMOUS_TOKEN</code> , the function is expected to
invoke gsasl_property_set( <code>CTX</code> , <code>GSASL_ANONYMOUS_TOKEN</code> , &quot;token&quot;)
where &quot;token&quot; is the anonymous token the application wishes the
SASL mechanism to use.  See the manual for the meaning of all
parameters.
</p>
<p><strong>Since:</strong> 0.2.0
</p></dd></dl>

<a name="gsasl_005fcallback-1"></a>
<h4 class="subheading">gsasl_callback</h4>
<a name="gsasl_005fcallback"></a><dl>
<dt><a name="index-gsasl_005fcallback"></a>Function: <em>int</em> <strong>gsasl_callback</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_session * <var>sctx</var>, Gsasl_property <var>prop</var>)</em></dt>
<dd><p><var>ctx</var>: handle received from <code>gsasl_init()</code> , may be NULL to derive it
from  <code>sctx</code> .
</p>
<p><var>sctx</var>: session handle.
</p>
<p><var>prop</var>: enumerated value of Gsasl_property type.
</p>
<p>Invoke the application callback.  The  <code>prop</code> value indicate what the
callback is expected to do.  For example, for
<code>GSASL_ANONYMOUS_TOKEN</code> , the function is expected to invoke
gsasl_property_set( <code>SCTX</code> , <code>GSASL_ANONYMOUS_TOKEN</code> , &quot;token&quot;) where
&quot;token&quot; is the anonymous token the application wishes the SASL
mechanism to use.  See the manual for the meaning of all
parameters.
</p>
<p>Note that if no callback has been set by the application, but the
obsolete callback interface has been used, this function will
translate the old callback interface into the new.  This interface
should be sufficient to invoke all callbacks, both new and old.
</p>
<p>Return value: Returns whatever the application callback returns, or
<code>GSASL_NO_CALLBACK</code>  if no application was known.
</p>
<p><strong>Since:</strong> 0.2.0
</p></dd></dl>

<a name="gsasl_005fcallback_005fhook_005fset-1"></a>
<h4 class="subheading">gsasl_callback_hook_set</h4>
<a name="gsasl_005fcallback_005fhook_005fset"></a><dl>
<dt><a name="index-gsasl_005fcallback_005fhook_005fset"></a>Function: <em>void</em> <strong>gsasl_callback_hook_set</strong> <em>(Gsasl * <var>ctx</var>, void * <var>hook</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>hook</var>: opaque pointer to application specific data.
</p>
<p>Store application specific data in the libgsasl handle.
</p>
<p>The application data can be later (for instance, inside a callback)
be retrieved by calling <code>gsasl_callback_hook_get()</code> .  This is
normally used by the application to maintain a global state between
the main program and callbacks.
</p>
<p><strong>Since:</strong> 0.2.0
</p></dd></dl>

<a name="gsasl_005fcallback_005fhook_005fget-1"></a>
<h4 class="subheading">gsasl_callback_hook_get</h4>
<a name="gsasl_005fcallback_005fhook_005fget"></a><dl>
<dt><a name="index-gsasl_005fcallback_005fhook_005fget"></a>Function: <em>void *</em> <strong>gsasl_callback_hook_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Retrieve application specific data from libgsasl handle.
</p>
<p>The application data is set using <code>gsasl_callback_hook_set()</code> .  This
is normally used by the application to maintain a global state
between the main program and callbacks.
</p>
<p>Return value: Returns the application specific data, or NULL.
</p>
<p><strong>Since:</strong> 0.2.0
</p></dd></dl>

<a name="gsasl_005fsession_005fhook_005fset-1"></a>
<h4 class="subheading">gsasl_session_hook_set</h4>
<a name="gsasl_005fsession_005fhook_005fset"></a><dl>
<dt><a name="index-gsasl_005fsession_005fhook_005fset"></a>Function: <em>void</em> <strong>gsasl_session_hook_set</strong> <em>(Gsasl_session * <var>sctx</var>, void * <var>hook</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl session handle.
</p>
<p><var>hook</var>: opaque pointer to application specific data.
</p>
<p>Store application specific data in the libgsasl session handle.
</p>
<p>The application data can be later (for instance, inside a callback)
be retrieved by calling <code>gsasl_session_hook_get()</code> .  This is normally
used by the application to maintain a per-session state between the
main program and callbacks.
</p>
<p><strong>Since:</strong> 0.2.14
</p></dd></dl>

<a name="gsasl_005fsession_005fhook_005fget-1"></a>
<h4 class="subheading">gsasl_session_hook_get</h4>
<a name="gsasl_005fsession_005fhook_005fget"></a><dl>
<dt><a name="index-gsasl_005fsession_005fhook_005fget"></a>Function: <em>void *</em> <strong>gsasl_session_hook_get</strong> <em>(Gsasl_session * <var>sctx</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl session handle.
</p>
<p>Retrieve application specific data from libgsasl session handle.
</p>
<p>The application data is set using <code>gsasl_callback_hook_set()</code> .  This
is normally used by the application to maintain a per-session state
between the main program and callbacks.
</p>
<p>Return value: Returns the application specific data, or NULL.
</p>
<p><strong>Since:</strong> 0.2.14
</p></dd></dl>


<hr>
<a name="Property-Functions"></a>
<div class="header">
<p>
Next: <a href="#Session-Functions" accesskey="n" rel="next">Session Functions</a>, Previous: <a href="#Callback-Functions" accesskey="p" rel="prev">Callback Functions</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Property-Functions-1"></a>
<h2 class="chapter">8 Property Functions</h2>
<a name="index-Properties"></a>

<a name="gsasl_005fproperty_005fset-1"></a>
<h4 class="subheading">gsasl_property_set</h4>
<a name="gsasl_005fproperty_005fset"></a><dl>
<dt><a name="index-gsasl_005fproperty_005fset"></a>Function: <em>void</em> <strong>gsasl_property_set</strong> <em>(Gsasl_session * <var>sctx</var>, Gsasl_property <var>prop</var>, const char * <var>data</var>)</em></dt>
<dd><p><var>sctx</var>: session handle.
</p>
<p><var>prop</var>: enumerated value of Gsasl_property type, indicating the
type of data in  <code>data</code> .
</p>
<p><var>data</var>: zero terminated character string to store.
</p>
<p>Make a copy of  <code>data</code> and store it in the session handle for the
indicated property  <code>prop</code> .
</p>
<p>You can immediately deallocate  <code>data</code> after calling this function,
without affecting the data stored in the session handle.
</p>
<p><strong>Since:</strong> 0.2.0
</p></dd></dl>

<a name="gsasl_005fproperty_005fset_005fraw-1"></a>
<h4 class="subheading">gsasl_property_set_raw</h4>
<a name="gsasl_005fproperty_005fset_005fraw"></a><dl>
<dt><a name="index-gsasl_005fproperty_005fset_005fraw"></a>Function: <em>void</em> <strong>gsasl_property_set_raw</strong> <em>(Gsasl_session * <var>sctx</var>, Gsasl_property <var>prop</var>, const char * <var>data</var>, size_t <var>len</var>)</em></dt>
<dd><p><var>sctx</var>: session handle.
</p>
<p><var>prop</var>: enumerated value of Gsasl_property type, indicating the
type of data in  <code>data</code> .
</p>
<p><var>data</var>: character string to store.
</p>
<p><var>len</var>: length of character string to store.
</p>
<p>Make a copy of  <code>len</code> sized  <code>data</code> and store a zero terminated version
of it in the session handle for the indicated property  <code>prop</code> .
</p>
<p>You can immediately deallocate  <code>data</code> after calling this function,
without affecting the data stored in the session handle.
</p>
<p>Except for the length indicator, this function is identical to
gsasl_property_set.
</p>
<p><strong>Since:</strong> 0.2.0
</p></dd></dl>

<a name="gsasl_005fproperty_005ffast-1"></a>
<h4 class="subheading">gsasl_property_fast</h4>
<a name="gsasl_005fproperty_005ffast"></a><dl>
<dt><a name="index-gsasl_005fproperty_005ffast"></a>Function: <em>const char *</em> <strong>gsasl_property_fast</strong> <em>(Gsasl_session * <var>sctx</var>, Gsasl_property <var>prop</var>)</em></dt>
<dd><p><var>sctx</var>: session handle.
</p>
<p><var>prop</var>: enumerated value of Gsasl_property type, indicating the
type of data in  <code>data</code> .
</p>
<p>Retrieve the data stored in the session handle for given property
 <code>prop</code> .
</p>
<p>The pointer is to live data, and must not be deallocated or
modified in any way.
</p>
<p>This function will not invoke the application callback.
</p>
<p>Return value: Return property value, if known, or NULL if no value
known.
</p>
<p><strong>Since:</strong> 0.2.0
</p></dd></dl>

<a name="gsasl_005fproperty_005fget-1"></a>
<h4 class="subheading">gsasl_property_get</h4>
<a name="gsasl_005fproperty_005fget"></a><dl>
<dt><a name="index-gsasl_005fproperty_005fget"></a>Function: <em>const char *</em> <strong>gsasl_property_get</strong> <em>(Gsasl_session * <var>sctx</var>, Gsasl_property <var>prop</var>)</em></dt>
<dd><p><var>sctx</var>: session handle.
</p>
<p><var>prop</var>: enumerated value of Gsasl_property type, indicating the
type of data in  <code>data</code> .
</p>
<p>Retrieve the data stored in the session handle for given property
 <code>prop</code> , possibly invoking the application callback to get the value.
</p>
<p>The pointer is to live data, and must not be deallocated or
modified in any way.
</p>
<p>This function will invoke the application callback, using
<code>gsasl_callback()</code> , when a property value is not known.
</p>
<p>If no value is known, and no callback is specified or if the
callback fail to return data, and if any obsolete callback
functions has been set by the application, this function will try
to call these obsolete callbacks, and store the returned data as
the corresponding property.  This behaviour of this function will
be removed when the obsolete callback interfaces are removed.
</p>
<p>Return value: Return data for property, or NULL if no value known.
</p>
<p><strong>Since:</strong> 0.2.0
</p></dd></dl>



<hr>
<a name="Session-Functions"></a>
<div class="header">
<p>
Next: <a href="#Utilities" accesskey="n" rel="next">Utilities</a>, Previous: <a href="#Property-Functions" accesskey="p" rel="prev">Property Functions</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Session-Functions-1"></a>
<h2 class="chapter">9 Session Functions</h2>
<a name="index-SASL-sessions"></a>

<a name="gsasl_005fclient_005fstart-1"></a>
<h4 class="subheading">gsasl_client_start</h4>
<a name="gsasl_005fclient_005fstart"></a><dl>
<dt><a name="index-gsasl_005fclient_005fstart"></a>Function: <em>int</em> <strong>gsasl_client_start</strong> <em>(Gsasl * <var>ctx</var>, const char * <var>mech</var>, Gsasl_session ** <var>sctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>mech</var>: name of SASL mechanism.
</p>
<p><var>sctx</var>: pointer to client handle.
</p>
<p>This functions initiates a client SASL authentication.  This
function must be called before any other gsasl_client_*() function
is called.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if successful, or error code.
</p></dd></dl>

<a name="gsasl_005fserver_005fstart-1"></a>
<h4 class="subheading">gsasl_server_start</h4>
<a name="gsasl_005fserver_005fstart"></a><dl>
<dt><a name="index-gsasl_005fserver_005fstart"></a>Function: <em>int</em> <strong>gsasl_server_start</strong> <em>(Gsasl * <var>ctx</var>, const char * <var>mech</var>, Gsasl_session ** <var>sctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>mech</var>: name of SASL mechanism.
</p>
<p><var>sctx</var>: pointer to server handle.
</p>
<p>This functions initiates a server SASL authentication.  This
function must be called before any other gsasl_server_*() function
is called.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if successful, or error code.
</p></dd></dl>

<a name="gsasl_005fstep-1"></a>
<h4 class="subheading">gsasl_step</h4>
<a name="gsasl_005fstep"></a><dl>
<dt><a name="index-gsasl_005fstep"></a>Function: <em>int</em> <strong>gsasl_step</strong> <em>(Gsasl_session * <var>sctx</var>, const char * <var>input</var>, size_t <var>input_len</var>, char ** <var>output</var>, size_t * <var>output_len</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl session handle.
</p>
<p><var>input</var>: input byte array.
</p>
<p><var>input_len</var>: size of input byte array.
</p>
<p><var>output</var>: newly allocated output byte array.
</p>
<p><var>output_len</var>: pointer to output variable with size of output byte array.
</p>
<p>Perform one step of SASL authentication.  This reads data from the
other end (from  <code>input</code> and  <code>input_len</code> ), processes it (potentially
invoking callbacks to the application), and writes data to server
(into newly allocated variable  <code>output</code> and  <code>output_len</code> that
indicate the length of  <code>output</code> ).
</p>
<p>The contents of the  <code>output</code> buffer is unspecified if this functions
returns anything other than <code>GSASL_OK</code>  or <code>GSASL_NEEDS_MORE</code> .  If
this function return <code>GSASL_OK</code>  or <code>GSASL_NEEDS_MORE</code> , however, the
 <code>output</code> buffer is allocated by this function, and it is the
responsibility of caller to deallocate it by calling free
( <code>output</code> ).
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if authenticated terminated
successfully, <code>GSASL_NEEDS_MORE</code>  if more data is needed, or error
code.
</p></dd></dl>

<a name="gsasl_005fstep64-1"></a>
<h4 class="subheading">gsasl_step64</h4>
<a name="gsasl_005fstep64"></a><dl>
<dt><a name="index-gsasl_005fstep64"></a>Function: <em>int</em> <strong>gsasl_step64</strong> <em>(Gsasl_session * <var>sctx</var>, const char * <var>b64input</var>, char ** <var>b64output</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl client handle.
</p>
<p><var>b64input</var>: input base64 encoded byte array.
</p>
<p><var>b64output</var>: newly allocated output base64 encoded byte array.
</p>
<p>This is a simple wrapper around <code>gsasl_step()</code>  that base64 decodes
the input and base64 encodes the output.
</p>
<p>The contents of the  <code>b64output</code> buffer is unspecified if this
functions returns anything other than <code>GSASL_OK</code>  or
<code>GSASL_NEEDS_MORE</code> .  If this function return <code>GSASL_OK</code>  or
<code>GSASL_NEEDS_MORE</code> , however, the  <code>b64output</code> buffer is allocated by
this function, and it is the responsibility of caller to deallocate
it by calling free ( <code>b64output</code> ).
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if authenticated terminated
successfully, <code>GSASL_NEEDS_MORE</code>  if more data is needed, or error
code.
</p></dd></dl>

<a name="gsasl_005ffinish-1"></a>
<h4 class="subheading">gsasl_finish</h4>
<a name="gsasl_005ffinish"></a><dl>
<dt><a name="index-gsasl_005ffinish"></a>Function: <em>void</em> <strong>gsasl_finish</strong> <em>(Gsasl_session * <var>sctx</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl session handle.
</p>
<p>Destroy a libgsasl client or server handle.  The handle must not be
used with other libgsasl functions after this call.
</p></dd></dl>

<a name="gsasl_005fencode-1"></a>
<h4 class="subheading">gsasl_encode</h4>
<a name="gsasl_005fencode"></a><dl>
<dt><a name="index-gsasl_005fencode"></a>Function: <em>int</em> <strong>gsasl_encode</strong> <em>(Gsasl_session * <var>sctx</var>, const char * <var>input</var>, size_t <var>input_len</var>, char ** <var>output</var>, size_t * <var>output_len</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl session handle.
</p>
<p><var>input</var>: input byte array.
</p>
<p><var>input_len</var>: size of input byte array.
</p>
<p><var>output</var>: newly allocated output byte array.
</p>
<p><var>output_len</var>: size of output byte array.
</p>
<p>Encode data according to negotiated SASL mechanism.  This might mean
that data is integrity or privacy protected.
</p>
<p>The  <code>output</code> buffer is allocated by this function, and it is the
responsibility of caller to deallocate it by calling free( <code>output</code> ).
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if encoding was successful,
otherwise an error code.
</p></dd></dl>

<a name="gsasl_005fdecode-1"></a>
<h4 class="subheading">gsasl_decode</h4>
<a name="gsasl_005fdecode"></a><dl>
<dt><a name="index-gsasl_005fdecode"></a>Function: <em>int</em> <strong>gsasl_decode</strong> <em>(Gsasl_session * <var>sctx</var>, const char * <var>input</var>, size_t <var>input_len</var>, char ** <var>output</var>, size_t * <var>output_len</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl session handle.
</p>
<p><var>input</var>: input byte array.
</p>
<p><var>input_len</var>: size of input byte array.
</p>
<p><var>output</var>: newly allocated output byte array.
</p>
<p><var>output_len</var>: size of output byte array.
</p>
<p>Decode data according to negotiated SASL mechanism.  This might mean
that data is integrity or privacy protected.
</p>
<p>The  <code>output</code> buffer is allocated by this function, and it is the
responsibility of caller to deallocate it by calling free( <code>output</code> ).
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if encoding was successful,
otherwise an error code.
</p></dd></dl>

<a name="gsasl_005fmechanism_005fname-1"></a>
<h4 class="subheading">gsasl_mechanism_name</h4>
<a name="gsasl_005fmechanism_005fname"></a><dl>
<dt><a name="index-gsasl_005fmechanism_005fname"></a>Function: <em>const char *</em> <strong>gsasl_mechanism_name</strong> <em>(Gsasl_session * <var>sctx</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl session handle.
</p>
<p>This function returns the name of the SASL mechanism used in the
session.  The pointer must not be deallocated by the caller.
</p>
<p>Return value: Returns a zero terminated character array with the
name of the SASL mechanism, or NULL if not known.
</p>
<p><strong>Since:</strong> 0.2.28
</p></dd></dl>




<hr>
<a name="Utilities"></a>
<div class="header">
<p>
Next: <a href="#Memory-Handling" accesskey="n" rel="next">Memory Handling</a>, Previous: <a href="#Session-Functions" accesskey="p" rel="prev">Session Functions</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Utilities-1"></a>
<h2 class="chapter">10 Utilities</h2>

<a name="gsasl_005fsaslprep-1"></a>
<h4 class="subheading">gsasl_saslprep</h4>
<a name="gsasl_005fsaslprep"></a><dl>
<dt><a name="index-gsasl_005fsaslprep"></a>Function: <em>int</em> <strong>gsasl_saslprep</strong> <em>(const char * <var>in</var>, Gsasl_saslprep_flags <var>flags</var>, char ** <var>out</var>, int * <var>stringpreprc</var>)</em></dt>
<dd><p><var>in</var>: a UTF-8 encoded string.
</p>
<p><var>flags</var>: any SASLprep flag, e.g., <code>GSASL_ALLOW_UNASSIGNED</code> .
</p>
<p><var>out</var>: on exit, contains newly allocated output string.
</p>
<p><var>stringpreprc</var>: if non-NULL, will hold precise stringprep return code.
</p>
<p>Prepare string using SASLprep.  On success, the  <code>out</code> variable must
be deallocated by the caller.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  on success, or
<code>GSASL_SASLPREP_ERROR</code>  on error.
</p>
<p><strong>Since:</strong> 0.2.3
</p></dd></dl>

<a name="gsasl_005fbase64_005fto-1"></a>
<h4 class="subheading">gsasl_base64_to</h4>
<a name="gsasl_005fbase64_005fto"></a><dl>
<dt><a name="index-gsasl_005fbase64_005fto"></a>Function: <em>int</em> <strong>gsasl_base64_to</strong> <em>(const char * <var>in</var>, size_t <var>inlen</var>, char ** <var>out</var>, size_t * <var>outlen</var>)</em></dt>
<dd><p><var>in</var>: input byte array.
</p>
<p><var>inlen</var>: size of input byte array.
</p>
<p><var>out</var>: pointer to newly allocated base64-encoded string.
</p>
<p><var>outlen</var>: pointer to size of newly allocated base64-encoded string.
</p>
<p>Encode data as base64.  The  <code>out</code> string is zero terminated, and
 <code>outlen</code> holds the length excluding the terminating zero.  The  <code>out</code> buffer must be deallocated by the caller.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  on success, or <code>GSASL_MALLOC_ERROR</code> 
if input was too large or memory allocation fail.
</p>
<p><strong>Since:</strong> 0.2.2
</p></dd></dl>

<a name="gsasl_005fbase64_005ffrom-1"></a>
<h4 class="subheading">gsasl_base64_from</h4>
<a name="gsasl_005fbase64_005ffrom"></a><dl>
<dt><a name="index-gsasl_005fbase64_005ffrom"></a>Function: <em>int</em> <strong>gsasl_base64_from</strong> <em>(const char * <var>in</var>, size_t <var>inlen</var>, char ** <var>out</var>, size_t * <var>outlen</var>)</em></dt>
<dd><p><var>in</var>: input byte array
</p>
<p><var>inlen</var>: size of input byte array
</p>
<p><var>out</var>: pointer to newly allocated output byte array
</p>
<p><var>outlen</var>: pointer to size of newly allocated output byte array
</p>
<p>Decode Base64 data.  The  <code>out</code> buffer must be deallocated by the
caller.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  on success, <code>GSASL_BASE64_ERROR</code>  if
input was invalid, and <code>GSASL_MALLOC_ERROR</code>  on memory allocation
errors.
</p>
<p><strong>Since:</strong> 0.2.2
</p></dd></dl>

<a name="gsasl_005fhex_005fto-1"></a>
<h4 class="subheading">gsasl_hex_to</h4>
<a name="gsasl_005fhex_005fto"></a><dl>
<dt><a name="index-gsasl_005fhex_005fto"></a>Function: <em>int</em> <strong>gsasl_hex_to</strong> <em>(const char * <var>in</var>, size_t <var>inlen</var>, char ** <var>out</var>, size_t * <var>outlen</var>)</em></dt>
<dd><p><var>in</var>: input byte array.
</p>
<p><var>inlen</var>: size of input byte array.
</p>
<p><var>out</var>: pointer to newly allocated hex-encoded string.
</p>
<p><var>outlen</var>: pointer to size of newly allocated hex-encoded string.
</p>
<p>Hex encode data.  The  <code>out</code> string is zero terminated, and  <code>outlen</code> holds the length excluding the terminating zero.  The  <code>out</code> buffer
must be deallocated by the caller.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  on success, or <code>GSASL_MALLOC_ERROR</code> 
if input was too large or memory allocation fail.
</p>
<p><strong>Since:</strong> 1.10
</p></dd></dl>

<a name="gsasl_005fhex_005ffrom-1"></a>
<h4 class="subheading">gsasl_hex_from</h4>
<a name="gsasl_005fhex_005ffrom"></a><dl>
<dt><a name="index-gsasl_005fhex_005ffrom"></a>Function: <em>int</em> <strong>gsasl_hex_from</strong> <em>(const char * <var>in</var>, char ** <var>out</var>, size_t * <var>outlen</var>)</em></dt>
<dd><p><var>in</var>: input byte array
</p>
<p><var>out</var>: pointer to newly allocated output byte array
</p>
<p><var>outlen</var>: pointer to size of newly allocated output byte array
</p>
<p>Decode hex data.  The  <code>out</code> buffer must be deallocated by the
caller.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  on success, <code>GSASL_BASE64_ERROR</code>  if
input was invalid, and <code>GSASL_MALLOC_ERROR</code>  on memory allocation
errors.
</p>
<p><strong>Since:</strong> 1.10
</p></dd></dl>

<a name="gsasl_005fsimple_005fgetpass-1"></a>
<h4 class="subheading">gsasl_simple_getpass</h4>
<a name="gsasl_005fsimple_005fgetpass"></a><dl>
<dt><a name="index-gsasl_005fsimple_005fgetpass"></a>Function: <em>int</em> <strong>gsasl_simple_getpass</strong> <em>(const char * <var>filename</var>, const char * <var>username</var>, char ** <var>key</var>)</em></dt>
<dd><p><var>filename</var>: filename of file containing passwords.
</p>
<p><var>username</var>: username string.
</p>
<p><var>key</var>: newly allocated output character array.
</p>
<p>Retrieve password for user from specified file.  The buffer  <code>key</code> contain the password if this function is successful.  The caller is
responsible for deallocating it.
</p>
<p>The file should be on the UoW &quot;MD5 Based Authentication&quot; format,
which means it is in text format with comments denoted by # first
on the line, with user entries looking as &quot;usernameTABpassword&quot;.
This function removes CR and LF at the end of lines before
processing.  TAB, CR, and LF denote ASCII values 9, 13, and 10,
respectively.
</p>
<p>Return value: Return <code>GSASL_OK</code>  if output buffer contains the
password, <code>GSASL_AUTHENTICATION_ERROR</code>  if the user could not be
found, or other error code.
</p></dd></dl>

<a name="gsasl_005fnonce-1"></a>
<h4 class="subheading">gsasl_nonce</h4>
<a name="gsasl_005fnonce"></a><dl>
<dt><a name="index-gsasl_005fnonce"></a>Function: <em>int</em> <strong>gsasl_nonce</strong> <em>(char * <var>data</var>, size_t <var>datalen</var>)</em></dt>
<dd><p><var>data</var>: output array to be filled with unpredictable random data.
</p>
<p><var>datalen</var>: size of output array.
</p>
<p>Store unpredictable data of given size in the provided buffer.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  iff successful.
</p></dd></dl>

<a name="gsasl_005frandom-1"></a>
<h4 class="subheading">gsasl_random</h4>
<a name="gsasl_005frandom"></a><dl>
<dt><a name="index-gsasl_005frandom"></a>Function: <em>int</em> <strong>gsasl_random</strong> <em>(char * <var>data</var>, size_t <var>datalen</var>)</em></dt>
<dd><p><var>data</var>: output array to be filled with strong random data.
</p>
<p><var>datalen</var>: size of output array.
</p>
<p>Store cryptographically strong random data of given size in the
provided buffer.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  iff successful.
</p></dd></dl>

<a name="gsasl_005fhash_005flength-1"></a>
<h4 class="subheading">gsasl_hash_length</h4>
<a name="gsasl_005fhash_005flength"></a><dl>
<dt><a name="index-gsasl_005fhash_005flength"></a>Function: <em>size_t</em> <strong>gsasl_hash_length</strong> <em>(Gsasl_hash <var>hash</var>)</em></dt>
<dd><p><var>hash</var>: a <code>Gsasl_hash</code>  element, e.g., <code>GSASL_HASH_SHA256</code> .
</p>
<p>Return the digest output size for hash function  <code>hash</code> .  For
example, gsasl_hash_length(GSASL_HASH_SHA256) returns
GSASL_HASH_SHA256_SIZE which is 32.
</p>
<p><strong>Returns:</strong> size of supplied <code>Gsasl_hash</code>  element.
</p>
<p><strong>Since:</strong> 1.10
</p></dd></dl>

<a name="gsasl_005fscram_005fsecrets_005ffrom_005fsalted_005fpassword-1"></a>
<h4 class="subheading">gsasl_scram_secrets_from_salted_password</h4>
<a name="gsasl_005fscram_005fsecrets_005ffrom_005fsalted_005fpassword"></a><dl>
<dt><a name="index-gsasl_005fscram_005fsecrets_005ffrom_005fsalted_005fpassword"></a>Function: <em>int</em> <strong>gsasl_scram_secrets_from_salted_password</strong> <em>(Gsasl_hash <var>hash</var>, const char * <var>salted_password</var>, char * <var>client_key</var>, char * <var>server_key</var>, char * <var>stored_key</var>)</em></dt>
<dd><p><var>hash</var>: a <code>Gsasl_hash</code>  element, e.g., <code>GSASL_HASH_SHA256</code> .
</p>
<p><var>salted_password</var>: input array with salted password.
</p>
<p><var>client_key</var>: pre-allocated output array with derived client key.
</p>
<p><var>server_key</var>: pre-allocated output array with derived server key.
</p>
<p><var>stored_key</var>: pre-allocated output array with derived stored key.
</p>
<p>Helper function to derive SCRAM ClientKey/ServerKey/StoredKey.  The
 <code>client_key</code> ,  <code>server_key</code> , and  <code>stored_key</code> buffers must have room to
hold digest for given  <code>hash</code> , use <code>GSASL_HASH_MAX_SIZE</code>  which is
sufficient for all hashes.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if successful, or error code.
</p>
<p><strong>Since:</strong> 1.10
</p></dd></dl>

<a name="gsasl_005fscram_005fsecrets_005ffrom_005fpassword-1"></a>
<h4 class="subheading">gsasl_scram_secrets_from_password</h4>
<a name="gsasl_005fscram_005fsecrets_005ffrom_005fpassword"></a><dl>
<dt><a name="index-gsasl_005fscram_005fsecrets_005ffrom_005fpassword"></a>Function: <em>int</em> <strong>gsasl_scram_secrets_from_password</strong> <em>(Gsasl_hash <var>hash</var>, const char * <var>password</var>, unsigned int <var>iteration_count</var>, const char * <var>salt</var>, size_t <var>saltlen</var>, char * <var>salted_password</var>, char * <var>client_key</var>, char * <var>server_key</var>, char * <var>stored_key</var>)</em></dt>
<dd><p><var>hash</var>: a <code>Gsasl_hash</code>  element, e.g., <code>GSASL_HASH_SHA256</code> .
</p>
<p><var>password</var>: input parameter with password.
</p>
<p><var>iteration_count</var>: number of PBKDF2 rounds to apply.
</p>
<p><var>salt</var>: input character array of  <code>saltlen</code> length with salt for PBKDF2.
</p>
<p><var>saltlen</var>: length of  <code>salt</code> .
</p>
<p><var>salted_password</var>: pre-allocated output array with derived salted password.
</p>
<p><var>client_key</var>: pre-allocated output array with derived client key.
</p>
<p><var>server_key</var>: pre-allocated output array with derived server key.
</p>
<p><var>stored_key</var>: pre-allocated output array with derived stored key.
</p>
<p>Helper function to generate SCRAM secrets from a password.  The
 <code>salted_password</code> ,  <code>client_key</code> ,  <code>server_key</code> , and  <code>stored_key</code> buffers
must have room to hold digest for given  <code>hash</code> , use
<code>GSASL_HASH_MAX_SIZE</code>  which is sufficient for all hashes.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if successful, or error code.
</p>
<p><strong>Since:</strong> 1.10
</p></dd></dl>


<hr>
<a name="Memory-Handling"></a>
<div class="header">
<p>
Next: <a href="#Error-Handling" accesskey="n" rel="next">Error Handling</a>, Previous: <a href="#Utilities" accesskey="p" rel="prev">Utilities</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Memory-Handling-1"></a>
<h2 class="chapter">11 Memory Handling</h2>

<a name="gsasl_005ffree-1"></a>
<h4 class="subheading">gsasl_free</h4>
<a name="gsasl_005ffree"></a><dl>
<dt><a name="index-gsasl_005ffree"></a>Function: <em>void</em> <strong>gsasl_free</strong> <em>(void * <var>ptr</var>)</em></dt>
<dd><p><var>ptr</var>: memory pointer
</p>
<p>Invoke free( <code>ptr</code> ) to de-allocate memory pointer.  Typically used on
strings allocated by other libgsasl functions.
</p>
<p>This is useful on Windows where libgsasl is linked to one CRT and
the application is linked to another CRT.  Then malloc/free will
not use the same heap.  This happens if you build libgsasl using
mingw32 and the application with Visual Studio.
</p>
<p><strong>Since:</strong> 0.2.19
</p></dd></dl>



<hr>
<a name="Error-Handling"></a>
<div class="header">
<p>
Next: <a href="#Examples" accesskey="n" rel="next">Examples</a>, Previous: <a href="#Memory-Handling" accesskey="p" rel="prev">Memory Handling</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Error-Handling-1"></a>
<h2 class="chapter">12 Error Handling</h2>
<a name="index-Error-Handling"></a>

<p>Most functions in the GNU SASL Library return an error if they fail.
For this reason, the application should always catch the error
condition and take appropriate measures, for example by releasing the
resources and passing the error up to the caller, or by displaying a
descriptive message to the user and cancelling the operation.
</p>
<p>Some error values do not indicate a system error or an error in the
operation, but the result of an operation that failed properly.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Error-values" accesskey="1">Error values</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">A list of all error values used.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Error-strings" accesskey="2">Error strings</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">How to get a descriptive string from a value.
</td></tr>
</table>

<hr>
<a name="Error-values"></a>
<div class="header">
<p>
Next: <a href="#Error-strings" accesskey="n" rel="next">Error strings</a>, Up: <a href="#Error-Handling" accesskey="u" rel="up">Error Handling</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Error-values-1"></a>
<h3 class="section">12.1 Error values</h3>

<p>Errors are returned as <code>int</code> values.
</p>
<p>The value of the symbol <code>GSASL_OK</code> is guaranteed to always be
<code>0</code>, and all other error codes are guaranteed to be non-<code>0</code>,
so you may use that information to build boolean expressions involving
return codes.  Otherwise, an application should not depend on the
particular value for error codes, and are encouraged to use the
constants even for <code>GSASL_OK</code> to improve readability.  Possible
values are:
</p>
<dl compact="compact">
<dt><code><code>GSASL_OK</code></code></dt>
<dd><p>Libgsasl success
</p>
</dd>
<dt><code><code>GSASL_NEEDS_MORE</code></code></dt>
<dd><p>SASL mechanism needs more data
</p>
</dd>
<dt><code><code>GSASL_UNKNOWN_MECHANISM</code></code></dt>
<dd><p>Unknown SASL mechanism
</p>
</dd>
<dt><code><code>GSASL_MECHANISM_CALLED_TOO_MANY_TIMES</code></code></dt>
<dd><p>SASL mechanism called too many times
</p>
</dd>
<dt><code><code>GSASL_TOO_SMALL_BUFFER</code></code></dt>
<dd><p>SASL function needs larger buffer (internal error)
</p>
</dd>
<dt><code><code>GSASL_FOPEN_ERROR</code></code></dt>
<dd><p>Could not open file in SASL library
</p>
</dd>
<dt><code><code>GSASL_FCLOSE_ERROR</code></code></dt>
<dd><p>Could not close file in SASL library
</p>
</dd>
<dt><code><code>GSASL_MALLOC_ERROR</code></code></dt>
<dd><p>Memory allocation error in SASL library
</p>
</dd>
<dt><code><code>GSASL_BASE64_ERROR</code></code></dt>
<dd><p>Base 64 coding error in SASL library
</p>
</dd>
<dt><code><code>GSASL_CRYPTO_ERROR</code></code></dt>
<dd><p>Low-level crypto error in SASL library
</p>
</dd>
<dt><code><code>GSASL_NEED_CLIENT_ANONYMOUS_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_client_callback_anonymous() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_CLIENT_PASSWORD_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_client_callback_password() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_CLIENT_PASSCODE_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_client_callback_passcode() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_CLIENT_PIN_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_client_callback_pin() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_CLIENT_AUTHORIZATION_ID_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_client_callback_authorization_id() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_CLIENT_AUTHENTICATION_ID_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_client_callback_authentication_id() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_CLIENT_SERVICE_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_client_callback_service() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_SERVER_VALIDATE_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_server_callback_validate() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_SERVER_CRAM_MD5_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_server_callback_cram_md5() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_SERVER_DIGEST_MD5_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_server_callback_digest_md5() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_SERVER_EXTERNAL_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_server_callback_external() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_SERVER_ANONYMOUS_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_server_callback_anonymous() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_SERVER_REALM_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_server_callback_realm() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_SERVER_SECURID_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_server_callback_securid() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_SERVER_SERVICE_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_server_callback_service() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_SERVER_GSSAPI_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_server_callback_gssapi() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_NEED_SERVER_RETRIEVE_CALLBACK</code></code></dt>
<dd><p>SASL mechanism needs gsasl_server_callback_retrieve() callback (application error)
</p>
</dd>
<dt><code><code>GSASL_UNICODE_NORMALIZATION_ERROR</code></code></dt>
<dd><p>Failed to perform Unicode Normalization on string.
</p>
</dd>
<dt><code><code>GSASL_SASLPREP_ERROR</code></code></dt>
<dd><p>Could not prepare internationalized (non-ASCII) string.
</p>
</dd>
<dt><code><code>GSASL_MECHANISM_PARSE_ERROR</code></code></dt>
<dd><p>SASL mechanism could not parse input
</p>
</dd>
<dt><code><code>GSASL_AUTHENTICATION_ERROR</code></code></dt>
<dd><p>Error authenticating user
</p>
</dd>
<dt><code><code>GSASL_CANNOT_GET_CTX</code></code></dt>
<dd><p>Cannot get internal library handle (library error)
</p>
</dd>
<dt><code><code>GSASL_INTEGRITY_ERROR</code></code></dt>
<dd><p>Integrity error in application payload
</p>
</dd>
<dt><code><code>GSASL_NO_MORE_REALMS</code></code></dt>
<dd><p>No more realms available (non-fatal)
</p>
</dd>
<dt><code><code>GSASL_NO_CLIENT_CODE</code></code></dt>
<dd><p>Client-side functionality not available in library (application error)
</p>
</dd>
<dt><code><code>GSASL_NO_SERVER_CODE</code></code></dt>
<dd><p>Server-side functionality not available in library (application error)
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_RELEASE_BUFFER_ERROR</code></code></dt>
<dd><p>GSSAPI library could not deallocate memory in gss_release_buffer() in SASL library.  This is a serious internal error.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_IMPORT_NAME_ERROR</code></code></dt>
<dd><p>GSSAPI library could not understand a peer name in gss_import_name() in SASL library.  This is most likely due to incorrect service and/or hostnames.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_INIT_SEC_CONTEXT_ERROR</code></code></dt>
<dd><p>GSSAPI error in client while negotiating security context in gss_init_sec_context() in SASL library.  This is most likely due insufficient credentials or malicious interactions.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_ACCEPT_SEC_CONTEXT_ERROR</code></code></dt>
<dd><p>GSSAPI error in server while negotiating security context in gss_accept_sec_context() in SASL library.  This is most likely due insufficient credentials or malicious interactions.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_UNWRAP_ERROR</code></code></dt>
<dd><p>GSSAPI error while decrypting or decoding data in gss_unwrap() in SASL library.  This is most likely due to data corruption.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_WRAP_ERROR</code></code></dt>
<dd><p>GSSAPI error while encrypting or encoding data in gss_wrap() in SASL library.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_ACQUIRE_CRED_ERROR</code></code></dt>
<dd><p>GSSAPI error acquiring credentials in gss_acquire_cred() in SASL library.  This is most likely due to not having the proper Kerberos key available in /etc/krb5.keytab on the server.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_DISPLAY_NAME_ERROR</code></code></dt>
<dd><p>GSSAPI error creating a display name denoting the client in gss_display_name() in SASL library.  This is probably because the client supplied bad data.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_UNSUPPORTED_PROTECTION_ERROR</code></code></dt>
<dd><p>Other entity requested integrity or confidentiality protection in GSSAPI mechanism but this is currently not implemented.
</p>
</dd>
<dt><code><code>GSASL_KERBEROS_V5_INIT_ERROR</code></code></dt>
<dd><p>Kerberos V5 initialization failure.
</p>
</dd>
<dt><code><code>GSASL_KERBEROS_V5_INTERNAL_ERROR</code></code></dt>
<dd><p>Kerberos V5 internal error.
</p>
</dd>
<dt><code><code>GSASL_SECURID_SERVER_NEED_ADDITIONAL_PASSCODE</code></code></dt>
<dd><p>SecurID needs additional passcode.
</p>
</dd>
<dt><code><code>GSASL_SECURID_SERVER_NEED_NEW_PIN</code></code></dt>
<dd><p>SecurID needs new pin.
</p>
</dd>
<dt><code><code>GSASL_INVALID_HANDLE</code></code></dt>
<dd><p>The provided library handle was invalid (application error)
</p>
</dd>
<dt><code><code>GSASL_NO_CALLBACK</code></code></dt>
<dd><p>No callback specified by caller (application error).
</p>
</dd>
<dt><code><code>GSASL_NO_ANONYMOUS_TOKEN</code></code></dt>
<dd><p>Authentication failed because the anonymous token was not provided.
</p>
</dd>
<dt><code><code>GSASL_NO_AUTHID</code></code></dt>
<dd><p>Authentication failed because the authentication identity was not provided.
</p>
</dd>
<dt><code><code>GSASL_NO_AUTHZID</code></code></dt>
<dd><p>Authentication failed because the authorization identity was not provided.
</p>
</dd>
<dt><code><code>GSASL_NO_PASSWORD</code></code></dt>
<dd><p>Authentication failed because the password was not provided.
</p>
</dd>
<dt><code><code>GSASL_NO_PASSCODE</code></code></dt>
<dd><p>Authentication failed because the passcode was not provided.
</p>
</dd>
<dt><code><code>GSASL_NO_PIN</code></code></dt>
<dd><p>Authentication failed because the pin code was not provided.
</p>
</dd>
<dt><code><code>GSASL_NO_SERVICE</code></code></dt>
<dd><p>Authentication failed because the service name was not provided.
</p>
</dd>
<dt><code><code>GSASL_NO_HOSTNAME</code></code></dt>
<dd><p>Authentication failed because the host name was not provided.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_ENCAPSULATE_TOKEN_ERROR</code></code></dt>
<dd><p>GSSAPI error encapsulating token.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_DECAPSULATE_TOKEN_ERROR</code></code></dt>
<dd><p>GSSAPI error decapsulating token.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_INQUIRE_MECH_FOR_SASLNAME_ERROR</code></code></dt>
<dd><p>GSSAPI error getting OID for SASL mechanism name.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_TEST_OID_SET_MEMBER_ERROR</code></code></dt>
<dd><p>GSSAPI error testing for OID in OID set.
</p>
</dd>
<dt><code><code>GSASL_GSSAPI_RELEASE_OID_SET_ERROR</code></code></dt>
<dd><p>GSSAPI error releasing OID set.
</p>
</dd>
<dt><code><code>GSASL_NO_CB_TLS_UNIQUE</code></code></dt>
<dd><p>Authentication failed because a tls-unique CB was not provided.
</p>
</dd>
<dt><code><code>GSASL_NO_SAML20_IDP_IDENTIFIER</code></code></dt>
<dd><p>Callback failed to provide SAML20 IdP identifier.
</p>
</dd>
<dt><code><code>GSASL_NO_SAML20_REDIRECT_URL</code></code></dt>
<dd><p>Callback failed to provide SAML20 redirect URL.
</p>
</dd>
<dt><code><code>GSASL_NO_OPENID20_REDIRECT_URL</code></code></dt>
<dd><p>Callback failed to provide OPENID20 redirect URL.
</p>
</dd>
</dl>

<hr>
<a name="Error-strings"></a>
<div class="header">
<p>
Previous: <a href="#Error-values" accesskey="p" rel="prev">Error values</a>, Up: <a href="#Error-Handling" accesskey="u" rel="up">Error Handling</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Error-strings-1"></a>
<h3 class="section">12.2 Error strings</h3>

<a name="gsasl_005fstrerror-1"></a>
<h4 class="subheading">gsasl_strerror</h4>
<a name="gsasl_005fstrerror"></a><dl>
<dt><a name="index-gsasl_005fstrerror"></a>Function: <em>const char *</em> <strong>gsasl_strerror</strong> <em>(int <var>err</var>)</em></dt>
<dd><p><var>err</var>: libgsasl error code
</p>
<p>Convert return code to human readable string explanation of the
reason for the particular error code.
</p>
<p>This string can be used to output a diagnostic message to the user.
</p>
<p>This function is one of few in the library that can be used without
a successful call to <code>gsasl_init()</code> .
</p>
<p>Return value: Returns a pointer to a statically allocated string
containing an explanation of the error code  <code>err</code> .
</p></dd></dl>

<a name="gsasl_005fstrerror_005fname-1"></a>
<h4 class="subheading">gsasl_strerror_name</h4>
<a name="gsasl_005fstrerror_005fname"></a><dl>
<dt><a name="index-gsasl_005fstrerror_005fname"></a>Function: <em>const char *</em> <strong>gsasl_strerror_name</strong> <em>(int <var>err</var>)</em></dt>
<dd><p><var>err</var>: libgsasl error code
</p>
<p>Convert return code to human readable string representing the error
code symbol itself.  For example, gsasl_strerror_name(<code>GSASL_OK</code> )
returns the string &quot;GSASL_OK&quot;.
</p>
<p>This string can be used to output a diagnostic message to the user.
</p>
<p>This function is one of few in the library that can be used without
a successful call to <code>gsasl_init()</code> .
</p>
<p>Return value: Returns a pointer to a statically allocated string
containing a string version of the error code  <code>err</code> , or NULL if
the error code is not known.
</p>
<p><strong>Since:</strong> 0.2.29
</p></dd></dl>


<hr>
<a name="Examples"></a>
<div class="header">
<p>
Next: <a href="#Acknowledgements" accesskey="n" rel="next">Acknowledgements</a>, Previous: <a href="#Error-Handling" accesskey="p" rel="prev">Error Handling</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Examples-1"></a>
<h2 class="chapter">13 Examples</h2>
<a name="index-Examples"></a>

<p>This chapter contains example code which illustrates how the GNU SASL
Library can be used when writing your own application.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Example-1" accesskey="1">Example 1</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">SASL client.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Example-2" accesskey="2">Example 2</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">SASL client where server send data first.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Example-3" accesskey="3">Example 3</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">SASL client, with a choice of mechanism to use.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Example-4" accesskey="4">Example 4</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">SASL client, with callback for user info.
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Example-5" accesskey="5">Example 5</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">Example SMTP server with GNU SASL authentication.
</td></tr>
</table>

<hr>
<a name="Example-1"></a>
<div class="header">
<p>
Next: <a href="#Example-2" accesskey="n" rel="next">Example 2</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Example-1-1"></a>
<h3 class="section">13.1 Example 1</h3>

<div class="example">
<pre class="verbatim">/* client.c --- Example SASL client.
 * Copyright (C) 2004-2021 Simon Josefsson
 *
 * This file is part of GNU SASL.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 *
 */

#include &lt;config.h&gt;
#include &lt;stdarg.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

#include &lt;gsasl.h&gt;

static void
client_authenticate (Gsasl_session * session)
{
  char buf[BUFSIZ] = &quot;&quot;;
  char *p;
  int rc;

  /* This loop mimics a protocol where the client send data first. */

  do
    {
      /* Generate client output. */
      rc = gsasl_step64 (session, buf, &amp;p);

      if (rc == GSASL_NEEDS_MORE || rc == GSASL_OK)
        {
          /* If sucessful, print it. */
          printf (&quot;Output:\n%s\n&quot;, p);
          gsasl_free (p);
        }

      if (rc == GSASL_NEEDS_MORE)
        {
          /* If the client need more data from server, get it here. */
          printf (&quot;Input base64 encoded data from server:\n&quot;);
          p = fgets (buf, sizeof (buf) - 1, stdin);
	  if (p == NULL)
	    {
	      perror (&quot;fgets&quot;);
	      return;
	    }
          if (buf[strlen (buf) - 1] == '\n')
            buf[strlen (buf) - 1] = '\0';
        }
    }
  while (rc == GSASL_NEEDS_MORE);

  printf (&quot;\n&quot;);

  if (rc != GSASL_OK)
    {
      printf (&quot;Authentication error (%d): %s\n&quot;, rc, gsasl_strerror (rc));
      return;
    }

  /* The client is done.  Here you would typically check if the server
     let the client in.  If not, you could try again. */

  printf (&quot;If server accepted us, we're done.\n&quot;);
}

static void
client (Gsasl * ctx)
{
  Gsasl_session *session;
  const char *mech = &quot;PLAIN&quot;;
  int rc;

  /* Create new authentication session. */
  if ((rc = gsasl_client_start (ctx, mech, &amp;session)) != GSASL_OK)
    {
      printf (&quot;Cannot initialize client (%d): %s\n&quot;, rc, gsasl_strerror (rc));
      return;
    }

  /* Set username and password in session handle.  This info will be
     lost when this session is deallocated below.  */
  gsasl_property_set (session, GSASL_AUTHID, &quot;jas&quot;);
  gsasl_property_set (session, GSASL_PASSWORD, &quot;secret&quot;);

  /* Do it. */
  client_authenticate (session);

  /* Cleanup. */
  gsasl_finish (session);
}

int
main (void)
{
  Gsasl *ctx = NULL;
  int rc;

  /* Initialize library. */
  if ((rc = gsasl_init (&amp;ctx)) != GSASL_OK)
    {
      printf (&quot;Cannot initialize libgsasl (%d): %s&quot;, rc, gsasl_strerror (rc));
      return 1;
    }

  /* Do it. */
  client (ctx);

  /* Cleanup. */
  gsasl_done (ctx);

  return 0;
}
</pre></div>

<hr>
<a name="Example-2"></a>
<div class="header">
<p>
Next: <a href="#Example-3" accesskey="n" rel="next">Example 3</a>, Previous: <a href="#Example-1" accesskey="p" rel="prev">Example 1</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Example-2-1"></a>
<h3 class="section">13.2 Example 2</h3>

<div class="example">
<pre class="verbatim">/* client-serverfirst.c --- Example SASL client, where server send data first.
 * Copyright (C) 2004-2021 Simon Josefsson
 *
 * This file is part of GNU SASL.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 *
 */

#include &lt;config.h&gt;
#include &lt;stdarg.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

#include &lt;gsasl.h&gt;

static void
client_authenticate (Gsasl_session * session)
{
  char buf[BUFSIZ] = &quot;&quot;;
  char *p;
  int rc;

  /* This loop mimics a protocol where the server send data first. */

  do
    {
      printf (&quot;Input base64 encoded data from server:\n&quot;);
      p = fgets (buf, sizeof (buf) - 1, stdin);
      if (p == NULL)
	{
	  perror (&quot;fgets&quot;);
	  return;
	}
      if (buf[strlen (buf) - 1] == '\n')
        buf[strlen (buf) - 1] = '\0';

      rc = gsasl_step64 (session, buf, &amp;p);

      if (rc == GSASL_NEEDS_MORE || rc == GSASL_OK)
        {
          printf (&quot;Output:\n%s\n&quot;, p);
          gsasl_free (p);
        }
    }
  while (rc == GSASL_NEEDS_MORE);

  printf (&quot;\n&quot;);

  if (rc != GSASL_OK)
    {
      printf (&quot;Authentication error (%d): %s\n&quot;, rc, gsasl_strerror (rc));
      return;
    }

  /* The client is done.  Here you would typically check if the server
     let the client in.  If not, you could try again. */

  printf (&quot;If server accepted us, we're done.\n&quot;);
}

static void
client (Gsasl * ctx)
{
  Gsasl_session *session;
  const char *mech = &quot;CRAM-MD5&quot;;
  int rc;

  /* Create new authentication session. */
  if ((rc = gsasl_client_start (ctx, mech, &amp;session)) != GSASL_OK)
    {
      printf (&quot;Cannot initialize client (%d): %s\n&quot;, rc, gsasl_strerror (rc));
      return;
    }

  /* Set username and password in session handle.  This info will be
     lost when this session is deallocated below.  */
  gsasl_property_set (session, GSASL_AUTHID, &quot;jas&quot;);
  gsasl_property_set (session, GSASL_PASSWORD, &quot;secret&quot;);

  /* Do it. */
  client_authenticate (session);

  /* Cleanup. */
  gsasl_finish (session);
}

int
main (void)
{
  Gsasl *ctx = NULL;
  int rc;

  /* Initialize library. */
  if ((rc = gsasl_init (&amp;ctx)) != GSASL_OK)
    {
      printf (&quot;Cannot initialize libgsasl (%d): %s&quot;, rc, gsasl_strerror (rc));
      return 1;
    }

  /* Do it. */
  client (ctx);

  /* Cleanup. */
  gsasl_done (ctx);

  return 0;
}
</pre></div>

<hr>
<a name="Example-3"></a>
<div class="header">
<p>
Next: <a href="#Example-4" accesskey="n" rel="next">Example 4</a>, Previous: <a href="#Example-2" accesskey="p" rel="prev">Example 2</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Example-3-1"></a>
<h3 class="section">13.3 Example 3</h3>

<div class="example">
<pre class="verbatim">/* client-mech.c --- Example SASL client, with a choice of mechanism to use.
 * Copyright (C) 2004-2021 Simon Josefsson
 *
 * This file is part of GNU SASL.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 *
 */

#include &lt;config.h&gt;
#include &lt;stdarg.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

#include &lt;gsasl.h&gt;

static void
client_authenticate (Gsasl_session * session)
{
  char buf[BUFSIZ] = &quot;&quot;;
  char *p;
  int rc;

  /* This loop mimics a protocol where the server send data first. */

  do
    {
      printf (&quot;Input base64 encoded data from server:\n&quot;);
      p = fgets (buf, sizeof (buf) - 1, stdin);
      if (p == NULL)
	{
	  perror (&quot;fgets&quot;);
	  return;
	}
      if (buf[strlen (buf) - 1] == '\n')
        buf[strlen (buf) - 1] = '\0';

      rc = gsasl_step64 (session, buf, &amp;p);

      if (rc == GSASL_NEEDS_MORE || rc == GSASL_OK)
        {
          printf (&quot;Output:\n%s\n&quot;, p);
          gsasl_free (p);
        }
    }
  while (rc == GSASL_NEEDS_MORE);

  printf (&quot;\n&quot;);

  if (rc != GSASL_OK)
    {
      printf (&quot;Authentication error (%d): %s\n&quot;, rc, gsasl_strerror (rc));
      return;
    }

  /* The client is done.  Here you would typically check if the server
     let the client in.  If not, you could try again. */

  printf (&quot;If server accepted us, we're done.\n&quot;);
}

static const char *
client_mechanism (Gsasl * ctx)
{
  static char mech[GSASL_MAX_MECHANISM_SIZE + 1] = &quot;&quot;;
  char mechlist[BUFSIZ] = &quot;&quot;;
  const char *suggestion;
  char *p;

  printf (&quot;Enter list of server supported mechanisms, separate by SPC:\n&quot;);
  p = fgets (mechlist, sizeof (mechlist) - 1, stdin);
  if (p == NULL)
    {
      perror (&quot;fgets&quot;);
      return NULL;
    }

  suggestion = gsasl_client_suggest_mechanism (ctx, mechlist);
  if (suggestion)
    printf (&quot;Library suggests use of `%s'.\n&quot;, suggestion);

  printf (&quot;Enter mechanism to use:\n&quot;);
  p = fgets (mech, sizeof (mech) - 1, stdin);
  if (p == NULL)
    {
      perror (&quot;fgets&quot;);
      return NULL;
    }

  mech[strlen (mech) - 1] = '\0';

  return mech;
}

static void
client (Gsasl * ctx)
{
  Gsasl_session *session;
  const char *mech;
  int rc;

  /* Find out which mechanism to use. */
  mech = client_mechanism (ctx);

  /* Create new authentication session. */
  if ((rc = gsasl_client_start (ctx, mech, &amp;session)) != GSASL_OK)
    {
      printf (&quot;Cannot initialize client (%d): %s\n&quot;, rc, gsasl_strerror (rc));
      return;
    }

  /* Set username and password in session handle.  This info will be
     lost when this session is deallocated below.  */
  gsasl_property_set (session, GSASL_AUTHID, &quot;jas&quot;);
  gsasl_property_set (session, GSASL_PASSWORD, &quot;secret&quot;);

  /* Do it. */
  client_authenticate (session);

  /* Cleanup. */
  gsasl_finish (session);
}

int
main (void)
{
  Gsasl *ctx = NULL;
  int rc;

  /* Initialize library. */
  if ((rc = gsasl_init (&amp;ctx)) != GSASL_OK)
    {
      printf (&quot;Cannot initialize libgsasl (%d): %s&quot;, rc, gsasl_strerror (rc));
      return 1;
    }

  /* Do it. */
  client (ctx);

  /* Cleanup. */
  gsasl_done (ctx);

  return 0;
}
</pre></div>

<hr>
<a name="Example-4"></a>
<div class="header">
<p>
Next: <a href="#Example-5" accesskey="n" rel="next">Example 5</a>, Previous: <a href="#Example-3" accesskey="p" rel="prev">Example 3</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Example-4-1"></a>
<h3 class="section">13.4 Example 4</h3>

<div class="example">
<pre class="verbatim">/* client-callback.c --- Example SASL client, with callback for user info.
 * Copyright (C) 2004-2021 Simon Josefsson
 *
 * This file is part of GNU SASL.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 *
 */

#include &lt;config.h&gt;
#include &lt;stdarg.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

#include &lt;gsasl.h&gt;

static void
client_authenticate (Gsasl_session * session)
{
  char buf[BUFSIZ] = &quot;&quot;;
  char *p;
  int rc;

  /* This loop mimics a protocol where the server send data first. */

  do
    {
      printf (&quot;Input base64 encoded data from server:\n&quot;);
      p = fgets (buf, sizeof (buf) - 1, stdin);
      if (p == NULL)
	{
	  perror (&quot;fgets&quot;);
	  return;
	}
      if (buf[strlen (buf) - 1] == '\n')
        buf[strlen (buf) - 1] = '\0';

      rc = gsasl_step64 (session, buf, &amp;p);

      if (rc == GSASL_NEEDS_MORE || rc == GSASL_OK)
        {
          printf (&quot;Output:\n%s\n&quot;, p);
          gsasl_free (p);
        }
    }
  while (rc == GSASL_NEEDS_MORE);

  printf (&quot;\n&quot;);

  if (rc != GSASL_OK)
    {
      printf (&quot;Authentication error (%d): %s\n&quot;, rc, gsasl_strerror (rc));
      return;
    }

  /* The client is done.  Here you would typically check if the server
     let the client in.  If not, you could try again. */

  printf (&quot;If server accepted us, we're done.\n&quot;);
}

static void
client (Gsasl * ctx)
{
  Gsasl_session *session;
  const char *mech = &quot;SECURID&quot;;
  int rc;

  /* Create new authentication session. */
  if ((rc = gsasl_client_start (ctx, mech, &amp;session)) != GSASL_OK)
    {
      printf (&quot;Cannot initialize client (%d): %s\n&quot;, rc, gsasl_strerror (rc));
      return;
    }

  /* Do it. */
  client_authenticate (session);

  /* Cleanup. */
  gsasl_finish (session);
}

static int
callback (Gsasl * ctx, Gsasl_session * sctx, Gsasl_property prop)
{
  char buf[BUFSIZ] = &quot;&quot;;
  int rc = GSASL_NO_CALLBACK;
  char *p;

  /* Get user info from user. */

  printf (&quot;Callback invoked, for property %u.\n&quot;, prop);

  switch (prop)
    {
    case GSASL_PASSCODE:
      printf (&quot;Enter passcode:\n&quot;);
      p = fgets (buf, sizeof (buf) - 1, stdin);
      if (p == NULL)
	{
	  perror (&quot;fgets&quot;);
	  break;
	}
      buf[strlen (buf) - 1] = '\0';

      gsasl_property_set (sctx, GSASL_PASSCODE, buf);
      rc = GSASL_OK;
      break;

    case GSASL_AUTHID:
      printf (&quot;Enter username:\n&quot;);
      p = fgets (buf, sizeof (buf) - 1, stdin);
      if (p == NULL)
	{
	  perror (&quot;fgets&quot;);
	  break;
	}
      buf[strlen (buf) - 1] = '\0';

      gsasl_property_set (sctx, GSASL_AUTHID, buf);
      rc = GSASL_OK;
      break;

    default:
      printf (&quot;Unknown property!  Don't worry.\n&quot;);
      break;
    }

  return rc;
}

int
main (void)
{
  Gsasl *ctx = NULL;
  int rc;

  /* Initialize library. */
  if ((rc = gsasl_init (&amp;ctx)) != GSASL_OK)
    {
      printf (&quot;Cannot initialize libgsasl (%d): %s&quot;, rc, gsasl_strerror (rc));
      return 1;
    }

  /* Set the callback handler for the library. */
  gsasl_callback_set (ctx, callback);

  /* Do it. */
  client (ctx);

  /* Cleanup. */
  gsasl_done (ctx);

  return 0;
}
</pre></div>

<hr>
<a name="Example-5"></a>
<div class="header">
<p>
Previous: <a href="#Example-4" accesskey="p" rel="prev">Example 4</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Example-5-1"></a>
<h3 class="section">13.5 Example 5</h3>

<div class="example">
<pre class="verbatim">/* smtp-server.c --- Example SMTP server with SASL authentication
 * Copyright (C) 2012-2021 Simon Josefsson
 *
 * This file is part of GNU SASL.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 *
 */

/* This is a minimal SMTP server with GNU SASL authentication support.

   The only valid password is &quot;sesam&quot;.  This server will complete
   authentications using LOGIN, PLAIN, DIGEST-MD5, CRAM-MD5,
   SCRAM-SHA-1 and SCRAM-SHA-256.

   It accepts an optional command line parameter specifying the
   service name (i.e., a numerical port number or /etc/services name).
   By default it listens on port &quot;2000&quot;.
*/

#include &lt;config.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdarg.h&gt;
#include &lt;netdb.h&gt;
#include &lt;signal.h&gt;
#include &lt;errno.h&gt;

#include &lt;gsasl.h&gt;

static int
callback (Gsasl * ctx, Gsasl_session * sctx, Gsasl_property prop)
{
  int rc = GSASL_NO_CALLBACK;

  switch (prop)
    {
    case GSASL_PASSWORD:
      gsasl_property_set (sctx, prop, &quot;sesam&quot;);
      rc = GSASL_OK;
      break;

    default:
      /* You may want to log (at debug verbosity level) that an
         unknown property was requested here, possibly after filtering
         known rejected property requests. */
      break;
    }

  return rc;
}

static ssize_t
gettrimline (char **line, size_t * n, FILE * fh)
{
  ssize_t s = getline (line, n, fh);

  if (s &gt;= 2)
    {
      if ((*line)[strlen (*line) - 1] == '\n')
	(*line)[strlen (*line) - 1] = '\0';
      if ((*line)[strlen (*line) - 1] == '\r')
	(*line)[strlen (*line) - 1] = '\0';

      printf (&quot;C: %s\n&quot;, *line);
    }

  return s;
}

#define print(fh, ...)							\
  printf (&quot;S: &quot;), printf (__VA_ARGS__), fprintf (fh, __VA_ARGS__)

static void
server_auth (FILE * fh, Gsasl_session * session, char *initial_challenge)
{
  char *line = initial_challenge != NULL ? strdup (initial_challenge) : NULL;
  size_t n = 0;
  char *p;
  int rc;

  /* The ordering and the type of checks in the following loop has to
     be adapted for each protocol depending on its SASL properties.
     SMTP is normally a &quot;server-first&quot; SASL protocol, but if
     INITIAL_CHALLENGE is supplied by the client it turns into a
     client-first SASL protocol.  This implementation do not support
     piggy-backing of the terminating server response.  See RFC 2554
     and RFC 4422 for terminology.  That profile results in the
     following loop structure.  Ask on the help-gsasl list if you are
     uncertain.  */
  do
    {
      rc = gsasl_step64 (session, line, &amp;p);
      if (rc == GSASL_NEEDS_MORE || (rc == GSASL_OK &amp;&amp; p &amp;&amp; *p))
	{
	  print (fh, &quot;334 %s\n&quot;, p);
	  gsasl_free (p);

	  if (gettrimline (&amp;line, &amp;n, fh) &lt; 0)
	    {
	      print (fh, &quot;221 localhost getline failure\n&quot;);
	      goto done;
	    }
	}
    }
  while (rc == GSASL_NEEDS_MORE);

  if (rc != GSASL_OK)
    {
      print (fh, &quot;535 gsasl_step64 (%d): %s\n&quot;, rc, gsasl_strerror (rc));
      goto done;
    }

  {
    const char *authid = gsasl_property_fast (session, GSASL_AUTHID);
    const char *authzid = gsasl_property_fast (session, GSASL_AUTHZID);
    print (fh, &quot;235 OK [authid: %s authzid: %s]\n&quot;,
	   authid ? authid : &quot;N/A&quot;, authzid ? authzid : &quot;N/A&quot;);
  }

done:
  free (line);
}

static void
smtp (FILE * fh, Gsasl * ctx)
{
  char *line = NULL;
  size_t n = 0;
  int rc;

  print (fh, &quot;220 localhost ESMTP GNU SASL smtp-server\n&quot;);

  while (gettrimline (&amp;line, &amp;n, fh) &gt;= 0)
    {
      if (strncmp (line, &quot;EHLO &quot;, 5) == 0 || strncmp (line, &quot;ehlo &quot;, 5) == 0)
	{
	  char *mechlist;

	  rc = gsasl_server_mechlist (ctx, &amp;mechlist);
	  if (rc != GSASL_OK)
	    {
	      print (fh, &quot;221 localhost gsasl_server_mechlist (%d): %s\n&quot;,
		     rc, gsasl_strerror (rc));
	      continue;
	    }

	  print (fh, &quot;250-localhost\n&quot;);
	  print (fh, &quot;250 AUTH %s\n&quot;, mechlist);

	  gsasl_free (mechlist);
	}
      else if (strncmp (line, &quot;AUTH &quot;, 5) == 0
	       || strncmp (line, &quot;auth &quot;, 5) == 0)
	{
	  Gsasl_session *session = NULL;
	  char *p = strchr (line + 5, ' ');

	  if (p)
	    *p++ = '\0';

	  if ((rc = gsasl_server_start (ctx, line + 5, &amp;session)) != GSASL_OK)
	    {
	      print (fh, &quot;221 localhost gsasl_server_start (%d): %s: %s\n&quot;,
		     rc, gsasl_strerror (rc), line + 5);
	      continue;
	    }

	  server_auth (fh, session, p);

	  gsasl_finish (session);
	}
      else if (strncmp (line, &quot;MAIL&quot;, 4) == 0)
	print (fh, &quot;250 localhost OK\n&quot;);
      else if (strncmp (line, &quot;RCPT&quot;, 4) == 0)
	print (fh, &quot;250 localhost OK\n&quot;);
      else if (strncmp (line, &quot;DATA&quot;, 4) == 0)
	{
	  print (fh, &quot;354 OK\n&quot;);
	  while (gettrimline (&amp;line, &amp;n, fh) &gt;= 0
		 &amp;&amp; strncmp (line, &quot;.&quot;, 2) != 0)
	    ;
	  print (fh, &quot;250 OK\n&quot;);
	}
      else if (strncmp (line, &quot;QUIT&quot;, 4) == 0
	       || strncmp (line, &quot;quit&quot;, 4) == 0)
	{
	  print (fh, &quot;221 localhost QUIT\n&quot;);
	  break;
	}
      else
	print (fh, &quot;500 unrecognized command\n&quot;);
    }

  if (errno)
    print (fh, &quot;221 localhost getline failure: %s\n&quot;, strerror (errno));

  free (line);
}

int
main (int argc, char *argv[])
{
  const char *service = argc &gt; 1 ? argv[1] : &quot;2000&quot;;
  volatile int run = 1;
  struct addrinfo hints, *addrs;
  int sockfd;
  int rc;
  int yes = 1;
  Gsasl *ctx;

  setvbuf (stdout, NULL, _IONBF, 0);

  rc = gsasl_init (&amp;ctx);
  if (rc &lt; 0)
    {
      printf (&quot;gsasl_init (%d): %s\n&quot;, rc, gsasl_strerror (rc));
      exit (EXIT_FAILURE);
    }

  printf (&quot;%s [gsasl header %s library %s]\n&quot;,
	  argv[0], GSASL_VERSION, gsasl_check_version (NULL));

  gsasl_callback_set (ctx, callback);

  memset (&amp;hints, 0, sizeof (hints));
  hints.ai_flags = AI_PASSIVE | AI_ADDRCONFIG;
  hints.ai_socktype = SOCK_STREAM;

  rc = getaddrinfo (NULL, service, &amp;hints, &amp;addrs);
  if (rc &lt; 0)
    {
      printf (&quot;getaddrinfo: %s\n&quot;, gai_strerror (rc));
      exit (EXIT_FAILURE);
    }

  sockfd = socket (addrs-&gt;ai_family, addrs-&gt;ai_socktype, addrs-&gt;ai_protocol);
  if (sockfd &lt; 0)
    {
      perror (&quot;socket&quot;);
      exit (EXIT_FAILURE);
    }

  if (setsockopt (sockfd, SOL_SOCKET, SO_REUSEADDR, &amp;yes, sizeof (yes)) &lt; 0)
    {
      perror (&quot;setsockopt&quot;);
      exit (EXIT_FAILURE);
    }

  rc = bind (sockfd, addrs-&gt;ai_addr, addrs-&gt;ai_addrlen);
  if (rc &lt; 0)
    {
      perror (&quot;bind&quot;);
      exit (EXIT_FAILURE);
    }

  freeaddrinfo (addrs);

  rc = listen (sockfd, SOMAXCONN);
  if (rc &lt; 0)
    {
      perror (&quot;listen&quot;);
      exit (EXIT_FAILURE);
    }

  signal (SIGPIPE, SIG_IGN);

  while (run)
    {
      struct sockaddr from;
      socklen_t fromlen = sizeof (from);
      char host[NI_MAXHOST];
      int fd;
      FILE *fh;

      fd = accept (sockfd, &amp;from, &amp;fromlen);
      if (fd &lt; 0)
	{
	  perror (&quot;accept&quot;);
	  continue;
	}

      rc = getnameinfo (&amp;from, fromlen, host, sizeof (host),
			NULL, 0, NI_NUMERICHOST);
      if (rc == 0)
	printf (&quot;connection from %s\n&quot;, host);
      else
	printf (&quot;getnameinfo: %s\n&quot;, gai_strerror (rc));

      fh = fdopen (fd, &quot;w+&quot;);
      if (!fh)
	{
	  perror (&quot;fdopen&quot;);
	  close (fd);
	  continue;
	}

      smtp (fh, ctx);

      fclose (fh);
    }

  close (sockfd);
  gsasl_done (ctx);

  return 0;
}
</pre></div>


<hr>
<a name="Acknowledgements"></a>
<div class="header">
<p>
Next: <a href="#Invoking-gsasl" accesskey="n" rel="next">Invoking gsasl</a>, Previous: <a href="#Examples" accesskey="p" rel="prev">Examples</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Acknowledgements-1"></a>
<h2 class="chapter">14 Acknowledgements</h2>

<p>The makefiles, manuals, etc borrowed much from Libgcrypt written by
Werner Koch.
</p>
<p>Cryptographic functions for some SASL mechanisms uses Libgcrypt by
Werner Koch et al.  The NTLM mechanism uses Libntlm by Grant Edwards
et al, using code from Samba written by Andrew Tridgell, and now
maintained by Simon Josefsson.  The KERBEROS_V5 mechanism uses Shishi
by Simon Josefsson.  The GSSAPI and GS2-KRB5 mechanism uses a GSS-API
implementation, such as GNU GSS by Simon Josefsson.
</p>
<p>Gnulib is used to simplify portability.
</p>
<p>This manual borrows text from the SASL specification.
</p>
<hr>
<a name="Invoking-gsasl"></a>
<div class="header">
<p>
Next: <a href="#Protocol-Clarifications" accesskey="n" rel="next">Protocol Clarifications</a>, Previous: <a href="#Acknowledgements" accesskey="p" rel="prev">Acknowledgements</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Invoking-gsasl-1"></a>
<h2 class="chapter">15 Invoking gsasl</h2>

<a name="index-gsasl"></a>
<a name="index-invoking-gsasl"></a>
<a name="index-command-line"></a>

<a name="Name"></a>
<h2 class="majorheading">Name</h2>

<p>GNU SASL (gsasl) &ndash; Command line interface to libgsasl.
</p>
<a name="Description"></a>
<h2 class="majorheading">Description</h2>

<p><code>gsasl</code> is the main program of GNU SASL.
</p>
<p>This section only lists the commands and options available.
</p>
<p>Mandatory or optional arguments to long options are also mandatory or
optional for any corresponding short options.
</p>
<a name="Commands"></a>
<h2 class="majorheading">Commands</h2>

<p><code>gsasl</code> recognizes these commands:
</p>
<pre class="verbatim">  -c, --client               Act as client (the default).
      --client-mechanisms    Write name of supported client mechanisms
                             separated by space to stdout.
  -s, --server               Act as server.
      --server-mechanisms    Write name of supported server mechanisms
                             separated by space to stdout.
  -k, --mkpasswd             Derive password. Provide --mechanism as SCRAM-SHA-1 or
                             SCRAM-SHA-256.  The required inputs are
                             password (through --password or read from
                             terminal) and optional inputs are iteration
                             count (through --iteration-count, or
                             defaulting to 65536) and salt (through
                             --salt, or generated randomly).  The output
                             is a string of the form
                             &quot;{mech}count,salt,stored-key,server-key[,salted-password]&quot;
                             where &quot;mech&quot; is the mechanism, &quot;count&quot; is
                             the number of times password was hashed,
                             &quot;salt&quot; is the provided/generated
                             base64-encoded salt, &quot;stored-key&quot; and
                             &quot;server-key&quot; are the two derived and
                             base64-encoded server-side keys.  When
                             --verbose is provided, &quot;salted-password&quot;
                             will be included as the hex-encoded PBKDF2-derived
                             password.  (default=off)
</pre>
<a name="Network-Options"></a>
<h2 class="majorheading">Network Options</h2>

<p>Normally the SASL negotiation is performed on the terminal, with
reading from stdin and writing to stdout.  It is also possible to
perform the negotiation with a server over a TCP network connection.
</p>
<pre class="verbatim">      --connect=HOSTNAME[:SERVICE]
                             Connect to TCP server and negotiate on stream
                             instead of stdin/stdout. SERVICE is the protocol
                             service, or an integer denoting the port, and
                             defaults to 143 (imap) if not specified. Also sets
                             the --hostname default.
</pre>
<a name="Miscellaneous-Options_003a"></a>
<h2 class="majorheading">Miscellaneous Options:</h2>

<p>These parameters affect overall behaviour.
</p>
<pre class="verbatim">  -d, --application-data     After authentication, read data from stdin and run
                             it through the mechanism's security layer and
                             print it base64 encoded to stdout. The default is
                             to terminate after authentication.
      --imap                 Use a IMAP-like logon procedure (client only).
                             Also sets the --service default to &quot;imap&quot;.
  -m, --mechanism=STRING     Mechanism to use.
      --no-client-first      Disallow client to send data first (client only).
</pre>
<a name="SASL-Mechanism-Options"></a>
<h2 class="majorheading">SASL Mechanism Options</h2>

<p>These options modify the behaviour of the callbacks (see <a href="#Callback-Functions">Callback Functions</a>) in the library.  The default is to query the user on the
terminal.
</p>
<pre class="verbatim">  -n, --anonymous-token=STRING    Token for anonymous authentication, usually
                                  mail address (ANONYMOUS only).
  -a, --authentication-id=STRING  Identity of credential owner.
  -z, --authorization-id=STRING   Identity to request service for.
      --disable-cleartext-validate
                             Disable cleartext validate hook, forcing server to
                             prompt for password.
      --enable-cram-md5-validate  Validate CRAM-MD5 challenge and response
                                  interactively.
      --hostname=STRING      Set the name of the server with the requested
                             service.
  -p, --password=STRING      Password for authentication (insecure for
                             non-testing purposes).
      --passcode=NUMBER      Passcode for authentication (SECURID only).
      --quality-of-protection=&lt;qop-auth | qop-int | qop-conf&gt;
                             How application payload will be protected.
                             &quot;qop-auth&quot; means no protection,
                             &quot;qop-int&quot; means integrity protection,
                             &quot;qop-conf&quot; means confidentiality.
                             Currently only used by DIGEST-MD5, where the
                             default is &quot;qop-int&quot;.
  -r, --realm=STRING         Realm. Defaults to hostname.
      --service=STRING       Set the requested service name (should be a
                             registered GSSAPI host based service name).
      --service-name=STRING  Set the generic server name in case of a
                             replicated server (DIGEST-MD5 only).
      --iteration-count=NUMBER  Indicate PBKDF2 hash iteration count (SCRAM
                                  only).  (default=`65536')
      --salt=B64DATA         Indicate PBKDF2 salt as base64-encoded string
                                  (SCRAM only).
</pre>
<a name="STARTTLS-options"></a>
<h2 class="majorheading">STARTTLS options</h2>

<pre class="verbatim">      --starttls                Force use of STARTTLS.  The default is to use
                                  STARTTLS when available.  (default=off)
      --no-starttls             Unconditionally disable STARTTLS.
                                  (default=off)
      --no-cb                   Don't set any channel bindings.  (default=off)
      --x509-ca-file=FILE       File containing one or more X.509 Certificate
                                  Authorities certificates in PEM format, used
                                  to verify the certificate received from the
                                  server.  If not specified, verification uses
                                  system trust settings.  If FILE is the empty
                                  string, don't fail on X.509 server
                                  certificates verification errors.
      --x509-cert-file=FILE     File containing client X.509 certificate in PEM
                                  format.  Used together with --x509-key-file
                                  to specify the certificate/key pair.
      --x509-key-file=FILE      Private key for the client X.509 certificate in
                                  PEM format.  Used together with
                                  --x509-key-file to specify the
                                  certificate/key pair.
      --priority                Cipher priority string.
</pre>
<a name="Other-Options"></a>
<h2 class="majorheading">Other Options</h2>

<p>These are some standard parameters.
</p>
<pre class="verbatim">  -q, --quiet, --silent      Don't produce any diagnostic output.
  -v, --verbose              Produce verbose output.

  -?, --help                 Give this help list
      --usage                Give a short usage message
  -V, --version              Print program version
</pre>

<hr>
<a name="Protocol-Clarifications"></a>
<div class="header">
<p>
Next: <a href="#Old-Functions" accesskey="n" rel="next">Old Functions</a>, Previous: <a href="#Invoking-gsasl" accesskey="p" rel="prev">Invoking gsasl</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Protocol-Clarifications-1"></a>
<h2 class="appendix">Appendix A Protocol Clarifications</h2>

<p>This appendix contains clarifications to various SASL specification
that we felt were necessary to include, if for nothing else it may
serve as a guide for other implementers that worry about the same
issues.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Use-of-SASLprep-in-CRAM_002dMD5" accesskey="1">Use of SASLprep in CRAM-MD5</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Use-of-SASLprep-in-LOGIN" accesskey="2">Use of SASLprep in LOGIN</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<a name="Use-of-SASLprep-in-CRAM_002dMD5"></a>
<div class="header">
<p>
Next: <a href="#Use-of-SASLprep-in-LOGIN" accesskey="n" rel="next">Use of SASLprep in LOGIN</a>, Up: <a href="#Protocol-Clarifications" accesskey="u" rel="up">Protocol Clarifications</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Use-of-SASLprep-in-CRAM_002dMD5-1"></a>
<h3 class="section">A.1 Use of SASLprep in CRAM-MD5</h3>

<p>The specification, as of <samp>draft-ietf-sasl-crammd5-04.txt</samp>, is
silent on whether a SASL server implementation applying SASLprep on a
password received from an external, non-SASL specific database (i.e.,
the passwords are not stored in SASLprep form in the database), should
set or clear the AllowUnassigned bit.  The motivation for the AU-bit
in StringPrep/SASLprep is for stored vs query strings.  It could be
argued that in this situation the server can treat the external
password either as a stored string (from a database) or as a query
(the server uses the string as a query into the fixed HMAC-MD5 hash).
</p>
<p>The specification is also unclear on whether clients should set or
clear the AllowUnassigned flag.
</p>
<p>In the server, GNU SASL applies SASLprep to the password with the
AllowUnassigned bit cleared.
</p>
<hr>
<a name="Use-of-SASLprep-in-LOGIN"></a>
<div class="header">
<p>
Previous: <a href="#Use-of-SASLprep-in-CRAM_002dMD5" accesskey="p" rel="prev">Use of SASLprep in CRAM-MD5</a>, Up: <a href="#Protocol-Clarifications" accesskey="u" rel="up">Protocol Clarifications</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Use-of-SASLprep-in-LOGIN-1"></a>
<h3 class="section">A.2 Use of SASLprep in LOGIN</h3>

<p>The non-standard mechanism LOGIN presumably does not support
non-ASCII.  We suggest that the client should send unprepared UTF-8
and that the server apply SASLprep with the AllowUnassigned bit
cleared on the received username and password.
</p>
<hr>
<a name="Old-Functions"></a>
<div class="header">
<p>
Next: <a href="#Copying-Information" accesskey="n" rel="next">Copying Information</a>, Previous: <a href="#Protocol-Clarifications" accesskey="p" rel="prev">Protocol Clarifications</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Old-Functions-1"></a>
<h2 class="appendix">Appendix B Old Functions</h2>
<a name="index-Deprecated-functions"></a>
<a name="index-Obsolete-functions"></a>

<p>As GNU SASL is still under heavy development, some API functions have
been found to be less useful.  Those old API functions will be
supported during a transition period.  Refer to the NEWS file to find
out since when a function has been deprecated.
</p>
<a name="gsasl_005fclient_005flistmech-1"></a>
<h4 class="subheading">gsasl_client_listmech</h4>
<a name="gsasl_005fclient_005flistmech"></a><dl>
<dt><a name="index-gsasl_005fclient_005flistmech"></a>Function: <em>int</em> <strong>gsasl_client_listmech</strong> <em>(Gsasl * <var>ctx</var>, char * <var>out</var>, size_t * <var>outlen</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>out</var>: output character array.
</p>
<p><var>outlen</var>: input maximum size of output character array, on output
contains actual length of output array.
</p>
<p>Write SASL names, separated by space, of mechanisms supported by
the libgsasl client to the output array.  To find out how large the
output array must be, call this function with a NULL  <code>out</code> parameter.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if successful, or error code.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_client_mechlist()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fserver_005flistmech-1"></a>
<h4 class="subheading">gsasl_server_listmech</h4>
<a name="gsasl_005fserver_005flistmech"></a><dl>
<dt><a name="index-gsasl_005fserver_005flistmech"></a>Function: <em>int</em> <strong>gsasl_server_listmech</strong> <em>(Gsasl * <var>ctx</var>, char * <var>out</var>, size_t * <var>outlen</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>out</var>: output character array.
</p>
<p><var>outlen</var>: input maximum size of output character array, on output
contains actual length of output array.
</p>
<p>Write SASL names, separated by space, of mechanisms supported by
the libgsasl server to the output array.  To find out how large the
output array must be, call this function with a NULL  <code>out</code> parameter.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if successful, or error code.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_server_mechlist()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fclient_005fstep-1"></a>
<h4 class="subheading">gsasl_client_step</h4>
<a name="gsasl_005fclient_005fstep"></a><dl>
<dt><a name="index-gsasl_005fclient_005fstep"></a>Function: <em>int</em> <strong>gsasl_client_step</strong> <em>(Gsasl_session * <var>sctx</var>, const char * <var>input</var>, size_t <var>input_len</var>, char * <var>output</var>, size_t * <var>output_len</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl client handle.
</p>
<p><var>input</var>: input byte array.
</p>
<p><var>input_len</var>: size of input byte array.
</p>
<p><var>output</var>: output byte array.
</p>
<p><var>output_len</var>: size of output byte array.
</p>
<p>Perform one step of SASL authentication in client.  This reads data
from server (specified with input and input_len), processes it
(potentially invoking callbacks to the application), and writes
data to server (into variables output and output_len).
</p>
<p>The contents of the output buffer is unspecified if this functions
returns anything other than <code>GSASL_NEEDS_MORE</code> .
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if authenticated terminated
successfully, <code>GSASL_NEEDS_MORE</code>  if more data is needed, or error
code.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_step()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fserver_005fstep-1"></a>
<h4 class="subheading">gsasl_server_step</h4>
<a name="gsasl_005fserver_005fstep"></a><dl>
<dt><a name="index-gsasl_005fserver_005fstep"></a>Function: <em>int</em> <strong>gsasl_server_step</strong> <em>(Gsasl_session * <var>sctx</var>, const char * <var>input</var>, size_t <var>input_len</var>, char * <var>output</var>, size_t * <var>output_len</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl server handle.
</p>
<p><var>input</var>: input byte array.
</p>
<p><var>input_len</var>: size of input byte array.
</p>
<p><var>output</var>: output byte array.
</p>
<p><var>output_len</var>: size of output byte array.
</p>
<p>Perform one step of SASL authentication in server.  This reads data
from client (specified with input and input_len), processes it
(potentially invoking callbacks to the application), and writes
data to client (into variables output and output_len).
</p>
<p>The contents of the output buffer is unspecified if this functions
returns anything other than <code>GSASL_NEEDS_MORE</code> .
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if authenticated terminated
successfully, <code>GSASL_NEEDS_MORE</code>  if more data is needed, or error
code.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_step()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fclient_005fstep_005fbase64-1"></a>
<h4 class="subheading">gsasl_client_step_base64</h4>
<a name="gsasl_005fclient_005fstep_005fbase64"></a><dl>
<dt><a name="index-gsasl_005fclient_005fstep_005fbase64"></a>Function: <em>int</em> <strong>gsasl_client_step_base64</strong> <em>(Gsasl_session * <var>sctx</var>, const char * <var>b64input</var>, char * <var>b64output</var>, size_t <var>b64output_len</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl client handle.
</p>
<p><var>b64input</var>: input base64 encoded byte array.
</p>
<p><var>b64output</var>: output base64 encoded byte array.
</p>
<p><var>b64output_len</var>: size of output base64 encoded byte array.
</p>
<p>This is a simple wrapper around <code>gsasl_client_step()</code>  that base64
decodes the input and base64 encodes the output.
</p>
<p>Return value: See <code>gsasl_client_step()</code> .
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_step64()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fserver_005fstep_005fbase64-1"></a>
<h4 class="subheading">gsasl_server_step_base64</h4>
<a name="gsasl_005fserver_005fstep_005fbase64"></a><dl>
<dt><a name="index-gsasl_005fserver_005fstep_005fbase64"></a>Function: <em>int</em> <strong>gsasl_server_step_base64</strong> <em>(Gsasl_session * <var>sctx</var>, const char * <var>b64input</var>, char * <var>b64output</var>, size_t <var>b64output_len</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl server handle.
</p>
<p><var>b64input</var>: input base64 encoded byte array.
</p>
<p><var>b64output</var>: output base64 encoded byte array.
</p>
<p><var>b64output_len</var>: size of output base64 encoded byte array.
</p>
<p>This is a simple wrapper around <code>gsasl_server_step()</code>  that base64
decodes the input and base64 encodes the output.
</p>
<p>Return value: See <code>gsasl_server_step()</code> .
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_step64()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fclient_005ffinish-1"></a>
<h4 class="subheading">gsasl_client_finish</h4>
<a name="gsasl_005fclient_005ffinish"></a><dl>
<dt><a name="index-gsasl_005fclient_005ffinish"></a>Function: <em>void</em> <strong>gsasl_client_finish</strong> <em>(Gsasl_session * <var>sctx</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl client handle.
</p>
<p>Destroy a libgsasl client handle.  The handle must not be used with
other libgsasl functions after this call.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_finish()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fserver_005ffinish-1"></a>
<h4 class="subheading">gsasl_server_finish</h4>
<a name="gsasl_005fserver_005ffinish"></a><dl>
<dt><a name="index-gsasl_005fserver_005ffinish"></a>Function: <em>void</em> <strong>gsasl_server_finish</strong> <em>(Gsasl_session * <var>sctx</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl server handle.
</p>
<p>Destroy a libgsasl server handle.  The handle must not be used with
other libgsasl functions after this call.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_finish()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fclient_005fctx_005fget-1"></a>
<h4 class="subheading">gsasl_client_ctx_get</h4>
<a name="gsasl_005fclient_005fctx_005fget"></a><dl>
<dt><a name="index-gsasl_005fclient_005fctx_005fget"></a>Function: <em>Gsasl *</em> <strong>gsasl_client_ctx_get</strong> <em>(Gsasl_session * <var>sctx</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl client handle
</p>
<p>Get the libgsasl handle given a libgsasl client handle.
</p>
<p>Return value: Returns the libgsasl handle given a libgsasl client handle.
</p>
<p><strong>Deprecated:</strong> This function is not useful with the new 0.2.0 API.
</p></dd></dl>

<a name="gsasl_005fclient_005fapplication_005fdata_005fset-1"></a>
<h4 class="subheading">gsasl_client_application_data_set</h4>
<a name="gsasl_005fclient_005fapplication_005fdata_005fset"></a><dl>
<dt><a name="index-gsasl_005fclient_005fapplication_005fdata_005fset"></a>Function: <em>void</em> <strong>gsasl_client_application_data_set</strong> <em>(Gsasl_session * <var>sctx</var>, void * <var>application_data</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl client handle.
</p>
<p><var>application_data</var>: opaque pointer to application specific data.
</p>
<p>Store application specific data in the libgsasl client handle.  The
application data can be later (for instance, inside a callback) be
retrieved by calling <code>gsasl_client_application_data_get()</code> .  It is
normally used by the application to maintain state between the main
program and the callback.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_set()</code>  or
<code>gsasl_session_hook_set()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fclient_005fapplication_005fdata_005fget-1"></a>
<h4 class="subheading">gsasl_client_application_data_get</h4>
<a name="gsasl_005fclient_005fapplication_005fdata_005fget"></a><dl>
<dt><a name="index-gsasl_005fclient_005fapplication_005fdata_005fget"></a>Function: <em>void *</em> <strong>gsasl_client_application_data_get</strong> <em>(Gsasl_session * <var>sctx</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl client handle.
</p>
<p>Retrieve application specific data from libgsasl client handle. The
application data is set using <code>gsasl_client_application_data_set()</code> .
It is normally used by the application to maintain state between
the main program and the callback.
</p>
<p>Return value: Returns the application specific data, or NULL.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_get()</code>  or
<code>gsasl_session_hook_get()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fserver_005fctx_005fget-1"></a>
<h4 class="subheading">gsasl_server_ctx_get</h4>
<a name="gsasl_005fserver_005fctx_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fctx_005fget"></a>Function: <em>Gsasl *</em> <strong>gsasl_server_ctx_get</strong> <em>(Gsasl_session * <var>sctx</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl server handle
</p>
<p>Get the libgsasl handle given a libgsasl server handle.
</p>
<p>Return value: Returns the libgsasl handle given a libgsasl server handle.
</p>
<p><strong>Deprecated:</strong> This function is not useful with the new 0.2.0 API.
</p></dd></dl>

<a name="gsasl_005fserver_005fapplication_005fdata_005fset-1"></a>
<h4 class="subheading">gsasl_server_application_data_set</h4>
<a name="gsasl_005fserver_005fapplication_005fdata_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fapplication_005fdata_005fset"></a>Function: <em>void</em> <strong>gsasl_server_application_data_set</strong> <em>(Gsasl_session * <var>sctx</var>, void * <var>application_data</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl server handle.
</p>
<p><var>application_data</var>: opaque pointer to application specific data.
</p>
<p>Store application specific data in the libgsasl server handle.  The
application data can be later (for instance, inside a callback) be
retrieved by calling <code>gsasl_server_application_data_get()</code> .  It is
normally used by the application to maintain state between the main
program and the callback.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_set()</code>  or
<code>gsasl_session_hook_set()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fserver_005fapplication_005fdata_005fget-1"></a>
<h4 class="subheading">gsasl_server_application_data_get</h4>
<a name="gsasl_005fserver_005fapplication_005fdata_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fapplication_005fdata_005fget"></a>Function: <em>void *</em> <strong>gsasl_server_application_data_get</strong> <em>(Gsasl_session * <var>sctx</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl server handle.
</p>
<p>Retrieve application specific data from libgsasl server handle. The
application data is set using <code>gsasl_server_application_data_set()</code> .
It is normally used by the application to maintain state between
the main program and the callback.
</p>
<p>Return value: Returns the application specific data, or NULL.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_get()</code>  or
<code>gsasl_session_hook_get()</code>  instead.
</p></dd></dl>

<a name="gsasl_005frandomize-1"></a>
<h4 class="subheading">gsasl_randomize</h4>
<a name="gsasl_005frandomize"></a><dl>
<dt><a name="index-gsasl_005frandomize"></a>Function: <em>int</em> <strong>gsasl_randomize</strong> <em>(int <var>strong</var>, char * <var>data</var>, size_t <var>datalen</var>)</em></dt>
<dd><p><var>strong</var>: 0 iff operation should not block, non-0 for very strong randomness.
</p>
<p><var>data</var>: output array to be filled with random data.
</p>
<p><var>datalen</var>: size of output array.
</p>
<p>Store cryptographically random data of given size in the provided
buffer.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  iff successful.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_random()</code>  or <code>gsasl_nonce()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fctx_005fget-1"></a>
<h4 class="subheading">gsasl_ctx_get</h4>
<a name="gsasl_005fctx_005fget"></a><dl>
<dt><a name="index-gsasl_005fctx_005fget"></a>Function: <em>Gsasl *</em> <strong>gsasl_ctx_get</strong> <em>(Gsasl_session * <var>sctx</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl session handle
</p>
<p>Get the libgsasl handle given a libgsasl session handle.
</p>
<p>Return value: Returns the libgsasl handle given a libgsasl session handle.
</p>
<p><strong>Deprecated:</strong> This function is not useful with the new 0.2.0 API.
</p></dd></dl>

<a name="gsasl_005fencode_005finline-1"></a>
<h4 class="subheading">gsasl_encode_inline</h4>
<a name="gsasl_005fencode_005finline"></a><dl>
<dt><a name="index-gsasl_005fencode_005finline"></a>Function: <em>int</em> <strong>gsasl_encode_inline</strong> <em>(Gsasl_session * <var>sctx</var>, const char * <var>input</var>, size_t <var>input_len</var>, char * <var>output</var>, size_t * <var>output_len</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl session handle.
</p>
<p><var>input</var>: input byte array.
</p>
<p><var>input_len</var>: size of input byte array.
</p>
<p><var>output</var>: output byte array.
</p>
<p><var>output_len</var>: size of output byte array.
</p>
<p>Encode data according to negotiated SASL mechanism.  This might mean
that data is integrity or privacy protected.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if encoding was successful,
otherwise an error code.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_encode()</code>  instead.
</p>
<p><strong>Since:</strong> 0.2.0
</p></dd></dl>

<a name="gsasl_005fdecode_005finline-1"></a>
<h4 class="subheading">gsasl_decode_inline</h4>
<a name="gsasl_005fdecode_005finline"></a><dl>
<dt><a name="index-gsasl_005fdecode_005finline"></a>Function: <em>int</em> <strong>gsasl_decode_inline</strong> <em>(Gsasl_session * <var>sctx</var>, const char * <var>input</var>, size_t <var>input_len</var>, char * <var>output</var>, size_t * <var>output_len</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl session handle.
</p>
<p><var>input</var>: input byte array.
</p>
<p><var>input_len</var>: size of input byte array.
</p>
<p><var>output</var>: output byte array.
</p>
<p><var>output_len</var>: size of output byte array.
</p>
<p>Decode data according to negotiated SASL mechanism.  This might mean
that data is integrity or privacy protected.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  if encoding was successful,
otherwise an error code.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_decode()</code>  instead.
</p>
<p><strong>Since:</strong> 0.2.0
</p></dd></dl>

<a name="gsasl_005fapplication_005fdata_005fset-1"></a>
<h4 class="subheading">gsasl_application_data_set</h4>
<a name="gsasl_005fapplication_005fdata_005fset"></a><dl>
<dt><a name="index-gsasl_005fapplication_005fdata_005fset"></a>Function: <em>void</em> <strong>gsasl_application_data_set</strong> <em>(Gsasl * <var>ctx</var>, void * <var>appdata</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>appdata</var>: opaque pointer to application specific data.
</p>
<p>Store application specific data in the libgsasl handle.  The
application data can be later (for instance, inside a callback) be
retrieved by calling <code>gsasl_application_data_get()</code> .  It is normally
used by the application to maintain state between the main program
and the callback.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_set()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fapplication_005fdata_005fget-1"></a>
<h4 class="subheading">gsasl_application_data_get</h4>
<a name="gsasl_005fapplication_005fdata_005fget"></a><dl>
<dt><a name="index-gsasl_005fapplication_005fdata_005fget"></a>Function: <em>void *</em> <strong>gsasl_application_data_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Retrieve application specific data from libgsasl handle. The
application data is set using <code>gsasl_application_data_set()</code> .  It is
normally used by the application to maintain state between the main
program and the callback.
</p>
<p>Return value: Returns the application specific data, or NULL.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_get()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fappinfo_005fset-1"></a>
<h4 class="subheading">gsasl_appinfo_set</h4>
<a name="gsasl_005fappinfo_005fset"></a><dl>
<dt><a name="index-gsasl_005fappinfo_005fset"></a>Function: <em>void</em> <strong>gsasl_appinfo_set</strong> <em>(Gsasl_session * <var>sctx</var>, void * <var>appdata</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl session handle.
</p>
<p><var>appdata</var>: opaque pointer to application specific data.
</p>
<p>Store application specific data in the libgsasl session handle.
The application data can be later (for instance, inside a callback)
be retrieved by calling <code>gsasl_appinfo_get()</code> .  It is normally used
by the application to maintain state between the main program and
the callback.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_set()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fappinfo_005fget-1"></a>
<h4 class="subheading">gsasl_appinfo_get</h4>
<a name="gsasl_005fappinfo_005fget"></a><dl>
<dt><a name="index-gsasl_005fappinfo_005fget"></a>Function: <em>void *</em> <strong>gsasl_appinfo_get</strong> <em>(Gsasl_session * <var>sctx</var>)</em></dt>
<dd><p><var>sctx</var>: libgsasl session handle.
</p>
<p>Retrieve application specific data from libgsasl session
handle. The application data is set using <code>gsasl_appinfo_set()</code> .  It
is normally used by the application to maintain state between the
main program and the callback.
</p>
<p>Return value: Returns the application specific data, or NULL.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_callback_hook_get()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fserver_005fsuggest_005fmechanism-1"></a>
<h4 class="subheading">gsasl_server_suggest_mechanism</h4>
<a name="gsasl_005fserver_005fsuggest_005fmechanism"></a><dl>
<dt><a name="index-gsasl_005fserver_005fsuggest_005fmechanism"></a>Function: <em>const char *</em> <strong>gsasl_server_suggest_mechanism</strong> <em>(const char *mechlist <var>_GL_UNUSED</var>, const char *mechlist <var>_GL_UNUSED</var>)</em></dt>
<dd><p><var>_GL_UNUSED</var>: &ndash; undescribed &ndash;
</p>
<p><var>_GL_UNUSED</var>: &ndash; undescribed &ndash;
</p>
<p>Get name of &quot;best&quot; SASL mechanism supported by the libgsasl server
which is present in the input string.
</p>
<p>Return value: Returns name of &quot;best&quot; SASL mechanism supported by
the libgsasl server which is present in the input string.
</p>
<p><strong>Deprecated:</strong> This function was never useful, since it is the client
that chose which mechanism to use.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fauthentication_005fid_005fset-1"></a>
<h4 class="subheading">gsasl_client_callback_authentication_id_set</h4>
<a name="gsasl_005fclient_005fcallback_005fauthentication_005fid_005fset"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fauthentication_005fid_005fset"></a>Function: <em>void</em> <strong>gsasl_client_callback_authentication_id_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_client_callback_authentication_id           <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the client to set the
authentication identity.  The function can be later retrieved using
<code>gsasl_client_callback_authentication_id_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fauthentication_005fid_005fget-1"></a>
<h4 class="subheading">gsasl_client_callback_authentication_id_get</h4>
<a name="gsasl_005fclient_005fcallback_005fauthentication_005fid_005fget"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fauthentication_005fid_005fget"></a>Function: <em>Gsasl_client_callback_authentication_id</em> <strong>gsasl_client_callback_authentication_id_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_client_callback_authentication_id_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_client_callback_authentication_id_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fauthorization_005fid_005fset-1"></a>
<h4 class="subheading">gsasl_client_callback_authorization_id_set</h4>
<a name="gsasl_005fclient_005fcallback_005fauthorization_005fid_005fset"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fauthorization_005fid_005fset"></a>Function: <em>void</em> <strong>gsasl_client_callback_authorization_id_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_client_callback_authorization_id          <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the client to set the
authorization identity.  The function can be later retrieved using
<code>gsasl_client_callback_authorization_id_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fauthorization_005fid_005fget-1"></a>
<h4 class="subheading">gsasl_client_callback_authorization_id_get</h4>
<a name="gsasl_005fclient_005fcallback_005fauthorization_005fid_005fget"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fauthorization_005fid_005fget"></a>Function: <em>Gsasl_client_callback_authorization_id</em> <strong>gsasl_client_callback_authorization_id_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_client_callback_authorization_id_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_client_callback_authorization_id_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fpassword_005fset-1"></a>
<h4 class="subheading">gsasl_client_callback_password_set</h4>
<a name="gsasl_005fclient_005fcallback_005fpassword_005fset"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fpassword_005fset"></a>Function: <em>void</em> <strong>gsasl_client_callback_password_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_client_callback_password <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the client to set the
password.  The function can be later retrieved using
<code>gsasl_client_callback_password_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fpassword_005fget-1"></a>
<h4 class="subheading">gsasl_client_callback_password_get</h4>
<a name="gsasl_005fclient_005fcallback_005fpassword_005fget"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fpassword_005fget"></a>Function: <em>Gsasl_client_callback_password</em> <strong>gsasl_client_callback_password_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_client_callback_password_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_client_callback_password_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fpasscode_005fset-1"></a>
<h4 class="subheading">gsasl_client_callback_passcode_set</h4>
<a name="gsasl_005fclient_005fcallback_005fpasscode_005fset"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fpasscode_005fset"></a>Function: <em>void</em> <strong>gsasl_client_callback_passcode_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_client_callback_passcode <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the client to set the
passcode.  The function can be later retrieved using
<code>gsasl_client_callback_passcode_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fpasscode_005fget-1"></a>
<h4 class="subheading">gsasl_client_callback_passcode_get</h4>
<a name="gsasl_005fclient_005fcallback_005fpasscode_005fget"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fpasscode_005fget"></a>Function: <em>Gsasl_client_callback_passcode</em> <strong>gsasl_client_callback_passcode_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_client_callback_passcode_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_client_callback_passcode_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fpin_005fset-1"></a>
<h4 class="subheading">gsasl_client_callback_pin_set</h4>
<a name="gsasl_005fclient_005fcallback_005fpin_005fset"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fpin_005fset"></a>Function: <em>void</em> <strong>gsasl_client_callback_pin_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_client_callback_pin <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the client to chose a new
pin, possibly suggested by the server, for the SECURID mechanism.
This is not normally invoked, but only when the server requests it.
The function can be later retrieved using
<code>gsasl_client_callback_pin_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fpin_005fget-1"></a>
<h4 class="subheading">gsasl_client_callback_pin_get</h4>
<a name="gsasl_005fclient_005fcallback_005fpin_005fget"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fpin_005fget"></a>Function: <em>Gsasl_client_callback_pin</em> <strong>gsasl_client_callback_pin_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_client_callback_pin_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_client_callback_pin_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fservice_005fset-1"></a>
<h4 class="subheading">gsasl_client_callback_service_set</h4>
<a name="gsasl_005fclient_005fcallback_005fservice_005fset"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fservice_005fset"></a>Function: <em>void</em> <strong>gsasl_client_callback_service_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_client_callback_service <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the client to set the name
of the service.  The service buffer should be a registered GSSAPI
host-based service name, hostname the name of the server.
Servicename is used by DIGEST-MD5 and should be the name of generic
server in case of a replicated service. The function can be later
retrieved using <code>gsasl_client_callback_service_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fservice_005fget-1"></a>
<h4 class="subheading">gsasl_client_callback_service_get</h4>
<a name="gsasl_005fclient_005fcallback_005fservice_005fget"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fservice_005fget"></a>Function: <em>Gsasl_client_callback_service</em> <strong>gsasl_client_callback_service_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_client_callback_service_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_client_callback_service_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fanonymous_005fset-1"></a>
<h4 class="subheading">gsasl_client_callback_anonymous_set</h4>
<a name="gsasl_005fclient_005fcallback_005fanonymous_005fset"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fanonymous_005fset"></a>Function: <em>void</em> <strong>gsasl_client_callback_anonymous_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_client_callback_anonymous <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the client to set the
anonymous token, which usually is the users email address.  The
function can be later retrieved using
<code>gsasl_client_callback_anonymous_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fanonymous_005fget-1"></a>
<h4 class="subheading">gsasl_client_callback_anonymous_get</h4>
<a name="gsasl_005fclient_005fcallback_005fanonymous_005fget"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fanonymous_005fget"></a>Function: <em>Gsasl_client_callback_anonymous</em> <strong>gsasl_client_callback_anonymous_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_client_callback_anonymous_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_client_callback_anonymous_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fqop_005fset-1"></a>
<h4 class="subheading">gsasl_client_callback_qop_set</h4>
<a name="gsasl_005fclient_005fcallback_005fqop_005fset"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fqop_005fset"></a>Function: <em>void</em> <strong>gsasl_client_callback_qop_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_client_callback_qop <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the client to determine the
qop to use after looking at what the server offered.  The function
can be later retrieved using <code>gsasl_client_callback_qop_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fqop_005fget-1"></a>
<h4 class="subheading">gsasl_client_callback_qop_get</h4>
<a name="gsasl_005fclient_005fcallback_005fqop_005fget"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fqop_005fget"></a>Function: <em>Gsasl_client_callback_qop</em> <strong>gsasl_client_callback_qop_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_client_callback_qop_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_client_callback_qop_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fmaxbuf_005fset-1"></a>
<h4 class="subheading">gsasl_client_callback_maxbuf_set</h4>
<a name="gsasl_005fclient_005fcallback_005fmaxbuf_005fset"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fmaxbuf_005fset"></a>Function: <em>void</em> <strong>gsasl_client_callback_maxbuf_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_client_callback_maxbuf <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the client to inform the
server of the largest buffer the client is able to receive when
using the DIGEST-MD5 &quot;auth-int&quot; or &quot;auth-conf&quot; Quality of
Protection (qop). If this directive is missing, the default value
65536 will be assumed.  The function can be later retrieved using
<code>gsasl_client_callback_maxbuf_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005fmaxbuf_005fget-1"></a>
<h4 class="subheading">gsasl_client_callback_maxbuf_get</h4>
<a name="gsasl_005fclient_005fcallback_005fmaxbuf_005fget"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005fmaxbuf_005fget"></a>Function: <em>Gsasl_client_callback_maxbuf</em> <strong>gsasl_client_callback_maxbuf_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_client_callback_maxbuf_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_client_callback_maxbuf_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005frealm_005fset-1"></a>
<h4 class="subheading">gsasl_client_callback_realm_set</h4>
<a name="gsasl_005fclient_005fcallback_005frealm_005fset"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005frealm_005fset"></a>Function: <em>void</em> <strong>gsasl_client_callback_realm_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_client_callback_realm <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the client to know which
realm it belongs to.  The realm is used by the server to determine
which username and password to use.  The function can be later
retrieved using <code>gsasl_client_callback_realm_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fclient_005fcallback_005frealm_005fget-1"></a>
<h4 class="subheading">gsasl_client_callback_realm_get</h4>
<a name="gsasl_005fclient_005fcallback_005frealm_005fget"></a><dl>
<dt><a name="index-gsasl_005fclient_005fcallback_005frealm_005fget"></a>Function: <em>Gsasl_client_callback_realm</em> <strong>gsasl_client_callback_realm_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_client_callback_realm_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_client_callback_realm_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fvalidate_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_validate_set</h4>
<a name="gsasl_005fserver_005fcallback_005fvalidate_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fvalidate_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_validate_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_validate <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server for deciding if
user is authenticated using authentication identity, authorization
identity and password.  The function can be later retrieved using
<code>gsasl_server_callback_validate_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fvalidate_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_validate_get</h4>
<a name="gsasl_005fserver_005fcallback_005fvalidate_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fvalidate_005fget"></a>Function: <em>Gsasl_server_callback_validate</em> <strong>gsasl_server_callback_validate_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_validate_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_server_callback_validate_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fretrieve_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_retrieve_set</h4>
<a name="gsasl_005fserver_005fcallback_005fretrieve_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fretrieve_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_retrieve_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_retrieve <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server for deciding if
user is authenticated using authentication identity, authorization
identity and password.  The function can be later retrieved using
<code>gsasl_server_callback_retrieve_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fretrieve_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_retrieve_get</h4>
<a name="gsasl_005fserver_005fcallback_005fretrieve_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fretrieve_005fget"></a>Function: <em>Gsasl_server_callback_retrieve</em> <strong>gsasl_server_callback_retrieve_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_retrieve_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_server_callback_retrieve_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fcram_005fmd5_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_cram_md5_set</h4>
<a name="gsasl_005fserver_005fcallback_005fcram_005fmd5_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fcram_005fmd5_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_cram_md5_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_cram_md5 <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server for deciding if
user is authenticated using CRAM-MD5 challenge and response.  The
function can be later retrieved using
<code>gsasl_server_callback_cram_md5_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fcram_005fmd5_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_cram_md5_get</h4>
<a name="gsasl_005fserver_005fcallback_005fcram_005fmd5_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fcram_005fmd5_005fget"></a>Function: <em>Gsasl_server_callback_cram_md5</em> <strong>gsasl_server_callback_cram_md5_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_cram_md5_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_server_callback_cram_md5_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_digest_md5_set</h4>
<a name="gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_digest_md5_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_digest_md5 <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server for retrieving
the secret hash of the username, realm and password for use in the
DIGEST-MD5 mechanism.  The function can be later retrieved using
<code>gsasl_server_callback_digest_md5_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_digest_md5_get</h4>
<a name="gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fget"></a>Function: <em>Gsasl_server_callback_digest_md5</em> <strong>gsasl_server_callback_digest_md5_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_digest_md5_set()</code> .
</p>
<p>Return value: Return the callback earlier set by calling
<code>gsasl_server_callback_digest_md5_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fexternal_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_external_set</h4>
<a name="gsasl_005fserver_005fcallback_005fexternal_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fexternal_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_external_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_external <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server for deciding if
user is authenticated out of band.  The function can be later
retrieved using <code>gsasl_server_callback_external_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fexternal_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_external_get</h4>
<a name="gsasl_005fserver_005fcallback_005fexternal_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fexternal_005fget"></a>Function: <em>Gsasl_server_callback_external</em> <strong>gsasl_server_callback_external_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_external_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_server_callback_external_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fanonymous_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_anonymous_set</h4>
<a name="gsasl_005fserver_005fcallback_005fanonymous_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fanonymous_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_anonymous_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_anonymous <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server for deciding if
user is permitted anonymous access.  The function can be later
retrieved using <code>gsasl_server_callback_anonymous_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fanonymous_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_anonymous_get</h4>
<a name="gsasl_005fserver_005fcallback_005fanonymous_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fanonymous_005fget"></a>Function: <em>Gsasl_server_callback_anonymous</em> <strong>gsasl_server_callback_anonymous_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_anonymous_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_server_callback_anonymous_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005frealm_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_realm_set</h4>
<a name="gsasl_005fserver_005fcallback_005frealm_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005frealm_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_realm_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_realm <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server to know which
realm it serves.  The realm is used by the user to determine which
username and password to use.  The function can be later retrieved
using <code>gsasl_server_callback_realm_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005frealm_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_realm_get</h4>
<a name="gsasl_005fserver_005fcallback_005frealm_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005frealm_005fget"></a>Function: <em>Gsasl_server_callback_realm</em> <strong>gsasl_server_callback_realm_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_realm_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_server_callback_realm_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fqop_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_qop_set</h4>
<a name="gsasl_005fserver_005fcallback_005fqop_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fqop_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_qop_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_qop <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server to know which
quality of protection it accepts.  The quality of protection
eventually used is selected by the client though.  It is currently
used by the DIGEST-MD5 mechanism. The function can be later
retrieved using <code>gsasl_server_callback_qop_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fqop_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_qop_get</h4>
<a name="gsasl_005fserver_005fcallback_005fqop_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fqop_005fget"></a>Function: <em>Gsasl_server_callback_qop</em> <strong>gsasl_server_callback_qop_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_qop_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_server_callback_qop_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fmaxbuf_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_maxbuf_set</h4>
<a name="gsasl_005fserver_005fcallback_005fmaxbuf_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fmaxbuf_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_maxbuf_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_maxbuf <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server to inform the
client of the largest buffer the server is able to receive when
using the DIGEST-MD5 &quot;auth-int&quot; or &quot;auth-conf&quot; Quality of
Protection (qop). If this directive is missing, the default value
65536 will be assumed.  The function can be later retrieved using
<code>gsasl_server_callback_maxbuf_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fmaxbuf_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_maxbuf_get</h4>
<a name="gsasl_005fserver_005fcallback_005fmaxbuf_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fmaxbuf_005fget"></a>Function: <em>Gsasl_server_callback_maxbuf</em> <strong>gsasl_server_callback_maxbuf_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_maxbuf_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_server_callback_maxbuf_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fcipher_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_cipher_set</h4>
<a name="gsasl_005fserver_005fcallback_005fcipher_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fcipher_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_cipher_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_cipher <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server to inform the
client of the cipher suites supported.  The DES and 3DES ciphers
must be supported for interoperability.  It is currently used by
the DIGEST-MD5 mechanism.  The function can be later retrieved
using <code>gsasl_server_callback_cipher_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fcipher_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_cipher_get</h4>
<a name="gsasl_005fserver_005fcallback_005fcipher_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fcipher_005fget"></a>Function: <em>Gsasl_server_callback_cipher</em> <strong>gsasl_server_callback_cipher_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_cipher_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_server_callback_cipher_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fsecurid_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_securid_set</h4>
<a name="gsasl_005fserver_005fcallback_005fsecurid_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fsecurid_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_securid_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_securid <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server for validating a
user via the SECURID mechanism.  The function should return
GSASL_OK if user authenticated successfully,
GSASL_SECURID_SERVER_NEED_ADDITIONAL_PASSCODE if it wants another
passcode, GSASL_SECURID_SERVER_NEED_NEW_PIN if it wants a PIN
change, or an error.  When (and only when)
GSASL_SECURID_SERVER_NEED_NEW_PIN is returned, suggestpin can be
populated with a PIN code the server suggests, and suggestpinlen
set to the length of the PIN.  The function can be later retrieved
using <code>gsasl_server_callback_securid_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fsecurid_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_securid_get</h4>
<a name="gsasl_005fserver_005fcallback_005fsecurid_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fsecurid_005fget"></a>Function: <em>Gsasl_server_callback_securid</em> <strong>gsasl_server_callback_securid_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_securid_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_server_callback_securid_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fgssapi_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_gssapi_set</h4>
<a name="gsasl_005fserver_005fcallback_005fgssapi_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fgssapi_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_gssapi_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_gssapi <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server for checking if
a GSSAPI user is authorized for username (by, e.g., calling
krb5_kuserok).  The function should return GSASL_OK if the user
should be permitted access, or an error code such as
GSASL_AUTHENTICATION_ERROR on failure.  The function can be later
retrieved using <code>gsasl_server_callback_gssapi_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fgssapi_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_gssapi_get</h4>
<a name="gsasl_005fserver_005fcallback_005fgssapi_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fgssapi_005fget"></a>Function: <em>Gsasl_server_callback_gssapi</em> <strong>gsasl_server_callback_gssapi_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_gssapi_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_server_callback_gssapi_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fservice_005fset-1"></a>
<h4 class="subheading">gsasl_server_callback_service_set</h4>
<a name="gsasl_005fserver_005fcallback_005fservice_005fset"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fservice_005fset"></a>Function: <em>void</em> <strong>gsasl_server_callback_service_set</strong> <em>(Gsasl * <var>ctx</var>, Gsasl_server_callback_service <var>cb</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p><var>cb</var>: callback function
</p>
<p>Specify the callback function to use in the server to set the name
of the service.  The service buffer should be a registered GSSAPI
host-based service name, hostname the name of the server.  The
function can be later retrieved using
<code>gsasl_server_callback_service_get()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fserver_005fcallback_005fservice_005fget-1"></a>
<h4 class="subheading">gsasl_server_callback_service_get</h4>
<a name="gsasl_005fserver_005fcallback_005fservice_005fget"></a><dl>
<dt><a name="index-gsasl_005fserver_005fcallback_005fservice_005fget"></a>Function: <em>Gsasl_server_callback_service</em> <strong>gsasl_server_callback_service_get</strong> <em>(Gsasl * <var>ctx</var>)</em></dt>
<dd><p><var>ctx</var>: libgsasl handle.
</p>
<p>Get the callback earlier set by calling
<code>gsasl_server_callback_service_set()</code> .
</p>
<p>Return value: Returns the callback earlier set by calling
<code>gsasl_server_callback_service_set()</code> .
</p>
<p><strong>Deprecated:</strong> This function is part of the old callback interface.
The new interface uses <code>gsasl_callback_set()</code>  to set the application
callback, and uses <code>gsasl_callback()</code>  or <code>gsasl_property_get()</code>  to
invoke the callback for certain properties.
</p></dd></dl>

<a name="gsasl_005fstringprep_005fnfkc-1"></a>
<h4 class="subheading">gsasl_stringprep_nfkc</h4>
<a name="gsasl_005fstringprep_005fnfkc"></a><dl>
<dt><a name="index-gsasl_005fstringprep_005fnfkc"></a>Function: <em>char *</em> <strong>gsasl_stringprep_nfkc</strong> <em>(const char * <var>in</var>, ssize_t <var>len</var>)</em></dt>
<dd><p><var>in</var>: a UTF-8 encoded string.
</p>
<p><var>len</var>: length of  <code>str</code> , in bytes, or -1 if  <code>str</code> is nul-terminated.
</p>
<p>Converts a string into canonical form, standardizing such issues as
whether a character with an accent is represented as a base
character and combining accent or as a single precomposed
character.
</p>
<p>The normalization mode is NFKC (ALL COMPOSE).  It standardizes
differences that do not affect the text content, such as the
above-mentioned accent representation. It standardizes the
&quot;compatibility&quot; characters in Unicode, such as SUPERSCRIPT THREE to
the standard forms (in this case DIGIT THREE). Formatting
information may be lost but for most text operations such
characters should be considered the same. It returns a result with
composed forms rather than a maximally decomposed form.
</p>
<p>Return value: Return a newly allocated string, that is the NFKC
normalized form of  <code>str</code> , or NULL on error.
</p>
<p><strong>Deprecated:</strong> No replacement functionality in GNU SASL, use GNU
Libidn instead.  Note that in SASL, you most likely want to use
SASLprep and not bare NFKC, see <code>gsasl_saslprep()</code> .
</p></dd></dl>

<a name="gsasl_005fstringprep_005fsaslprep-1"></a>
<h4 class="subheading">gsasl_stringprep_saslprep</h4>
<a name="gsasl_005fstringprep_005fsaslprep"></a><dl>
<dt><a name="index-gsasl_005fstringprep_005fsaslprep"></a>Function: <em>char *</em> <strong>gsasl_stringprep_saslprep</strong> <em>(const char * <var>in</var>, int * <var>stringprep_rc</var>)</em></dt>
<dd><p><var>in</var>: input ASCII or UTF-8 string with data to prepare according to SASLprep.
</p>
<p><var>stringprep_rc</var>: pointer to output variable with stringprep error code,
or NULL to indicate that you don&rsquo;t care about it.
</p>
<p>Process a Unicode string for comparison, according to the
&quot;SASLprep&quot; stringprep profile.  This function is intended to be
used by Simple Authentication and Security Layer (SASL) mechanisms
(such as PLAIN, CRAM-MD5, and DIGEST-MD5) as well as other
protocols exchanging user names and/or passwords.
</p>
<p>Return value: Return a newly allocated string that is the
&quot;SASLprep&quot; processed form of the input string, or NULL on error,
in which case  <code>stringprep_rc</code> contain the stringprep library error
code.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_saslprep()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fstringprep_005ftrace-1"></a>
<h4 class="subheading">gsasl_stringprep_trace</h4>
<a name="gsasl_005fstringprep_005ftrace"></a><dl>
<dt><a name="index-gsasl_005fstringprep_005ftrace"></a>Function: <em>char *</em> <strong>gsasl_stringprep_trace</strong> <em>(const char * <var>in</var>, int * <var>stringprep_rc</var>)</em></dt>
<dd><p><var>in</var>: input ASCII or UTF-8 string with data to prepare according to &quot;trace&quot;.
</p>
<p><var>stringprep_rc</var>: pointer to output variable with stringprep error code,
or NULL to indicate that you don&rsquo;t care about it.
</p>
<p>Process a Unicode string for use as trace information, according to
the &quot;trace&quot; stringprep profile.  The profile is designed for use
with the SASL ANONYMOUS Mechanism.
</p>
<p>Return value: Return a newly allocated string that is the &quot;trace&quot;
processed form of the input string, or NULL on error, in which
case  <code>stringprep_rc</code> contain the stringprep library error code.
</p>
<p><strong>Deprecated:</strong> No replacement functionality in GNU SASL, use GNU
Libidn instead.
</p></dd></dl>

<a name="gsasl_005fmd5pwd_005fget_005fpassword-1"></a>
<h4 class="subheading">gsasl_md5pwd_get_password</h4>
<a name="gsasl_005fmd5pwd_005fget_005fpassword"></a><dl>
<dt><a name="index-gsasl_005fmd5pwd_005fget_005fpassword"></a>Function: <em>int</em> <strong>gsasl_md5pwd_get_password</strong> <em>(const char * <var>filename</var>, const char * <var>username</var>, char * <var>key</var>, size_t * <var>keylen</var>)</em></dt>
<dd><p><var>filename</var>: filename of file containing passwords.
</p>
<p><var>username</var>: username string.
</p>
<p><var>key</var>: output character array.
</p>
<p><var>keylen</var>: input maximum size of output character array, on output
contains actual length of output array.
</p>
<p>Retrieve password for user from specified file.  To find out how
large the output array must be, call this function with out=NULL.
</p>
<p>The file should be on the UoW &quot;MD5 Based Authentication&quot; format,
which means it is in text format with comments denoted by # first
on the line, with user entries looking as &quot;usernameTABpassword&quot;.
This function removes CR and LF at the end of lines before
processing.  TAB, CR, and LF denote ASCII values 9, 13, and 10,
respectively.
</p>
<p>Return value: Return GSASL_OK if output buffer contains the
password, GSASL_AUTHENTICATION_ERROR if the user could not be
found, or other error code.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_simple_getpass()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fbase64_005fencode-1"></a>
<h4 class="subheading">gsasl_base64_encode</h4>
<a name="gsasl_005fbase64_005fencode"></a><dl>
<dt><a name="index-gsasl_005fbase64_005fencode"></a>Function: <em>int</em> <strong>gsasl_base64_encode</strong> <em>(char const * <var>src</var>, size_t <var>srclength</var>, char * <var>target</var>, size_t <var>targsize</var>)</em></dt>
<dd><p><var>src</var>: input byte array
</p>
<p><var>srclength</var>: size of input byte array
</p>
<p><var>target</var>: output byte array
</p>
<p><var>targsize</var>: size of output byte array
</p>
<p>Encode data as base64.  Converts characters, three at a time,
starting at src into four base64 characters in the target area
until the entire input buffer is encoded.
</p>
<p>Return value: Returns the number of data bytes stored at the
target, or -1 on error.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_base64_to()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fbase64_005fdecode-1"></a>
<h4 class="subheading">gsasl_base64_decode</h4>
<a name="gsasl_005fbase64_005fdecode"></a><dl>
<dt><a name="index-gsasl_005fbase64_005fdecode"></a>Function: <em>int</em> <strong>gsasl_base64_decode</strong> <em>(char const * <var>src</var>, char * <var>target</var>, size_t <var>targsize</var>)</em></dt>
<dd><p><var>src</var>: input byte array
</p>
<p><var>target</var>: output byte array
</p>
<p><var>targsize</var>: size of output byte array
</p>
<p>Decode Base64 data.  Skips all whitespace anywhere.  Converts
characters, four at a time, starting at (or after) src from Base64
numbers into three 8 bit bytes in the target area.
</p>
<p>Return value: Returns the number of data bytes stored at the
target, or -1 on error.
</p>
<p><strong>Deprecated:</strong> Use <code>gsasl_base64_from()</code>  instead.
</p></dd></dl>

<a name="gsasl_005fmd5-1"></a>
<h4 class="subheading">gsasl_md5</h4>
<a name="gsasl_005fmd5"></a><dl>
<dt><a name="index-gsasl_005fmd5"></a>Function: <em>int</em> <strong>gsasl_md5</strong> <em>(const char * <var>in</var>, size_t <var>inlen</var>, char * [] <var>out</var>)</em></dt>
<dd><p><var>in</var>: input character array of data to hash.
</p>
<p><var>inlen</var>: length of input character array of data to hash.
</p>
<p><var>out</var>: newly allocated 16-byte character array with hash of data.
</p>
<p>Compute hash of data using MD5.  The  <code>out</code> buffer must be
deallocated by the caller.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  iff successful.
</p>
<p><strong>Deprecated:</strong> Use a crypto library.
</p></dd></dl>

<a name="gsasl_005fhmac_005fmd5-1"></a>
<h4 class="subheading">gsasl_hmac_md5</h4>
<a name="gsasl_005fhmac_005fmd5"></a><dl>
<dt><a name="index-gsasl_005fhmac_005fmd5"></a>Function: <em>int</em> <strong>gsasl_hmac_md5</strong> <em>(const char * <var>key</var>, size_t <var>keylen</var>, const char * <var>in</var>, size_t <var>inlen</var>, char * [] <var>outhash</var>)</em></dt>
<dd><p><var>key</var>: input character array with key to use.
</p>
<p><var>keylen</var>: length of input character array with key to use.
</p>
<p><var>in</var>: input character array of data to hash.
</p>
<p><var>inlen</var>: length of input character array of data to hash.
</p>
<p><var>outhash</var>: newly allocated 16-byte character array with keyed hash of data.
</p>
<p>Compute keyed checksum of data using HMAC-MD5.  The  <code>outhash</code> buffer
must be deallocated by the caller.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  iff successful.
</p>
<p><strong>Deprecated:</strong> Use a crypto library.
</p></dd></dl>

<a name="gsasl_005fsha1-1"></a>
<h4 class="subheading">gsasl_sha1</h4>
<a name="gsasl_005fsha1"></a><dl>
<dt><a name="index-gsasl_005fsha1"></a>Function: <em>int</em> <strong>gsasl_sha1</strong> <em>(const char * <var>in</var>, size_t <var>inlen</var>, char * [] <var>out</var>)</em></dt>
<dd><p><var>in</var>: input character array of data to hash.
</p>
<p><var>inlen</var>: length of input character array of data to hash.
</p>
<p><var>out</var>: newly allocated 20-byte character array with hash of data.
</p>
<p>Compute hash of data using SHA1.  The  <code>out</code> buffer must be
deallocated by the caller.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  iff successful.
</p>
<p><strong>Since:</strong> 1.3
</p>
<p><strong>Deprecated:</strong> Use a crypto library.
</p></dd></dl>

<a name="gsasl_005fhmac_005fsha1-1"></a>
<h4 class="subheading">gsasl_hmac_sha1</h4>
<a name="gsasl_005fhmac_005fsha1"></a><dl>
<dt><a name="index-gsasl_005fhmac_005fsha1"></a>Function: <em>int</em> <strong>gsasl_hmac_sha1</strong> <em>(const char * <var>key</var>, size_t <var>keylen</var>, const char * <var>in</var>, size_t <var>inlen</var>, char * [] <var>outhash</var>)</em></dt>
<dd><p><var>key</var>: input character array with key to use.
</p>
<p><var>keylen</var>: length of input character array with key to use.
</p>
<p><var>in</var>: input character array of data to hash.
</p>
<p><var>inlen</var>: length of input character array of data to hash.
</p>
<p><var>outhash</var>: newly allocated 20-byte character array with keyed hash of data.
</p>
<p>Compute keyed checksum of data using HMAC-SHA1.  The  <code>outhash</code> buffer
must be deallocated by the caller.
</p>
<p>Return value: Returns <code>GSASL_OK</code>  iff successful.
</p>
<p><strong>Since:</strong> 1.3
</p>
<p><strong>Deprecated:</strong> Use a crypto library.
</p></dd></dl>


<a name="Obsolete-callback-function-prototypes"></a>
<h3 class="section">B.1 Obsolete callback function prototypes</h3>

<dl>
<dt><a name="index-_0028_002aGsasl_005fclient_005fcallback_005fanonymous_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_client_callback_anonymous)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>out</var>, size_t * <var>outlen</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>out</var>:  output array with client token.
</p>
<p><var>outlen</var>:  on input the maximum size of the output array, on output
contains the actual size of the output array.
</p>
<p>Type of callback function the application implements.  It should
populate the output array with some input from the user and set the
output array length, and return <code>GSASL_OK</code>, or fail with an error
code.
</p>
<p>If OUT is NULL, the function should only populate the output length
field with the length, and return GSASL_OK.  This usage may be used by
the caller to allocate the proper buffer size.
</p>
</dd></dl>

<dl>
<dt><a name="index-_0028_002aGsasl_005fserver_005fcallback_005fanonymous_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_server_callback_anonymous)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, const char * <var>token</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>ctx</var>:  output array with client token.
</p>
<p><var>ctx</var>:  on input the maximum size of the output array, on output
contains the actual size of the output array.  If OUT is
</p>
<p>Type of callback function the application implements.  It should
return <code>GSASL_OK</code> if user should be permitted anonymous access,
otherwise <code>GSASL_AUTHENTICATION_ERROR</code>.
</p>
</dd></dl>

<dl>
<dt><a name="index-_0028_002aGsasl_005fclient_005fcallback_005fauthentication_005fid_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_client_callback_authentication_id)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>out</var>, size_t * <var>outlen</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>out</var>:  output array with authentication identity.
</p>
<p><var>outlen</var>:  on input the maximum size of the output array, on output
contains the actual size of the output array.
</p>
<p>Type of callback function the application implements.  It should
populate the output array with authentiction identity of user and set
the output array length, and return <code>GSASL_OK</code>, or fail with an
error code.  The authentication identity must be encoded in UTF-8, but
need not be normalized in any way.
</p>
<p>If OUT is NULL, the function should only populate the output length
field with the length, and return GSASL_OK.  This usage may be used by
the caller to allocate the proper buffer size.
</p>
</dd></dl>
<dl>
<dt><a name="index-_0028_002aGsasl_005fclient_005fcallback_005fauthorization_005fid_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_client_callback_authorization_id)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>out</var>, size_t * <var>outlen</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>out</var>:  output array with authorization identity.
</p>
<p><var>outlen</var>:  on input the maximum size of the output array, on output
contains the actual size of the output array.
</p>
<p>Type of callback function the application implements.  It should
populate the output array with authorization identity of user and set
the output array length, and return <code>GSASL_OK</code>, or fail with an
error code. The authorization identity must be encoded in UTF-8, but
need not be normalized in any way.
</p>
<p>If OUT is NULL, the function should only populate the output length
field with the length, and return GSASL_OK.  This usage may be used by
the caller to allocate the proper buffer size.
</p>
</dd></dl>
<dl>
<dt><a name="index-_0028_002aGsasl_005fclient_005fcallback_005fservice_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_client_callback_service)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>service</var>, size_t * <var>servicelen</var>, char * <var>hostname</var>, size_t * <var>hostnamelen</var>, char * <var>servicename</var>, size_t * <var>servicenamelen</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>service</var>:  output array with name of service.
</p>
<p><var>servicelen</var>: on input the maximum size of the service output array,
on output contains the actual size of the service output array.
</p>
<p><var>hostname</var>:  output array with hostname of server.
</p>
<p><var>hostnamelen</var>: on input the maximum size of the hostname output
array, on output contains the actual size of the hostname output
array.
</p>
<p><var>servicename</var>: output array with generic name of server in case of
replication (DIGEST-MD5 only).
</p>
<p><var>servicenamelen</var>: on input the maximum size of the servicename
output array, on output contains the actual size of the servicename
output array.
</p>
<p>Type of callback function the application implements.  It should
retrieve the service (which should be a registered GSSAPI host based
service name, such as &ldquo;imap&rdquo;) on the server, hostname of server
(usually canoncial DNS hostname) and optionally generic service name
of server in case of replication (e.g. &ldquo;mail.example.org&rdquo; when the
hostname is &ldquo;mx42.example.org&rdquo;, see the RFC 2831 for more
information).  It should return GSASL_OK, or an error such as
GSASL_AUTHENTICATION_ERROR if it fails.
</p>
<p>If SERVICE, HOSTNAME or SERVICENAME is NULL, the function should only
populate SERVICELEN, HOSTNAMELEN or SERVICENAMELEN with the output
length of the respective field, and return GSASL_OK.  This usage may
be used by the caller to allocate the proper buffer size.
Furthermore, SERVICENAMELEN may also be NULL, indicating that the
mechanism is not interested in this field.
</p>
</dd></dl>
<dl>
<dt><a name="index-_0028_002aGsasl_005fserver_005fcallback_005fcram_005fmd5_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_server_callback_cram_md5)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>username</var>, char * <var>challenge</var>, char * <var>response</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>username</var>:  input array with username.
</p>
<p><var>challenge</var>:  input array with CRAM-MD5 challenge.
</p>
<p><var>response</var>:  input array with CRAM-MD5 response.
</p>
<p>Type of callback function the application implements.  It should
return GSASL_OK if and only if the validation of the provided
credential was succesful.  GSASL_AUTHENTICATION_ERROR is a good
failure if authentication failed, but any available return code may be
used.
</p>
</dd></dl>
<dl>
<dt><a name="index-_0028_002aGsasl_005fserver_005fcallback_005fdigest_005fmd5_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_server_callback_digest_md5)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>username</var>, char * <var>realm</var>, char * <var>secrethash</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>username</var>:  input array with authentication identity of user.
</p>
<p><var>realm</var>:  input array with realm of user.
</p>
<p><var>secrethash</var>: output array that should contain hash of username,
realm and password as described for the DIGEST-MD5 mechanism.
</p>
<p>Type of callback function the application implements.  It should
retrieve the secret hash for the given user in given realm and return
GSASL_OK, or an error such as GSASL_AUTHENTICATION_ERROR if it fails.
The secrethash buffer is guaranteed to have size for the fixed length
MD5 hash.
</p>
</dd></dl>

<dl>
<dt><a name="index-_0028_002aGsasl_005fserver_005fcallback_005fexternal_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_server_callback_external)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p>Type of callback function the application implements.  It should
return <code>GSASL_OK</code> if user is authenticated by out of band means,
otherwise <code>GSASL_AUTHENTICATION_ERROR</code>.
</p>
</dd></dl>

<dl>
<dt><a name="index-_0028_002aGsasl_005fserver_005fcallback_005fgssapi_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_server_callback_gssapi)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>clientname</var>, char * <var>authentication_id</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>clientname</var>:  input array with GSSAPI client name.
</p>
<p><var>authentication_id</var>:  input array with authentication identity.
</p>
<p>Type of callback function the application implements.  It should
return GSASL_OK if and only if the GSSAPI user is authorized to log on
as the given authentication_id.  GSASL_AUTHENTICATION_ERROR is a good
failure if authentication failed, but any available return code may be
used.  This callback is usually implemented in the application as a
call to krb5_kuserok(), such as:
</p>
<div class="example">
<pre class="example">int
callback_gssapi (Gsasl_session_ctx *ctx,
		 char *clientname,
		 char *authentication_id)
{
  int rc = GSASL_AUTHENTICATION_ERROR;

  krb5_principal p;
  krb5_context kcontext;

  krb5_init_context (&amp;kcontext);

  if (krb5_parse_name (kcontext, clientname, &amp;p) != 0)
    return -1;
  if (krb5_kuserok (kcontext, p, authentication_id))
    rc = GSASL_OK;
  krb5_free_principal (kcontext, p);

  return rc;
}
</pre></div>

</dd></dl>
<dl>
<dt><a name="index-_0028_002aGsasl_005fclient_005fcallback_005fpasscode_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_client_callback_passcode)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>out</var>, size_t * <var>outlen</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>out</var>:  output array with passcode.
</p>
<p><var>outlen</var>:  on input the maximum size of the output array, on output
contains the actual size of the output array.
</p>
<p>Type of callback function the application implements.  It should
populate the output array with passcode of user and set the output
array length, and return <code>GSASL_OK</code>, or fail with an error code.
</p>
<p>If OUT is NULL, the function should only populate the output length
field with the length, and return GSASL_OK.  This usage may be used by
the caller to allocate the proper buffer size.
</p>
</dd></dl>
<dl>
<dt><a name="index-_0028_002aGsasl_005fclient_005fcallback_005fpassword_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_client_callback_password)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>out</var>, size_t * <var>outlen</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>out</var>:  output array with password.
</p>
<p><var>outlen</var>:  on input the maximum size of the output array, on output
contains the actual size of the output array.
</p>
<p>Type of callback function the application implements.  It should
populate the output array with password of user and set the output
array length, and return <code>GSASL_OK</code>, or fail with an error
code. The password must be encoded in UTF-8, but need not be
normalized in any way.
</p>
<p>If OUT is NULL, the function should only populate the output length
field with the length, and return GSASL_OK.  This usage may be used by
the caller to allocate the proper buffer size.
</p>
</dd></dl>
<dl>
<dt><a name="index-_0028_002aGsasl_005fserver_005fcallback_005fretrieve_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_server_callback_retrieve)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>authentication_id</var>, char * <var>authorization_id</var>, char * <var>realm</var>, char * <var>key</var>, size_t * <var>keylen</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>authentication_id</var>:  input array with authentication identity.
</p>
<p><var>authorization_id</var>:  input array with authorization identity, or NULL.
</p>
<p><var>realm</var>:  input array with realm of user, or NULL.
</p>
<p><var>key</var>:  output array with key for authentication identity.
</p>
<p><var>keylen</var>: on input the maximum size of the key output array, on
output contains the actual size of the key output array.
</p>
<p>Type of callback function the application implements.  It should
retrieve the password for the indicated user and return GSASL_OK, or
an error code such as GSASL_AUTHENTICATION_ERROR.  The key must be
encoded in UTF-8, but need not be normalized in any way.
</p>
<p>If KEY is NULL, the function should only populate the KEYLEN output
length field with the length, and return GSASL_OK.  This usage may be
used by the caller to allocate the proper buffer size.
</p>
</dd></dl>
<dl>
<dt><a name="index-_0028_002aGsasl_005fserver_005fcallback_005fvalidate_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_server_callback_validate)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>authentication_id</var>, char * <var>authorization_id</var>, char * <var>passcode</var>, char * <var>pin</var>, char * <var>suggestpin</var>, size_t * <var>suggestpinlen</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>authorization_id</var>:  input array with authorization identity.
</p>
<p><var>authentication_id</var>:  input array with authentication identity.
</p>
<p><var>passcode</var>:  input array with passcode.
</p>
<p><var>pin</var>:  input array with new pin (this may be NULL).
</p>
<p><var>suggestpin</var>:  output array with new suggested PIN.
</p>
<p><var>suggestpinlen</var>: on input the maximum size of the output array, on
output contains the actual size of the output array.
</p>
<p>Type of callback function the application implements.  It should
return GSASL_OK if and only if the validation of the provided
credential was succesful.  GSASL_AUTHENTICATION_ERROR is a good
failure if authentication failed, but any available return code may be
used.
</p>
<p>Two SECURID specific error codes also exists.  The function can return
GSASL_SECURID_SERVER_NEED_ADDITIONAL_PASSCODE to request that the
client generate a new passcode.  It can also return
GSASL_SECURID_SERVER_NEED_NEW_PIN to request that the client generate
a new PIN.  If the server wishes to suggest a new PIN it can populate
the SUGGESTPIN field.
</p>
<p>If SUGGESTPIN is NULL, the function should only populate the output
length field with the length, and return GSASL_OK.  This usage may be
used by the caller to allocate the proper buffer size.
</p>
</dd></dl>
<dl>
<dt><a name="index-_0028_002aGsasl_005fserver_005fcallback_005fservice_0029"></a>Prototype: <em>int</em> <strong>(*Gsasl_server_callback_service)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>service</var>, size_t * <var>servicelen</var>, char * <var>hostname</var>, size_t * <var>hostnamelen</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>service</var>:  output array with name of service.
</p>
<p><var>servicelen</var>: on input the maximum size of the service output array,
on output contains the actual size of the service output array.
</p>
<p><var>hostname</var>:  output array with hostname of server.
</p>
<p><var>hostnamelen</var>: on input the maximum size of the hostname output
array, on output contains the actual size of the hostname output
array.
</p>
<p>Type of callback function the application implements.  It should
retrieve the service (which should be a registered GSSAPI host based
service name, such as &ldquo;imap&rdquo;) the server provides and hostname of
server (usually canoncial DNS hostname).  It should return GSASL_OK,
or an error such as GSASL_AUTHENTICATION_ERROR if it fails.
</p>
<p>If SERVICE or HOSTNAME is NULL, the function should only populate
SERVICELEN or HOSTNAMELEN with the output length of the respective
field, and return GSASL_OK.  This usage may be used by the caller to
allocate the proper buffer size.
</p>
</dd></dl>
<dl>
<dt><a name="index-_0028_002aGsasl_005fserver_005fcallback_005fvalidate_0029-1"></a>Prototype: <em>int</em> <strong>(*Gsasl_server_callback_validate)</strong> <em>(Gsasl_session_ctx * <var>ctx</var>, char * <var>authorization_id</var>, char * <var>authentication_id</var>, char * <var>password</var>)</em></dt>
<dd>
<p><var>ctx</var>:  libgsasl handle.
</p>
<p><var>authorization_id</var>:  input array with authorization identity.
</p>
<p><var>authentication_id</var>:  input array with authentication identity.
</p>
<p><var>password</var>:  input array with password.
</p>
<p>Type of callback function the application implements.  It should
return GSASL_OK if and only if the validation of the provided
credential was succesful.  GSASL_AUTHENTICATION_ERROR is a good
failure if authentication failed, but any available return code may be
used.
</p>
</dd></dl>

<hr>
<a name="Copying-Information"></a>
<div class="header">
<p>
Next: <a href="#Function-and-Data-Index" accesskey="n" rel="next">Function and Data Index</a>, Previous: <a href="#Old-Functions" accesskey="p" rel="prev">Old Functions</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Copying-Information-1"></a>
<h2 class="appendix">Appendix C Copying Information</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#GNU-Free-Documentation-License" accesskey="1">GNU Free Documentation License</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">License for copying this manual.
</td></tr>
</table>

<hr>
<a name="GNU-Free-Documentation-License"></a>
<div class="header">
<p>
Up: <a href="#Copying-Information" accesskey="u" rel="up">Copying Information</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="GNU-Free-Documentation-License-1"></a>
<h3 class="appendixsec">C.1 GNU Free Documentation License</h3>

<a name="index-FDL_002c-GNU-Free-Documentation-License"></a>

<div align="center">Version 1.3, 3 November 2008
</div>

<div class="display">
<pre class="display">Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
<a href="https://fsf.org/">https://fsf.org/</a>

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre></div>

<ol start="0">
<li> PREAMBLE

<p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <em>free</em> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially.
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.
</p>
<p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.
</p>
<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.
</p>
</li><li> APPLICABILITY AND DEFINITIONS

<p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.
</p>
<p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.
</p>
<p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document&rsquo;s overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.
</p>
<p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.
</p>
<p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.
</p>
<p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent.
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.
</p>
<p>Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input
format, SGML or XML using a publicly available
DTD, and standard-conforming simple HTML,
PostScript or PDF designed for human modification.  Examples
of transparent image formats include PNG, XCF and
JPG.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, SGML or
XML for which the DTD and/or processing tools are
not generally available, and the machine-generated HTML,
PostScript or PDF produced by some word processors for
output purposes only.
</p>
<p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work&rsquo;s title,
preceding the beginning of the body of the text.
</p>
<p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.
</p>
<p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.
</p>
<p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.
</p>
</li><li> VERBATIM COPYING

<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.
</p>
<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.
</p>
</li><li> COPYING IN QUANTITY

<p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document&rsquo;s license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition.
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.
</p>
<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.
</p>
<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material.
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.
</p>
<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.
</p>
</li><li> MODIFICATIONS

<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:
</p>
<ol type="A" start="1">
<li> Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

</li><li> List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

</li><li> State on the Title page the name of the publisher of the
Modified Version, as the publisher.

</li><li> Preserve all the copyright notices of the Document.

</li><li> Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

</li><li> Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

</li><li> Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document&rsquo;s license notice.

</li><li> Include an unaltered copy of this License.

</li><li> Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

</li><li> Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section.
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

</li><li> For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

</li><li> Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

</li><li> Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

</li><li> Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

</li><li> Preserve any Warranty Disclaimers.
</li></ol>

<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version&rsquo;s license notice.
These titles must be distinct from any other section titles.
</p>
<p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.
</p>
<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.
</p>
<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.
</p>
</li><li> COMBINING DOCUMENTS

<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.
</p>
<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.
</p>
<p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;
</p>
</li><li> COLLECTIONS OF DOCUMENTS

<p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.
</p>
<p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.
</p>
</li><li> AGGREGATION WITH INDEPENDENT WORKS

<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation&rsquo;s users beyond what the individual works permit.
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.
</p>
<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document&rsquo;s Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form.
Otherwise they must appear on printed covers that bracket the whole
aggregate.
</p>
</li><li> TRANSLATION

<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.
</p>
<p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.
</p>
</li><li> TERMINATION

<p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.
</p>
<p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.
</p>
<p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.
</p>
<p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.
</p>
</li><li> FUTURE REVISIONS OF THIS LICENSE

<p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.
</p>
<p>Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy&rsquo;s public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.
</p>
</li><li> RELICENSING

<p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.
</p>
<p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.
</p>
<p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.
</p>
<p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.
</p>
<p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.
</p>
</li></ol>

<a name="ADDENDUM_003a-How-to-use-this-License-for-your-documents"></a>
<h3 class="heading">ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:
</p>
<div class="smallexample">
<pre class="smallexample">  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.3
  or any later version published by the Free Software Foundation;
  with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
  Texts.  A copy of the license is included in the section entitled ``GNU
  Free Documentation License''.
</pre></div>

<p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with&hellip;Texts.&rdquo; line with this:
</p>
<div class="smallexample">
<pre class="smallexample">    with the Invariant Sections being <var>list their titles</var>, with
    the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
    being <var>list</var>.
</pre></div>

<p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.
</p>
<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.
</p>

<hr>
<a name="Function-and-Data-Index"></a>
<div class="header">
<p>
Next: <a href="#Concept-Index" accesskey="n" rel="next">Concept Index</a>, Previous: <a href="#Copying-Information" accesskey="p" rel="prev">Copying Information</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Function-and-Data-Index-1"></a>
<h2 class="unnumbered">Function and Data Index</h2>

<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Function-and-Data-Index_fn_symbol-1"><b>(</b></a>
 &nbsp; 
<br>
<a class="summary-letter" href="#Function-and-Data-Index_fn_letter-G"><b>G</b></a>
 &nbsp; 
</td></tr></table>
<table class="index-fn" border="0">
<tr><td></td><th align="left">Index Entry</th><td>&nbsp;</td><th align="left"> Section</th></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-and-Data-Index_fn_symbol-1">(</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fclient_005fcallback_005fanonymous_0029"><code>(*Gsasl_client_callback_anonymous)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fclient_005fcallback_005fauthentication_005fid_0029"><code>(*Gsasl_client_callback_authentication_id)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fclient_005fcallback_005fauthorization_005fid_0029"><code>(*Gsasl_client_callback_authorization_id)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fclient_005fcallback_005fpasscode_0029"><code>(*Gsasl_client_callback_passcode)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fclient_005fcallback_005fpassword_0029"><code>(*Gsasl_client_callback_password)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fclient_005fcallback_005fservice_0029"><code>(*Gsasl_client_callback_service)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fserver_005fcallback_005fanonymous_0029"><code>(*Gsasl_server_callback_anonymous)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fserver_005fcallback_005fcram_005fmd5_0029"><code>(*Gsasl_server_callback_cram_md5)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fserver_005fcallback_005fdigest_005fmd5_0029"><code>(*Gsasl_server_callback_digest_md5)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fserver_005fcallback_005fexternal_0029"><code>(*Gsasl_server_callback_external)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fserver_005fcallback_005fgssapi_0029"><code>(*Gsasl_server_callback_gssapi)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fserver_005fcallback_005fretrieve_0029"><code>(*Gsasl_server_callback_retrieve)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fserver_005fcallback_005fservice_0029"><code>(*Gsasl_server_callback_service)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fserver_005fcallback_005fvalidate_0029"><code>(*Gsasl_server_callback_validate)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0028_002aGsasl_005fserver_005fcallback_005fvalidate_0029-1"><code>(*Gsasl_server_callback_validate)</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Function-and-Data-Index_fn_letter-G">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl"><code>gsasl</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Invoking-gsasl">Invoking gsasl</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fappinfo_005fget"><code>gsasl_appinfo_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fappinfo_005fset"><code>gsasl_appinfo_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fapplication_005fdata_005fget"><code>gsasl_application_data_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fapplication_005fdata_005fset"><code>gsasl_application_data_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fbase64_005fdecode"><code>gsasl_base64_decode</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fbase64_005fencode"><code>gsasl_base64_encode</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fbase64_005ffrom"><code>gsasl_base64_from</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Utilities">Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fbase64_005fto"><code>gsasl_base64_to</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Utilities">Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fcallback"><code>gsasl_callback</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Callback-Functions">Callback Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fcallback_005fhook_005fget"><code>gsasl_callback_hook_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Callback-Functions">Callback Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fcallback_005fhook_005fset"><code>gsasl_callback_hook_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Callback-Functions">Callback Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fcallback_005fset"><code>gsasl_callback_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Callback-Functions">Callback Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fcheck_005fversion"><code>gsasl_check_version</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Version-Check">Version Check</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fapplication_005fdata_005fget"><code>gsasl_client_application_data_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fapplication_005fdata_005fset"><code>gsasl_client_application_data_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fanonymous_005fget"><code>gsasl_client_callback_anonymous_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fanonymous_005fset"><code>gsasl_client_callback_anonymous_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fauthentication_005fid_005fget"><code>gsasl_client_callback_authentication_id_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fauthentication_005fid_005fset"><code>gsasl_client_callback_authentication_id_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fauthorization_005fid_005fget"><code>gsasl_client_callback_authorization_id_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fauthorization_005fid_005fset"><code>gsasl_client_callback_authorization_id_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fmaxbuf_005fget"><code>gsasl_client_callback_maxbuf_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fmaxbuf_005fset"><code>gsasl_client_callback_maxbuf_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fpasscode_005fget"><code>gsasl_client_callback_passcode_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fpasscode_005fset"><code>gsasl_client_callback_passcode_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fpassword_005fget"><code>gsasl_client_callback_password_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fpassword_005fset"><code>gsasl_client_callback_password_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fpin_005fget"><code>gsasl_client_callback_pin_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fpin_005fset"><code>gsasl_client_callback_pin_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fqop_005fget"><code>gsasl_client_callback_qop_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fqop_005fset"><code>gsasl_client_callback_qop_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005frealm_005fget"><code>gsasl_client_callback_realm_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005frealm_005fset"><code>gsasl_client_callback_realm_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fservice_005fget"><code>gsasl_client_callback_service_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fcallback_005fservice_005fset"><code>gsasl_client_callback_service_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fctx_005fget"><code>gsasl_client_ctx_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005ffinish"><code>gsasl_client_finish</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005flistmech"><code>gsasl_client_listmech</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fmechlist"><code>gsasl_client_mechlist</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Global-Functions">Global Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fstart"><code>gsasl_client_start</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Session-Functions">Session Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fstep"><code>gsasl_client_step</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fstep_005fbase64"><code>gsasl_client_step_base64</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fsuggest_005fmechanism"><code>gsasl_client_suggest_mechanism</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Global-Functions">Global Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fclient_005fsupport_005fp"><code>gsasl_client_support_p</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Global-Functions">Global Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fctx_005fget"><code>gsasl_ctx_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fdecode"><code>gsasl_decode</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Session-Functions">Session Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fdecode_005finline"><code>gsasl_decode_inline</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fdone"><code>gsasl_done</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Global-Functions">Global Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fencode"><code>gsasl_encode</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Session-Functions">Session Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fencode_005finline"><code>gsasl_encode_inline</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005ffinish"><code>gsasl_finish</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Session-Functions">Session Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005ffree"><code>gsasl_free</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Memory-Handling">Memory Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fhash_005flength"><code>gsasl_hash_length</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Utilities">Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fhex_005ffrom"><code>gsasl_hex_from</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Utilities">Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fhex_005fto"><code>gsasl_hex_to</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Utilities">Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fhmac_005fmd5"><code>gsasl_hmac_md5</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fhmac_005fsha1"><code>gsasl_hmac_sha1</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005finit"><code>gsasl_init</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Global-Functions">Global Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fmd5"><code>gsasl_md5</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fmd5pwd_005fget_005fpassword"><code>gsasl_md5pwd_get_password</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fmechanism_005fname"><code>gsasl_mechanism_name</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Session-Functions">Session Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fnonce"><code>gsasl_nonce</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Utilities">Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fproperty_005ffast"><code>gsasl_property_fast</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Property-Functions">Property Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fproperty_005fget"><code>gsasl_property_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Property-Functions">Property Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fproperty_005fset"><code>gsasl_property_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Property-Functions">Property Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fproperty_005fset_005fraw"><code>gsasl_property_set_raw</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Property-Functions">Property Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005frandom"><code>gsasl_random</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Utilities">Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005frandomize"><code>gsasl_randomize</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fregister"><code>gsasl_register</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Global-Functions">Global Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fsaslprep"><code>gsasl_saslprep</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Utilities">Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fscram_005fsecrets_005ffrom_005fpassword"><code>gsasl_scram_secrets_from_password</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Utilities">Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fscram_005fsecrets_005ffrom_005fsalted_005fpassword"><code>gsasl_scram_secrets_from_salted_password</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Utilities">Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fapplication_005fdata_005fget"><code>gsasl_server_application_data_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fapplication_005fdata_005fset"><code>gsasl_server_application_data_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fanonymous_005fget"><code>gsasl_server_callback_anonymous_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fanonymous_005fset"><code>gsasl_server_callback_anonymous_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fcipher_005fget"><code>gsasl_server_callback_cipher_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fcipher_005fset"><code>gsasl_server_callback_cipher_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fcram_005fmd5_005fget"><code>gsasl_server_callback_cram_md5_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fcram_005fmd5_005fset"><code>gsasl_server_callback_cram_md5_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fget"><code>gsasl_server_callback_digest_md5_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fdigest_005fmd5_005fset"><code>gsasl_server_callback_digest_md5_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fexternal_005fget"><code>gsasl_server_callback_external_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fexternal_005fset"><code>gsasl_server_callback_external_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fgssapi_005fget"><code>gsasl_server_callback_gssapi_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fgssapi_005fset"><code>gsasl_server_callback_gssapi_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fmaxbuf_005fget"><code>gsasl_server_callback_maxbuf_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fmaxbuf_005fset"><code>gsasl_server_callback_maxbuf_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fqop_005fget"><code>gsasl_server_callback_qop_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fqop_005fset"><code>gsasl_server_callback_qop_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005frealm_005fget"><code>gsasl_server_callback_realm_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005frealm_005fset"><code>gsasl_server_callback_realm_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fretrieve_005fget"><code>gsasl_server_callback_retrieve_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fretrieve_005fset"><code>gsasl_server_callback_retrieve_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fsecurid_005fget"><code>gsasl_server_callback_securid_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fsecurid_005fset"><code>gsasl_server_callback_securid_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fservice_005fget"><code>gsasl_server_callback_service_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fservice_005fset"><code>gsasl_server_callback_service_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fvalidate_005fget"><code>gsasl_server_callback_validate_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fcallback_005fvalidate_005fset"><code>gsasl_server_callback_validate_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fctx_005fget"><code>gsasl_server_ctx_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005ffinish"><code>gsasl_server_finish</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005flistmech"><code>gsasl_server_listmech</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fmechlist"><code>gsasl_server_mechlist</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Global-Functions">Global Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fstart"><code>gsasl_server_start</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Session-Functions">Session Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fstep"><code>gsasl_server_step</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fstep_005fbase64"><code>gsasl_server_step_base64</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fsuggest_005fmechanism"><code>gsasl_server_suggest_mechanism</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fserver_005fsupport_005fp"><code>gsasl_server_support_p</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Global-Functions">Global Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fsession_005fhook_005fget"><code>gsasl_session_hook_get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Callback-Functions">Callback Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fsession_005fhook_005fset"><code>gsasl_session_hook_set</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Callback-Functions">Callback Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fsha1"><code>gsasl_sha1</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fsimple_005fgetpass"><code>gsasl_simple_getpass</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Utilities">Utilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fstep"><code>gsasl_step</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Session-Functions">Session Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fstep64"><code>gsasl_step64</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Session-Functions">Session Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fstrerror"><code>gsasl_strerror</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Error-strings">Error strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fstrerror_005fname"><code>gsasl_strerror_name</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Error-strings">Error strings</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fstringprep_005fnfkc"><code>gsasl_stringprep_nfkc</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fstringprep_005fsaslprep"><code>gsasl_stringprep_saslprep</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsasl_005fstringprep_005ftrace"><code>gsasl_stringprep_trace</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Function-and-Data-Index_fn_symbol-1"><b>(</b></a>
 &nbsp; 
<br>
<a class="summary-letter" href="#Function-and-Data-Index_fn_letter-G"><b>G</b></a>
 &nbsp; 
</td></tr></table>

<hr>
<a name="Concept-Index"></a>
<div class="header">
<p>
Previous: <a href="#Function-and-Data-Index" accesskey="p" rel="prev">Function and Data Index</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Function-and-Data-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a name="Concept-Index-1"></a>
<h2 class="unnumbered">Concept Index</h2>

<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Concept-Index_cp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-W"><b>W</b></a>
 &nbsp; 
</td></tr></table>
<table class="index-cp" border="0">
<tr><td></td><th align="left">Index Entry</th><td>&nbsp;</td><th align="left"> Section</th></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-AIX">AIX</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Autoconf-tests">Autoconf tests</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Autoconf-tests">Autoconf tests</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Callbacks">Callbacks</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Callback-Functions">Callback Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-channel-binding">channel binding</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Properties">Properties</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-channel-binding-1">channel binding</a>:</td><td>&nbsp;</td><td valign="top"><a href="#SCRAM">SCRAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-command-line">command line</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Invoking-gsasl">Invoking gsasl</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Compiling-your-application">Compiling your application</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Building-the-source">Building the source</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Configure-tests">Configure tests</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Autoconf-tests">Autoconf tests</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Contributing">Contributing</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Contributing">Contributing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CRAM_002dMD5">CRAM-MD5</a>:</td><td>&nbsp;</td><td valign="top"><a href="#CRAM_002dMD5">CRAM-MD5</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Debian">Debian</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Deprecated-functions">Deprecated functions</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DIGEST_002dMD5">DIGEST-MD5</a>:</td><td>&nbsp;</td><td valign="top"><a href="#DIGEST_002dMD5">DIGEST-MD5</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Download">Download</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Downloading-and-Installing">Downloading and Installing</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Error-Handling">Error Handling</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Error-Handling">Error Handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Examples">Examples</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Examples">Examples</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-FDL_002c-GNU-Free-Documentation-License">FDL, GNU Free Documentation License</a>:</td><td>&nbsp;</td><td valign="top"><a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FreeBSD">FreeBSD</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-G">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-GS2">GS2</a>:</td><td>&nbsp;</td><td valign="top"><a href="#GS2_002dKRB5">GS2-KRB5</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GS2_002dKRB5">GS2-KRB5</a>:</td><td>&nbsp;</td><td valign="top"><a href="#GS2_002dKRB5">GS2-KRB5</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GS2_002dKRB5_002dPLUS">GS2-KRB5-PLUS</a>:</td><td>&nbsp;</td><td valign="top"><a href="#GS2_002dKRB5">GS2-KRB5</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GSSAPI">GSSAPI</a>:</td><td>&nbsp;</td><td valign="top"><a href="#GSSAPI">GSSAPI</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Hacking">Hacking</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Contributing">Contributing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-HP_002dUX">HP-UX</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Identity-Provider-Identifier">Identity Provider Identifier</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Properties">Properties</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Installation">Installation</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Downloading-and-Installing">Downloading and Installing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-invoking-gsasl">invoking <code>gsasl</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Invoking-gsasl">Invoking gsasl</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-IRIX">IRIX</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-iteration-count">iteration count</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Properties">Properties</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-K">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-KERBEROS_005fV5">KERBEROS_V5</a>:</td><td>&nbsp;</td><td valign="top"><a href="#KERBEROS_005fV5">KERBEROS_V5</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Library-Overview">Library Overview</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-the-Library">Using the Library</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Mandrake">Mandrake</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Motorola-Coldfire">Motorola Coldfire</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-N">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-NetBSD">NetBSD</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-NTLM">NTLM</a>:</td><td>&nbsp;</td><td valign="top"><a href="#NTLM">NTLM</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Obsolete-functions">Obsolete functions</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Old-Functions">Old Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OpenBSD">OpenBSD</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OpenID">OpenID</a>:</td><td>&nbsp;</td><td valign="top"><a href="#OPENID20">OPENID20</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Overview">Overview</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Using-the-Library">Using the Library</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Properties">Properties</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Property-Functions">Property Functions</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-RedHat">RedHat</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-RedHat-1">RedHat</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-RedHat-2">RedHat</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-RedHat-Advanced-Server">RedHat Advanced Server</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Reporting-Bugs">Reporting Bugs</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Bug-Reports">Bug Reports</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-salt">salt</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Properties">Properties</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SAML">SAML</a>:</td><td>&nbsp;</td><td valign="top"><a href="#SAML20">SAML20</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SAML-IdP-Identifier">SAML IdP Identifier</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Properties">Properties</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SASL-sessions">SASL sessions</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Session-Functions">Session Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SCRAM">SCRAM</a>:</td><td>&nbsp;</td><td valign="top"><a href="#SCRAM">SCRAM</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SECURID">SECURID</a>:</td><td>&nbsp;</td><td valign="top"><a href="#SECURID">SECURID</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Solaris">Solaris</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Solaris-1">Solaris</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SuSE">SuSE</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SuSE-Linux">SuSE Linux</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-tls_002dunique">tls-unique</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Properties">Properties</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Tru64">Tru64</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-uClibc">uClibc</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-uClinux">uClinux</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th><a name="Concept-Index_cp_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Windows">Windows</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Supported-Platforms">Supported Platforms</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Concept-Index_cp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter" href="#Concept-Index_cp_letter-W"><b>W</b></a>
 &nbsp; 
</td></tr></table>

<div class="footnote">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h3><a name="FOOT1" href="#DOCF1">(1)</a></h3>
<p>Note that GNU SASL normally use its own internal
implementation of the cryptographic functions.  Take care to verify
that GNU SASL really use Libgcrypt, if this is what you want.</p>
</div>
<hr>



</body>
</html>
